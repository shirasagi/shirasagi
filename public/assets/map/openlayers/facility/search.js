(function(){this.Openlayers_Facility_Search=function(){function e(){}return e.render=function(e,t){var r,i,s,n;return null==t&&(t={}),n=function(e){var t,r,a;return t=e.offset().top,r=e.closest("#map-sidebar").offset().top,a=e.closest("#map-sidebar").scrollTop(),e.closest("#map-sidebar").animate({scrollTop:t-r+a},"fast")},r=$(e)[0],i=new Openlayers_Map(r,t),s=i.showPopup,i.showPopup=function(e,t){var r,a;return s.call(i,e,t),$("#map-sidebar .column").removeClass("current"),a=e.get("markerId"),(r=$('#map-sidebar .column[data-id="'+a+'"]')).addClass("current"),n(r)},$("#map-sidebar .column .click-marker").on("click",function(){var e,t,r;return t=parseInt($(this).closest(".column").attr("data-id")),$("#map-sidebar .column").removeClass("current"),(r=i.getMarker(t))&&(e=r.getGeometry().getCoordinates(),i.showPopup(r,e)),!1}),$(".filters a").on("click",function(){var n,e;return $(this).hasClass("clicked")?$(this).removeClass("clicked"):$(this).addClass("clicked"),n=[],$(".filters a.clicked").each(function(){return n.push(parseInt($(this).attr("data-id")))}),e=i.getMarkers(),$.each(e,function(){var e,t,r,a,s;return s=!1,e=this.get("category"),$.each(n,function(){if(0<=$.inArray(parseInt(this),e))return!(s=!0)}),t=this.get("markerId"),$('#map-sidebar .column[data-id="'+t+'"]'),i.popup.hide(),s?(r=this.get("iconSrc"),a=i.createMarkerStyle(r)):a=new ol.style.Style({}),this.setStyle(a)}),!1}),$(".filters .focus").on("change",function(){var a;return(a=$(this)).find("option:selected").each(function(){var e,t,r;return""!==$(this).val()&&(e=$(this).val().split(","),r=$(this).attr("data-zoom-level"),t=[parseFloat(e[1]),parseFloat(e[0])],i.setCenter(t),r&&i.setZoom(parseInt(r)),a.val(""))})})},e}()}).call(this);