(function(){this.Openlayers_Facility_Search=function(){function t(){}return t.render=function(t,e){var i,o,r,n;return null==e&&(e={}),n=function(t){var e,i,o;return e=t.offset().top,i=t.closest("#map-sidebar").offset().top,o=t.closest("#map-sidebar").scrollTop(),t.closest("#map-sidebar").animate({scrollTop:e-i+o},"fast")},i=$(t)[0],o=new Openlayers_Map(i,e),r=o.showPopup,o.showPopup=function(t,e){var i,s;return r.call(o,t,e),$("#map-sidebar .column").removeClass("current"),s=t.get("markerId"),i=$('#map-sidebar .column[data-id="'+s+'"]'),i.addClass("current"),n(i)},$("#map-sidebar .column .click-marker").on("click",function(){var t,e,i;return e=parseInt($(this).closest(".column").attr("data-id")),$("#map-sidebar .column").removeClass("current"),(i=o.getMarker(e))?(t=i.getGeometry().getCoordinates(),o.showPopup(i,t),!1):!1}),$(".filters a").on("click",function(){var t,e;return $(this).hasClass("clicked")?$(this).removeClass("clicked"):$(this).addClass("clicked"),t=[],$(".filters a.clicked").each(function(){return t.push(parseInt($(this).attr("data-id")))}),e=o.getMarkers(),$.each(e,function(){var e,i,r,n,s,a;return a=!1,e=this.get("category"),$.each(t,function(){return $.inArray(parseInt(this),e)>=0?(a=!0,!1):void 0}),r=this.get("markerId"),i=$('#map-sidebar .column[data-id="'+r+'"]'),o.popup.hide(),a?(n=this.get("iconSrc"),s=o.createMarkerStyle(n),this.setStyle(s)):(s=new ol.style.Style({}),this.setStyle(s))}),!1}),$(".filters .focus").on("change",function(){var t;return t=$(this),t.find("option:selected").each(function(){var e,i,r;return""===$(this).val()?!1:(e=$(this).val().split(","),r=$(this).attr("data-zoom-level"),i=[parseFloat(e[1]),parseFloat(e[0])],o.setCenter(i),r&&o.setZoom(parseInt(r)),t.val(""))})})},t}()}).call(this);