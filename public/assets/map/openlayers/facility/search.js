(function(){this.Openlayers_Facility_Search=function(){function t(){}return t.render=function(t,e){var o,i,r,n;return null==e&&(e={}),n=function(t){var e,o,i;return e=t.offset().top,o=t.closest("#map-sidebar").offset().top,i=t.closest("#map-sidebar").scrollTop(),t.closest("#map-sidebar").animate({scrollTop:e-o+i},"fast")},o=$(t)[0],i=new Openlayers_Map(o,e),r=i.showPopup,i.showPopup=function(t,e){var o,s;return r.call(i,t,e),$("#map-sidebar .column").removeClass("current"),s=t.get("markerId"),o=$('#map-sidebar .column[data-id="'+s+'"]'),o.addClass("current"),n(o)},$("#map-sidebar .column .click-marker").on("click",function(){var t,e,o;return e=parseInt($(this).closest(".column").attr("data-id")),$("#map-sidebar .column").removeClass("current"),(o=i.getMarker(e))?(t=o.getGeometry().getCoordinates(),i.showPopup(o,t),!1):!1}),$(".filters a").on("click",function(){var t,e;return $(this).hasClass("clicked")?$(this).removeClass("clicked"):$(this).addClass("clicked"),t=[],$(".filters a.clicked").each(function(){return t.push(parseInt($(this).attr("data-id")))}),e=i.getMarkers(),$.each(e,function(){var e,o,r,n,s,a;return a=!1,e=this.get("category"),$.each(t,function(){return $.inArray(parseInt(this),e)>=0?(a=!0,!1):void 0}),r=this.get("markerId"),o=$('#map-sidebar .column[data-id="'+r+'"]'),i.popup.hide(),a?(n=this.get("iconSrc"),s=i.createMarkerStyle(n),this.setStyle(s)):(s=new ol.style.Style({}),this.setStyle(s))}),!1}),$(".filters .focus").on("change",function(){var t;return t=$(this),t.find("option:selected").each(function(){var e,o,r;return""===$(this).val()?!1:(e=$(this).val().split(","),r=$(this).attr("data-zoom-level"),o=[parseFloat(e[1]),parseFloat(e[0])],i.setCenter(o),r&&i.setZoom(parseInt(r)),t.val(""))})})},t}()}).call(this);