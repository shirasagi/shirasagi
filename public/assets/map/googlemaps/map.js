this.Googlemaps_Map=function(){function s(){}return s.map=null,s.form=null,s.center=[36.204824,138.252924],s.defaultZoom=13,s.zoom=-1,s.markers=null,s.openedInfo=null,s.resized=null,s.kmlLayer=null,s.attachMessage=function(e){return google.maps.event.addListener(s.markers[e].marker,"click",function(){return s.openedInfo&&s.openedInfo.close(),s.markers[e].window&&s.markers[e].window.open(s.markers[e].marker.getMap(),s.markers[e].marker),s.openedInfo=s.markers[e].window}),google.maps.event.addListener(s.markers[e].window,"closeclick",function(){return s.openedInfo=null})},s.setForm=function(e){return this.form=e},s.load=function(e,o){o&&o.zoom&&(s.zoom=o.zoom);var n={center:new google.maps.LatLng(this.center[0],this.center[1]),zoom:s.getZoom(),mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeControl:!0,scaleControl:!0,scrollwheel:!0,streetViewControl:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!0}};s.map=new google.maps.Map($(e).get(0),n)},s.getZoom=function(){return 0<=s.zoom?s.zoom:s.defaultZoom},s.resize=function(){return google.maps.event.trigger(this.map,"resize"),this.resized||(this.map.setCenter(new google.maps.LatLng(this.center[0],this.center[1])),this.form&&this.form.renderMarkers()),this.resized=!0},s.renderMarkers=function(){if(this.form)return this.form.renderMarkers()},s.renderEvents=function(){if(this.form)return this.form.renderEvents()},s.setMarkers=function(e){var a;s.markers=e,a=new google.maps.LatLngBounds,$.each(s.markers,function(e,o){var n,r,t;o.image?s.markers[e].marker=new google.maps.Marker({position:new google.maps.LatLng(o.loc[0],o.loc[1]),icon:o.image,map:s.map}):s.markers[e].marker=new google.maps.Marker({position:new google.maps.LatLng(o.loc[0],o.loc[1]),map:s.map}),a.extend(new google.maps.LatLng(o.loc[0],o.loc[1])),o.html?(n=o.html,s.markers[e].window=new google.maps.InfoWindow({content:n}),s.attachMessage(e)):(o.name||o.text)&&(r=o.name,t=o.text,n='<div class="marker-info">',r&&""!==r&&(n+="<p>"+r+"</p>",t&&""!==t&&$.each(t.split(/[\r\n]+/),function(){return this.match(/^https?:\/\//)?n+='<p><a href="'+this+'">'+this+"</a></p>":n+="<p>"+this+"</p>"})),n+="</div>",s.markers[e].window=new google.maps.InfoWindow({content:n}),s.attachMessage(e))}),s.adjustMarkerBounds(s.markers.length,a)},s.setKmlLayer=function(e){s.kmlLayer=new google.maps.KmlLayer({url:e,suppressInfoWindows:!0,preserveViewport:!1})},s.setGeoJson=function(e){s.map.data.setStyle({fillColor:"#b2c9e8",strokeColor:"#5A88C6",strokeWeight:1}),s.map.data.loadGeoJson(e,{},function(e){var o=new google.maps.LatLngBounds,n=[];e.forEach(function(e){e.getGeometry().forEachLatLng(function(e){o.extend(e),n.push(e)})}),s.adjustMarkerBounds(n.length,o)})},s.adjustMarkerBounds=function(e,o){e<=0?s.map.setCenter(new google.maps.LatLng(s.center[0],s.center[1])):s.zoom<0?s.map.fitBounds(o):(s.map.setCenter(o.getCenter()),s.map.setZoom(s.zoom))},s}();