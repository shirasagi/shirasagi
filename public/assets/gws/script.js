//! moment.js
//! version : 2.11.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
//  Copyright (c) 2002 M.Inamori,All rights reserved.
function sprintf(){var e=sprintf.arguments,t=e.length;if(0==t)return"";var n,r,i,s="",o=e[0],a=o.length;n=0;for(var l,u,c=1,d=0,h=0;a>h;h++){var p=o.charAt(h);switch(d){case 0:"%"==p?(l=p,d=1,u=""):s+=p;break;case 1:if("%"==p){s+=p,d=0;break}switch(c>=t&&(e[t++]=""),r=0,i=-1,p){case"-":n|=1,d=1;break;case"+":n|=2,d=1;break;case"0":n|=4,d=2;break;case" ":n|=8,d=1;break;case"#":n|=16,d=1;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=parseInt(p),d=2;break;case"-":n=1,d=2;break;case".":r="",i=0,d=3;break;case"d":s+=toInteger(e[c],n,r,i),c++,d=0;break;case"f":s+=toFloatingPoint(e[c],n,r,6),c++,d=0;break;case"e":s+=toExponential(e[c],n,r,6,"e"),c++,d=0;break;case"E":s+=toExponential(e[c],n,r,6,"E"),c++,d=0;break;case"s":s+=e[c],c++,d=0;break;default:s+=u+p,d=0}break;case 2:switch(p){case".":i=0,d=3;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=10*r+parseInt(p),d=2;break;case"d":s+=toInteger(e[c],n,r,i),c++,d=0;break;case"f":s+=toFloatingPoint(e[c],n,r,6),c++,d=0;break;case"e":s+=toExponential(e[c],n,r,6,"e"),c++,d=0;break;case"E":s+=toExponential(e[c],n,r,6,"E"),c++,d=0;break;case"s":s+=toFormatString(e[c],r,i),c++,d=0;break;default:s+=u+p,d=0}break;case 3:switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=10*i+parseInt(p);break;case"d":s+=toInteger(e[c],n,r,i),c++,d=0;break;case"f":s+=toFloatingPoint(e[c],n,r,i),c++,d=0;break;case"e":s+=toExponential(e[c],n,r,i,"e"),c++,d=0;break;case"E":s+=toExponential(e[c],n,r,i,"E"),c++,d=0;break;case"s":s+=toFormatString(e[c],r,i),c++,d=0;break;default:s+=u+p,d=0}break;default:return"error"}d&&(u+=p)}return s}function toInteger(e,t,n,r){"number"!=typeof e&&("string"==typeof e?(e=parseFloat(e),isNaN(e)&&(e=0)):e=0);var i=e.toString();if(e>-1&&1>e)i="0";else{0>e&&(i=i.substring(1));var s=i.indexOf("e");if(-1!=s){var o=parseInt(i.substring(s+2)),a=i.indexOf(".");for(-1==a?(i=i.substring(0,s)+"000000000000000000000",o-=21):(i=i.substring(0,a)+i.substring(a+1,s)+"00000",o-=i.length-a);o;o--)i+="0"}else{var a=i.indexOf(".");-1!=a&&(i=i.substring(0,a))}}var l=i.length;if(r>l){for(var u="0",c=r-l;c;c--)i=u+i;l=r}return ProcFlag(i,t,n-l,e>=0)}function toFloatingPoint(e,t,n,r){"number"!=typeof e&&("string"==typeof e?(e=parseFloat(e),isNaN(e)&&(e=0)):e=0);var i=e>=0;return i||(e=-e),str=toFloatingPoint2(e,t,r),ProcFlag(str,t,n-str.length,i)}function toFloatingPoint2(e,t,n){var r=e.toString(),i=r.indexOf("e");if(-1!=i){var s=parseInt(r.substring(i+1));if(s>0){var o=r.indexOf(".");for(-1==o?(r=r.substring(0,i)+"000000000000000000000",s-=21):(r=r.charAt(0)+r.substring(2,i)+"00000",s-=r.length-1);s;s--)r+="0"}else{var a=s+n;if(-1>a)r="0";else if(a>=0){r=r.substring(0,i);var o=r.indexOf(".");for(-1!=o&&(r=r.charAt(0)+r.substring(2,i)),r="000000"+r,s+=7;s;s++)r="0"+r;r="0."+r}else{var l=parseFloat(r.substring(0,i));if(l>5){r="0.00000";for(var u=s+7;u;u++)r+="0";r+="1"}else r="0"}}}var c=r.length,o=r.indexOf(".");if(-1!=o){var d=c-o-1;if(d>n){var l=parseFloat(r.charAt(o+n+1)+"."+r.substring(o+n+2));if(l>5){var u;if(1>e){for(u=2;"0"==r.charAt(u);)u++;l=(parseInt(r.substring(u,n+2))+1).toString(),r=l.length>n+2-u?2==u?"1."+l.substring(1):r.substring(0,u-1)+l:r.substring(0,u)+l}else l=(parseInt(r.substring(0,o)+r.substring(o+1,o+n+1))+1).toString(),r=l.length>o+n?l.substring(0,o+1)+"."+l.substring(o+1):l.substring(0,o)+"."+l.substring(o)}else r=r.substring(0,n?o+n+1:o)}else if(n>d)for(var u=n-d;u;u--)r+="0"}else if(n){r+=".0";for(var u=n-1;u;u--)r+="0"}return r}function toExponential(e,t,n,r,i){"number"!=typeof e&&("string"==typeof e?(e=parseFloat(e),isNaN(e)&&(e=0)):e=0);var s=e>=0;s||(e=-e);var o,a=e.toString(),l=a.indexOf("."),u=a.indexOf("e"),c=((-1!=u)<<1)+(-1!=l);if(0==c)(o=a.length-1)&&(a=a.charAt(0)+"."+a.substring(l=1));else if(1==c)if(e>10)o=l-1,a=a.substring(0,1)+"."+a.substring(1,l)+a.substring(l+1),l=1;else if(e>1)o=0;else{for(var d=2;;d++)if("0"!=a.charAt(d)){o=1-d,a=a.charAt(d)+"."+a.substring(d+1);break}l=1}else o=parseInt(a.substring(u+1)),a=a.substring(0,u);return a=toFloatingPoint2(parseFloat(a),t,r),a+=o>=0?i+(10>o?"+0":"+")+o:i+(o>-10?"-0"+-o:o),a=ProcFlag(a,t,n-a.length,s)}function toFormatString(e,t,n){"string"!=typeof e&&(e=e.toString());var r=e.length;if(n>=0&&r>n&&(e=e.substring(0,n),r=n),t>r)for(var i=" ",s=t-r;s;s--)e=i+e;return e}function ProcFlag(e,t,n,r){var i=1&t,s=2&t,o=8&t;if(o&&n--,n-=!r+s>0,(4&t)>0&&!i){if(n>0)for(var a="0",l=n;l;l--)e=a+e;r?s&&(e="+"+e):e="-"+e}else{r?s&&(e="+"+e):e="-"+e;var a=" ";if(n>0){var a=" ";if(i)for(var l=n;l;l--)e+=a;else for(var l=n;l;l--)e=a+e}}return o&&(e=" "+e),e}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Bn.apply(null,arguments)}function t(e){Bn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,r){return Ce(e,t,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?o(u(t),e):u(t).userInvalidated=!0,t}function h(e){return void 0===e}function p(e,t){var n,r,i;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=u(t)),h(t._locale)||(e._locale=t._locale),Gn.length>0)for(n in Gn)r=Gn[n],i=t[r],h(i)||(e[r]=i);return e}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Yn===!1&&(Yn=!0,e.updateOffset(this),Yn=!1)}function m(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&o++;return o+s}function b(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function S(e){for(var t,n,r,i,s=0;s<e.length;){for(i=w(e[s]).split("-"),t=i.length,n=w(e[s+1]),n=n?n.split("-"):null;t>0;){if(r=x(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}s++}return null}function x(e){var t=null;if(!Vn[e]&&!h(module)&&module&&module.exports)try{t=qn._abbr,require("./locale/"+e),_(t)}catch(n){}return Vn[e]}function _(e,t){var n;return e&&(n=h(t)?C(e):k(e,t),n&&(qn=n)),qn._abbr}function k(e,t){return null!==t?(t.abbr=e,Vn[e]=Vn[e]||new b,Vn[e].set(t),_(e),Vn[e]):(delete Vn[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return qn;if(!n(e)){if(t=x(e))return t;e=[e]}return S(e)}function T(e,t){var n=e.toLowerCase();Un[n]=Un[n+"s"]=Un[t]=e}function D(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function E(e){var t,n,r={};for(n in e)s(e,n)&&(t=D(n),t&&(r[t]=e[n]));return r}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(t,n){return function(r){return null!=r?(j(this,t,r),e.updateOffset(this,n),this):H(this,t)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function j(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=D(e),M(this[e]))return this[e](t);return this}function F(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function I(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Qn[e]=i),t&&(Qn[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(Qn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function O(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,r=e.match(Xn);for(t=0,n=r.length;n>t;t++)Qn[r[t]]?r[t]=Qn[r[t]]:r[t]=O(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function A(e,t){return e.isValid()?(t=N(t,e.localeData()),Zn[t]=Zn[t]||L(t),Zn[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Jn.lastIndex=0;r>=0&&Jn.test(e);)e=e.replace(Jn,n),Jn.lastIndex=0,r-=1;return e}function W(e,t,n){gr[e]=M(t)?t:function(e){return e&&n?n:t}}function $(e,t){return s(gr,e)?gr[e](t._strict,t._locale):new RegExp(z(e))}function z(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)vr[e[n]]=r}function q(e,t){B(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function G(e,t,n){null!=t&&s(vr,e)&&vr[e](t,n._a,n,e)}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function V(e,t){return n(this._months)?this._months[e.month()]:this._months[Dr.test(t)?"format":"standalone"][e.month()]}function U(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Dr.test(t)?"format":"standalone"][e.month()]}function X(e,t,n){var r,i,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=a([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function J(e,t){var n;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e):e}function Z(t){return null!=t?(J(this,t),e.updateOffset(this,!0),this):H(this,"Month")}function Q(){return Y(this.year(),this.month())}function K(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[br]<0||n[br]>11?br:n[wr]<1||n[wr]>Y(n[yr],n[br])?wr:n[Sr]<0||n[Sr]>24||24===n[Sr]&&(0!==n[xr]||0!==n[_r]||0!==n[kr])?Sr:n[xr]<0||n[xr]>59?xr:n[_r]<0||n[_r]>59?_r:n[kr]<0||n[kr]>999?kr:-1,u(e)._overflowDayOfYear&&(yr>t||t>wr)&&(t=wr),u(e)._overflowWeeks&&-1===t&&(t=Cr),u(e)._overflowWeekday&&-1===t&&(t=Tr),u(e).overflow=t),e}function ee(t){e.suppressDeprecationWarnings===!1&&!h(console)&&console.warn&&console.warn("Deprecation warning: "+t)}function te(e,t){var n=!0;return o(function(){return n&&(ee(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ne(e,t){Rr[e]||(ee(t),Rr[e]=!0)}function re(e){var t,n,r,i,s,o,a=e._i,l=Hr.exec(a)||jr.exec(a);if(l){for(u(e).iso=!0,t=0,n=Fr.length;n>t;t++)if(Fr[t][1].exec(l[1])){i=Fr[t][0],r=Fr[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ir.length;n>t;t++)if(Ir[t][1].exec(l[3])){s=(l[2]||" ")+Ir[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Pr.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),ye(e)}else e._isValid=!1}function ie(t){var n=Or.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(re(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function se(e,t,n,r,i,s,o){var a=new Date(e,t,n,r,i,s,o);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ae(e){return le(e)?366:365}function le(e){return e%4===0&&e%100!==0||e%400===0}function ue(){return le(this.year())}function ce(e,t,n){var r=7+t-n,i=(7+oe(e,0,r).getUTCDay()-t)%7;return-i+r-1}function de(e,t,n,r,i){var s,o,a=(7+n-r)%7,l=ce(e,r,i),u=1+7*(t-1)+a+l;return 0>=u?(s=e-1,o=ae(s)+u):u>ae(e)?(s=e+1,o=u-ae(e)):(s=e,o=u),{year:s,dayOfYear:o}}function he(e,t,n){var r,i,s=ce(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return 1>o?(i=e.year()-1,r=o+pe(i,t,n)):o>pe(e.year(),t,n)?(r=o-pe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function pe(e,t,n){var r=ce(e,t,n),i=ce(e+1,t,n);return(ae(e)-r+i)/7}function fe(e,t,n){return null!=e?e:null!=t?t:n}function me(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ge(e){var t,n,r,i,s=[];if(!e._d){for(r=me(e),e._w&&null==e._a[wr]&&null==e._a[br]&&ve(e),e._dayOfYear&&(i=fe(e._a[yr],r[yr]),e._dayOfYear>ae(i)&&(u(e)._overflowDayOfYear=!0),n=oe(i,0,e._dayOfYear),e._a[br]=n.getUTCMonth(),e._a[wr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Sr]&&0===e._a[xr]&&0===e._a[_r]&&0===e._a[kr]&&(e._nextDay=!0,e._a[Sr]=0),e._d=(e._useUTC?oe:se).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Sr]=24)}}function ve(e){var t,n,r,i,s,o,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,n=fe(t.GG,e._a[yr],he(Te(),1,4).year),r=fe(t.W,1),i=fe(t.E,1),(1>i||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,n=fe(t.gg,e._a[yr],he(Te(),s,o).year),r=fe(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(l=!0)):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),1>r||r>pe(n,s,o)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(a=de(n,r,i,s,o),e._a[yr]=a.year,e._dayOfYear=a.dayOfYear)}function ye(t){if(t._f===e.ISO_8601)return void re(t);t._a=[],u(t).empty=!0;var n,r,i,s,o,a=""+t._i,l=a.length,c=0;for(i=N(t._f,t._locale).match(Xn)||[],n=0;n<i.length;n++)s=i[n],r=(a.match($(s,t))||[])[0],r&&(o=a.substr(0,a.indexOf(r)),o.length>0&&u(t).unusedInput.push(o),a=a.slice(a.indexOf(r)+r.length),c+=r.length),Qn[s]?(r?u(t).empty=!1:u(t).unusedTokens.push(s),G(s,r,t)):t._strict&&!r&&u(t).unusedTokens.push(s);u(t).charsLeftOver=l-c,a.length>0&&u(t).unusedInput.push(a),u(t).bigHour===!0&&t._a[Sr]<=12&&t._a[Sr]>0&&(u(t).bigHour=void 0),t._a[Sr]=be(t._locale,t._a[Sr],t._meridiem),ge(t),K(t)}function be(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function we(e){var t,n,r,i,s;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ye(t),c(t)&&(s+=u(t).charsLeftOver,s+=10*u(t).unusedTokens.length,u(t).score=s,(null==r||r>s)&&(r=s,n=t));o(e,n||t)}function Se(e){if(!e._d){var t=E(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ge(e)}}function xe(e){var t=new f(K(_e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _e(e){var t=e._i,i=e._f;return e._locale=e._locale||C(e._l),null===t||void 0===i&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new f(K(t)):(n(i)?we(e):i?ye(e):r(t)?e._d=t:ke(e),c(e)||(e._d=null),e))}function ke(t){var s=t._i;void 0===s?t._d=new Date(e.now()):r(s)?t._d=new Date(+s):"string"==typeof s?ie(t):n(s)?(t._a=i(s.slice(0),function(e){return parseInt(e,10)}),ge(t)):"object"==typeof s?Se(t):"number"==typeof s?t._d=new Date(s):e.createFromInputFallback(t)}function Ce(e,t,n,r,i){var s={};return"boolean"==typeof n&&(r=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,xe(s)}function Te(e,t,n,r){return Ce(e,t,n,r,!1)}function De(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Te();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function Ee(){var e=[].slice.call(arguments,0);return De("isBefore",e)}function Me(){var e=[].slice.call(arguments,0);return De("isAfter",e)}function Re(e){var t=E(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=C(),this._bubble()}function He(e){return e instanceof Re}function je(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Pe(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match($r)||["-",0,0],s=+(60*i[1])+v(i[2]);return"+"===i[0]?s:-s}function Fe(t,n){var i,s;return n._isUTC?(i=n.clone(),s=(m(t)||r(t)?+t:+Te(t))-+i,i._d.setTime(+i._d+s),e.updateOffset(i,!1),i):Te(t).local()}function Ie(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Oe(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Pe(pr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Ie(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Qe(this,Ve(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ie(this):null!=t?this:NaN}function Le(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ae(e){return this.utcOffset(0,e)}function Ne(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),"m")),this}function We(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pe(hr,this._i)),this}function $e(e){return this.isValid()?(e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Be(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(p(e,this),e=_e(e),e._a){var t=e._isUTC?a(e._a):Te(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qe(){return this.isValid()?!this._isUTC:!1}function Ge(){return this.isValid()?this._isUTC:!1}function Ye(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ve(e,t){var n,r,i,o=e,a=null;return He(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=zr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[wr])*n,h:v(a[Sr])*n,m:v(a[xr])*n,s:v(a[_r])*n,ms:v(a[kr])*n}):(a=Br.exec(e))?(n="-"===a[1]?-1:1,o={y:Ue(a[2],n),M:Ue(a[3],n),d:Ue(a[4],n),h:Ue(a[5],n),m:Ue(a[6],n),s:Ue(a[7],n),w:Ue(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Je(Te(o.from),Te(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Re(o),He(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function Ue(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Je(e,t){var n;return e.isValid()&&t.isValid()?(t=Fe(t,e),e.isBefore(t)?n=Xe(e,t):(n=Xe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ze(e,t){return function(n,r){var i,s;return null===r||isNaN(+r)||(ne(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n="string"==typeof n?+n:n,i=Ve(n,r),Qe(this,i,e),this}}function Qe(t,n,r,i){var s=n._milliseconds,o=n._days,a=n._months;t.isValid()&&(i=null==i?!0:i,s&&t._d.setTime(+t._d+s*r),o&&j(t,"Date",H(t,"Date")+o*r),a&&J(t,H(t,"Month")+a*r),i&&e.updateOffset(t,o||a))}function Ke(e,t){var n=e||Te(),r=Fe(n,this).startOf("day"),i=this.diff(r,"days",!0),s=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",o=t&&(M(t[s])?t[s]():t[s]);return this.format(o||this.localeData().calendar(s,this,Te(n)))}function et(){return new f(this)}function tt(e,t){var n=m(e)?e:Te(e);return this.isValid()&&n.isValid()?(t=D(h(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t)):!1}function nt(e,t){var n=m(e)?e:Te(e);return this.isValid()&&n.isValid()?(t=D(h(t)?"millisecond":t),"millisecond"===t?+n>+this:+this.clone().endOf(t)<+n):!1}function rt(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function it(e,t){var n,r=m(e)?e:Te(e);return this.isValid()&&r.isValid()?(t=D(t||"millisecond"),"millisecond"===t?+this===+r:(n=+r,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))):!1}function st(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ot(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function at(e,t,n){var r,i,s,o;return this.isValid()?(r=Fe(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=D(t),"year"===t||"month"===t||"quarter"===t?(o=lt(this,r),"quarter"===t?o/=3:"year"===t&&(o/=12)):(s=this-r,o="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-i)/864e5:"week"===t?(s-i)/6048e5:s),n?o:g(o)):NaN):NaN}function lt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return 0>t-s?(n=e.clone().add(i-1,"months"),r=(t-s)/(s-n)):(n=e.clone().add(i+1,"months"),r=(t-s)/(n-s)),-(i+r)}function ut(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ct(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?M(Date.prototype.toISOString)?this.toDate().toISOString():A(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dt(t){var n=A(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ht(e,t){return this.isValid()&&(m(e)&&e.isValid()||Te(e).isValid())?Ve({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.from(Te(),e)}function ft(e,t){return this.isValid()&&(m(e)&&e.isValid()||Te(e).isValid())?Ve({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.to(Te(),e)}function gt(e){var t;return void 0===e?this._locale._abbr:(t=C(e),null!=t&&(this._locale=t),this)}function vt(){return this._locale}function yt(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bt(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function St(){return Math.floor(+this/1e3)}function xt(){return this._offset?new Date(+this):this._d}function _t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ct(){return this.isValid()?this.toISOString():"null"}function Tt(){return c(this)}function Dt(){return o({},u(this))}function Et(){return u(this).overflow}function Mt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Rt(e,t){I(0,[e,e.length],0,t)}function Ht(e){return It.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jt(e){return It.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Pt(){return pe(this.year(),1,4)}function Ft(){var e=this.localeData()._week;return pe(this.year(),e.dow,e.doy)}function It(e,t,n,r,i){var s;return null==e?he(this,r,i).year:(s=pe(e,r,i),t>s&&(t=s),Ot.call(this,e,t,n,r,i))}function Ot(e,t,n,r,i){var s=de(e,t,n,r,i),o=oe(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Lt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function At(e){return he(e,this._week.dow,this._week.doy).week}function Nt(){return this._week.dow}function Wt(){return this._week.doy}function $t(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function zt(e){var t=he(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Bt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function qt(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Gt(e){return this._weekdaysShort[e.day()]}function Yt(e){return this._weekdaysMin[e.day()]}function Vt(e,t,n){var r,i,s;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=Te([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Bt(e,this.localeData()),this.add(e-t,"d")):t}function Xt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Jt(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function Zt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Qt(){return this.hours()%12||12}function Kt(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}function nn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function rn(e,t){t[kr]=v(1e3*("0."+e))}function sn(){return this._isUTC?"UTC":""}function on(){return this._isUTC?"Coordinated Universal Time":""}function an(e){return Te(1e3*e)}function ln(){return Te.apply(null,arguments).parseZone()}function un(e,t,n){var r=this._calendar[e];return M(r)?r.call(t,n):r}function cn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function dn(){return this._invalidDate}function hn(e){return this._ordinal.replace("%d",e)}function pn(e){return e}function fn(e,t,n,r){var i=this._relativeTime[n];return M(i)?i(e,t,n,r):i.replace(/%d/i,e)}function mn(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)}function gn(e){var t,n;for(n in e)t=e[n],M(t)?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function vn(e,t,n,r){var i=C(),s=a().set(r,t);return i[n](s,e)}function yn(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return vn(e,t,n,i);var s,o=[];for(s=0;r>s;s++)o[s]=vn(e,s,n,i);return o}function bn(e,t){return yn(e,t,"months",12,"month")}function wn(e,t){return yn(e,t,"monthsShort",12,"month")}function Sn(e,t){return yn(e,t,"weekdays",7,"day")}function xn(e,t){return yn(e,t,"weekdaysShort",7,"day")}function _n(e,t){return yn(e,t,"weekdaysMin",7,"day")}function kn(){var e=this._data;return this._milliseconds=pi(this._milliseconds),this._days=pi(this._days),this._months=pi(this._months),e.milliseconds=pi(e.milliseconds),e.seconds=pi(e.seconds),e.minutes=pi(e.minutes),e.hours=pi(e.hours),e.months=pi(e.months),e.years=pi(e.years),this}function Cn(e,t,n,r){var i=Ve(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Tn(e,t){return Cn(this,e,t,1)}function Dn(e,t){return Cn(this,e,t,-1)}function En(e){return 0>e?Math.floor(e):Math.ceil(e)}function Mn(){var e,t,n,r,i,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*En(Hn(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=g(s/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,o+=g(n/24),i=g(Rn(o)),a+=i,o-=En(Hn(i)),r=g(a/12),a%=12,l.days=o,l.months=a,l.years=r,this}function Rn(e){return 4800*e/146097}function Hn(e){return 146097*e/4800}function jn(e){var t,n,r=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Rn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Hn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Pn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Fn(e){return function(){return this.as(e)}}function In(e){return e=D(e),this[e+"s"]()}function On(e){return function(){return this._data[e]}}function Ln(){return g(this.days()/7)}function An(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Nn(e,t,n){var r=Ve(e).abs(),i=Mi(r.as("s")),s=Mi(r.as("m")),o=Mi(r.as("h")),a=Mi(r.as("d")),l=Mi(r.as("M")),u=Mi(r.as("y")),c=i<Ri.s&&["s",i]||1>=s&&["m"]||s<Ri.m&&["mm",s]||1>=o&&["h"]||o<Ri.h&&["hh",o]||1>=a&&["d"]||a<Ri.d&&["dd",a]||1>=l&&["M"]||l<Ri.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,An.apply(null,c)}function Wn(e,t){return void 0===Ri[e]?!1:void 0===t?Ri[e]:(Ri[e]=t,!0)}function $n(e){var t=this.localeData(),n=Nn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function zn(){var e,t,n,r=Hi(this._milliseconds)/1e3,i=Hi(this._days),s=Hi(this._months);e=g(r/60),t=g(e/60),r%=60,e%=60,n=g(s/12),s%=12;var o=n,a=s,l=i,u=t,c=e,d=r,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Bn,qn,Gn=e.momentProperties=[],Yn=!1,Vn={},Un={},Xn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Zn={},Qn={},Kn=/\d/,er=/\d\d/,tr=/\d{3}/,nr=/\d{4}/,rr=/[+-]?\d{6}/,ir=/\d\d?/,sr=/\d\d\d\d?/,or=/\d\d\d\d\d\d?/,ar=/\d{1,3}/,lr=/\d{1,4}/,ur=/[+-]?\d{1,6}/,cr=/\d+/,dr=/[+-]?\d+/,hr=/Z|[+-]\d\d:?\d\d/gi,pr=/Z|[+-]\d\d(?::?\d\d)?/gi,fr=/[+-]?\d+(\.\d{1,3})?/,mr=/[0-9]*(a[mn]\s?)?['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,gr={},vr={},yr=0,br=1,wr=2,Sr=3,xr=4,_r=5,kr=6,Cr=7,Tr=8;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),W("M",ir),W("MM",ir,er),W("MMM",mr),W("MMMM",mr),B(["M","MM"],function(e,t){t[br]=v(e)-1}),B(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[br]=i:u(n).invalidMonth=e});var Dr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Er="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),Rr={};
e.suppressDeprecationWarnings=!1;var Hr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,jr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Pr=/Z|[+-]\d\d(?::?\d\d)?/,Fr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ir=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Or=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=te("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),T("year","y"),W("Y",dr),W("YY",ir,er),W("YYYY",lr,nr),W("YYYYY",ur,rr),W("YYYYYY",ur,rr),B(["YYYYY","YYYYYY"],yr),B("YYYY",function(t,n){n[yr]=2===t.length?e.parseTwoDigitYear(t):v(t)}),B("YY",function(t,n){n[yr]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Lr=R("FullYear",!1);e.ISO_8601=function(){};var Ar=te("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),Nr=te("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),Wr=Date.now||function(){return+new Date};je("Z",":"),je("ZZ",""),W("Z",pr),W("ZZ",pr),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Pe(pr,e)});var $r=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var zr=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Br=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ve.fn=Re.prototype;var qr=Ze(1,"add"),Gr=Ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Yr=te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Rt("gggg","weekYear"),Rt("ggggg","weekYear"),Rt("GGGG","isoWeekYear"),Rt("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),W("G",dr),W("g",dr),W("GG",ir,er),W("gg",ir,er),W("GGGG",lr,nr),W("gggg",lr,nr),W("GGGGG",ur,rr),W("ggggg",ur,rr),q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),q(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),I("Q",0,"Qo","quarter"),T("quarter","Q"),W("Q",Kn),B("Q",function(e,t){t[br]=3*(v(e)-1)}),I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),W("w",ir),W("ww",ir,er),W("W",ir),W("WW",ir,er),q(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var Vr={dow:0,doy:6};I("D",["DD",2],"Do","date"),T("date","D"),W("D",ir),W("DD",ir,er),W("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),B(["D","DD"],wr),B("Do",function(e,t){t[wr]=v(e.match(ir)[0],10)});var Ur=R("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),W("d",ir),W("e",ir),W("E",ir),W("dd",mr),W("ddd",mr),W("dddd",mr),q(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:u(n).invalidWeekday=e}),q(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var Xr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),W("DDD",ar),W("DDDD",tr),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Qt),I("hmm",0,0,function(){return""+Qt.apply(this)+F(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Qt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),T("hour","h"),W("a",en),W("A",en),W("H",ir),W("h",ir),W("HH",ir,er),W("hh",ir,er),W("hmm",sr),W("hmmss",or),W("Hmm",sr),W("Hmmss",or),B(["H","HH"],Sr),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[Sr]=v(e),u(n).bigHour=!0}),B("hmm",function(e,t,n){var r=e.length-2;t[Sr]=v(e.substr(0,r)),t[xr]=v(e.substr(r)),u(n).bigHour=!0}),B("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Sr]=v(e.substr(0,r)),t[xr]=v(e.substr(r,2)),t[_r]=v(e.substr(i)),u(n).bigHour=!0}),B("Hmm",function(e,t,n){var r=e.length-2;t[Sr]=v(e.substr(0,r)),t[xr]=v(e.substr(r))}),B("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Sr]=v(e.substr(0,r)),t[xr]=v(e.substr(r,2)),t[_r]=v(e.substr(i))});var Qr=/[ap]\.?m?\.?/i,Kr=R("Hours",!0);I("m",["mm",2],0,"minute"),T("minute","m"),W("m",ir),W("mm",ir,er),B(["m","mm"],xr);var ei=R("Minutes",!1);I("s",["ss",2],0,"second"),T("second","s"),W("s",ir),W("ss",ir,er),B(["s","ss"],_r);var ti=R("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),W("S",ar,Kn),W("SS",ar,er),W("SSS",ar,tr);var ni;for(ni="SSSS";ni.length<=9;ni+="S")W(ni,cr);for(ni="S";ni.length<=9;ni+="S")B(ni,rn);var ri=R("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var ii=f.prototype;ii.add=qr,ii.calendar=Ke,ii.clone=et,ii.diff=at,ii.endOf=bt,ii.format=dt,ii.from=ht,ii.fromNow=pt,ii.to=ft,ii.toNow=mt,ii.get=P,ii.invalidAt=Et,ii.isAfter=tt,ii.isBefore=nt,ii.isBetween=rt,ii.isSame=it,ii.isSameOrAfter=st,ii.isSameOrBefore=ot,ii.isValid=Tt,ii.lang=Yr,ii.locale=gt,ii.localeData=vt,ii.max=Nr,ii.min=Ar,ii.parsingFlags=Dt,ii.set=P,ii.startOf=yt,ii.subtract=Gr,ii.toArray=_t,ii.toObject=kt,ii.toDate=xt,ii.toISOString=ct,ii.toJSON=Ct,ii.toString=ut,ii.unix=St,ii.valueOf=wt,ii.creationData=Mt,ii.year=Lr,ii.isLeapYear=ue,ii.weekYear=Ht,ii.isoWeekYear=jt,ii.quarter=ii.quarters=Lt,ii.month=Z,ii.daysInMonth=Q,ii.week=ii.weeks=$t,ii.isoWeek=ii.isoWeeks=zt,ii.weeksInYear=Ft,ii.isoWeeksInYear=Pt,ii.date=Ur,ii.day=ii.days=Ut,ii.weekday=Xt,ii.isoWeekday=Jt,ii.dayOfYear=Zt,ii.hour=ii.hours=Kr,ii.minute=ii.minutes=ei,ii.second=ii.seconds=ti,ii.millisecond=ii.milliseconds=ri,ii.utcOffset=Oe,ii.utc=Ae,ii.local=Ne,ii.parseZone=We,ii.hasAlignedHourOffset=$e,ii.isDST=ze,ii.isDSTShifted=Be,ii.isLocal=qe,ii.isUtcOffset=Ge,ii.isUtc=Ye,ii.isUTC=Ye,ii.zoneAbbr=sn,ii.zoneName=on,ii.dates=te("dates accessor is deprecated. Use date instead.",Ur),ii.months=te("months accessor is deprecated. Use month instead",Z),ii.years=te("years accessor is deprecated. Use year instead",Lr),ii.zone=te("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Le);var si=ii,oi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ai={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},li="Invalid date",ui="%d",ci=/\d{1,2}/,di={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},hi=b.prototype;hi._calendar=oi,hi.calendar=un,hi._longDateFormat=ai,hi.longDateFormat=cn,hi._invalidDate=li,hi.invalidDate=dn,hi._ordinal=ui,hi.ordinal=hn,hi._ordinalParse=ci,hi.preparse=pn,hi.postformat=pn,hi._relativeTime=di,hi.relativeTime=fn,hi.pastFuture=mn,hi.set=gn,hi.months=V,hi._months=Er,hi.monthsShort=U,hi._monthsShort=Mr,hi.monthsParse=X,hi.week=At,hi._week=Vr,hi.firstDayOfYear=Wt,hi.firstDayOfWeek=Nt,hi.weekdays=qt,hi._weekdays=Xr,hi.weekdaysMin=Yt,hi._weekdaysMin=Zr,hi.weekdaysShort=Gt,hi._weekdaysShort=Jr,hi.weekdaysParse=Vt,hi.isPM=tn,hi._meridiemParse=Qr,hi.meridiem=nn,_("en",{monthsParse:[/^jan/i,/^feb/i,/^mar/i,/^apr/i,/^may/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^oct/i,/^nov/i,/^dec/i],longMonthsParse:[/^january$/i,/^february$/i,/^march$/i,/^april$/i,/^may$/i,/^june$/i,/^july$/i,/^august$/i,/^september$/i,/^october$/i,/^november$/i,/^december$/i],shortMonthsParse:[/^jan$/i,/^feb$/i,/^mar$/i,/^apr$/i,/^may$/i,/^jun$/i,/^jul$/i,/^aug/i,/^sept?$/i,/^oct$/i,/^nov$/i,/^dec$/i],ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=te("moment.lang is deprecated. Use moment.locale instead.",_),e.langData=te("moment.langData is deprecated. Use moment.localeData instead.",C);var pi=Math.abs,fi=Fn("ms"),mi=Fn("s"),gi=Fn("m"),vi=Fn("h"),yi=Fn("d"),bi=Fn("w"),wi=Fn("M"),Si=Fn("y"),xi=On("milliseconds"),_i=On("seconds"),ki=On("minutes"),Ci=On("hours"),Ti=On("days"),Di=On("months"),Ei=On("years"),Mi=Math.round,Ri={s:45,m:45,h:22,d:26,M:11},Hi=Math.abs,ji=Re.prototype;ji.abs=kn,ji.add=Tn,ji.subtract=Dn,ji.as=jn,ji.asMilliseconds=fi,ji.asSeconds=mi,ji.asMinutes=gi,ji.asHours=vi,ji.asDays=yi,ji.asWeeks=bi,ji.asMonths=wi,ji.asYears=Si,ji.valueOf=Pn,ji._bubble=Mn,ji.get=In,ji.milliseconds=xi,ji.seconds=_i,ji.minutes=ki,ji.hours=Ci,ji.days=Ti,ji.weeks=Ln,ji.months=Di,ji.years=Ei,ji.humanize=$n,ji.toISOString=zn,ji.toString=zn,ji.toJSON=zn,ji.locale=gt,ji.localeData=vt,ji.toIsoString=te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zn),ji.lang=Yr,I("X",0,0,"unix"),I("x",0,0,"valueOf"),W("x",dr),W("X",fr),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.11.0",t(Te),e.fn=si,e.min=Ee,e.max=Me,e.now=Wr,e.utc=a,e.unix=an,e.months=bn,e.isDate=r,e.locale=_,e.invalid=d,e.duration=Ve,e.isMoment=m,e.weekdays=Sn,e.parseZone=ln,e.localeData=C,e.isDuration=He,e.monthsShort=wn,e.weekdaysMin=_n,e.defineLocale=k,e.weekdaysShort=xn,e.normalizeUnits=D,e.relativeTimeThreshold=Wn,e.prototype=si;var Pi=e;return Pi}),/*!
 * FullCalendar v2.6.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(e){return z(e,Be)}function r(t){var n,r={views:t.views||{}};return e.each(t,function(t,i){"views"!=t&&(e.isPlainObject(i)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,Be)?(n=null,e.each(i,function(e,i){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(r.views[e]||(r.views[e]={}),r.views[e][t]=i):(n||(n={}),n[e]=i)}),n&&(r[t]=n)):r[t]=i)}),r}function i(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function s(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){e("body").addClass("fc-not-allowed")}function a(){e("body").removeClass("fc-not-allowed")}function l(t,n,r){var i=Math.floor(n/t.length),s=Math.floor(n-i*(t.length-1)),o=[],a=[],l=[],c=0;u(t),t.each(function(n,r){var u=n===t.length-1?s:i,d=e(r).outerHeight(!0);u>d?(o.push(r),a.push(d),l.push(e(r).height())):c+=d}),r&&(n-=c,i=Math.floor(n/o.length),s=Math.floor(n-i*(o.length-1))),e(o).each(function(t,n){var r=t===o.length-1?s:i,u=a[t],c=l[t],d=r-(u-c);r>u&&e(n).height(d)})}function u(e){e.height("")}function c(t){var n=0;return t.find("> span").each(function(t,r){var i=e(r).outerWidth();i>n&&(n=i)}),n++,t.width(n),n}function d(e,t){return e.height(t).addClass("fc-scroller"),e[0].scrollHeight-1>e[0].clientHeight?!0:(h(e),!1)}function h(e){e.height("").removeClass("fc-scroller")}function p(t){var n=t.css("position"),r=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(t[0].ownerDocument||document)}function f(e){var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function m(e){var t=e.offset(),n=v(e),r=t.left+w(e,"border-left-width")+n.left,i=t.top+w(e,"border-top-width")+n.top;return{left:r,right:r+e[0].clientWidth,top:i,bottom:i+e[0].clientHeight}}function g(e){var t=e.offset(),n=t.left+w(e,"border-left-width")+w(e,"padding-left"),r=t.top+w(e,"border-top-width")+w(e,"padding-top");return{left:n,right:n+e.width(),top:r,bottom:r+e.height()}}function v(e){var t=e.innerWidth()-e[0].clientWidth,n={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return y()&&"rtl"==e.css("direction")?n.left=t:n.right=t,n}function y(){return null===qe&&(qe=b()),qe}function b(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),r=n.offset().left>t.offset().left;return t.remove(),r}function w(e,t){return parseFloat(e.css(t))||0}function S(e){return 1==e.which&&!e.ctrlKey}function x(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function _(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function k(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function C(e,t){return{left:e.left-t.left,top:e.top-t.top}}function T(t){var n,r,i=[],s=[];for("string"==typeof t?s=t.split(/\s*,\s*/):"function"==typeof t?s=[t]:e.isArray(t)&&(s=t),n=0;n<s.length;n++)r=s[n],"string"==typeof r?i.push("-"==r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&i.push({func:r});return i}function D(e,t,n){var r,i;for(r=0;r<n.length;r++)if(i=E(e,t,n[r]))return i;return 0}function E(e,t,n){return n.func?n.func(e,t):M(e[n.field],t[n.field])*(n.order||1)}function M(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function R(e,t){var n,r,i,s,o=e.start,a=e.end,l=t.start,u=t.end;return a>l&&u>o?(o>=l?(n=o.clone(),i=!0):(n=l.clone(),i=!1),u>=a?(r=a.clone(),s=!0):(r=u.clone(),s=!1),{start:n,end:r,isStart:i,isEnd:s}):void 0}function H(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function j(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function P(e,n,r){return t.duration(Math.round(e.diff(n,r,!0)),r)}function F(e,t){var n,r,i;for(n=0;n<Ye.length&&(r=Ye[n],i=I(r,e,t),!(i>=1&&te(i)));n++);return r}function I(e,n,r){return null!=r?r.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function O(e,t,n){var r;return N(n)?(t-e)/n:(r=n.asMonths(),Math.abs(r)>=1&&te(r)?t.diff(e,"months",!0)/r:t.diff(e,"days",!0)/n.asDays())}function L(e,t){var n,r;return N(e)||N(t)?e/t:(n=e.asMonths(),r=t.asMonths(),Math.abs(n)>=1&&te(n)&&Math.abs(r)>=1&&te(r)?n/r:e.asDays()/t.asDays())}function A(e,n){var r;return N(e)?t.duration(e*n):(r=e.asMonths(),Math.abs(r)>=1&&te(r)?t.duration({months:r*n}):t.duration({days:e.asDays()*n}))}function N(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function W(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function $(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function z(e,t){var n,r,i,s,o,a,l={};if(t)for(n=0;n<t.length;n++){for(r=t[n],i=[],s=e.length-1;s>=0;s--)if(o=e[s][r],"object"==typeof o)i.unshift(o);else if(void 0!==o){l[r]=o;break}i.length&&(l[r]=z(i))}for(n=e.length-1;n>=0;n--){a=e[n];for(r in a)r in l||(l[r]=a[r])}return l}function B(e){var t=function(){};return t.prototype=e,new t}function q(e,t){for(var n in e)Y(e,n)&&(t[n]=e[n])}function G(e,t){var n,r,i=["constructor","toString","valueOf"];for(n=0;n<i.length;n++)r=i[n],e[r]!==Object.prototype[r]&&(t[r]=e[r])}function Y(e,t){return Je.call(e,t)}function V(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function U(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function X(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function J(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Z(e){return e.replace(/&.*?;/g,"")}function Q(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function K(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e,t){return e-t}function te(e){return e%1===0}function ne(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function re(e,t){var n,r,i,s,o=function(){var a=+new Date-s;t>a&&a>0?n=setTimeout(o,t-a):(n=null,e.apply(i,r),n||(i=r=null))};return function(){i=this,r=arguments,s=+new Date,n||(n=setTimeout(o,t))}}function ie(n,r,i){var s,o,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return t.isMoment(u)?(l=t.apply(null,n),oe(u,l)):W(u)||void 0===u?l=t.apply(null,n):(s=!1,o=!1,c?Ze.test(u)?(u+="-01",n=[u],s=!0,o=!0):(a=Qe.exec(u))&&(s=!a[5],o=!0):e.isArray(u)&&(o=!0),l=r||s?t.utc.apply(t,n):t.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):i&&(o?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function se(e,n){var r,i,s=!1,o=!1,a=e.length,l=[];for(r=0;a>r;r++)i=e[r],t.isMoment(i)||(i=$e.moment.parseZone(i)),s=s||i._ambigTime,o=o||i._ambigZone,l.push(i);for(r=0;a>r;r++)i=l[r],n||!s||i._ambigTime?o&&!i._ambigZone&&(l[r]=i.clone().stripZone()):l[r]=i.clone().stripTime();return l}function oe(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function ae(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function le(e,t){return et.format.call(e,t)}function ue(e,t){return ce(e,me(t))}function ce(e,t){var n,r="";for(n=0;n<t.length;n++)r+=de(e,t[n]);return r}function de(e,t){var n,r;return"string"==typeof t?t:(n=t.token)?tt[n]?tt[n](e):le(e,n):t.maybe&&(r=ce(e,t.maybe),r.match(/[1-9]/))?r:""}function he(e,t,n,r,i){var s;return e=$e.moment.parseZone(e),t=$e.moment.parseZone(t),s=(e.localeData||e.lang).call(e),n=s.longDateFormat(n)||n,r=r||" - ",pe(e,t,me(n),r,i)}function pe(e,t,n,r,i){var s,o,a,l,u=e.clone().stripZone(),c=t.clone().stripZone(),d="",h="",p="",f="",m="";for(o=0;o<n.length&&(s=fe(e,t,u,c,n[o]),s!==!1);o++)d+=s;for(a=n.length-1;a>o&&(s=fe(e,t,u,c,n[a]),s!==!1);a--)h=s+h;for(l=o;a>=l;l++)p+=de(e,n[l]),f+=de(t,n[l]);return(p||f)&&(m=i?f+r+p:p+r+f),d+m+h}function fe(e,t,n,r,i){var s,o;return"string"==typeof i?i:(s=i.token)&&(o=nt[s.charAt(0)],o&&n.isSame(r,o))?le(e,s):!1}function me(e){return e in rt?rt[e]:rt[e]=ge(e)}function ge(e){for(var t,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:ge(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function ve(){}function ye(e,t){var n;return Y(t,"constructor")&&(n=t.constructor),"function"!=typeof n&&(n=t.constructor=function(){e.apply(this,arguments)}),n.prototype=B(e.prototype),q(t,n.prototype),G(t,n.prototype),q(e,n),n}function be(e,t){q(t.prototype||t,e.prototype)}function we(e,t){return e||t?e&&t?e.component===t.component&&Se(e,t)&&Se(t,e):!1:!0}function Se(e,t){for(var n in e)if(!/^(component|left|right|top|bottom)$/.test(n)&&e[n]!==t[n])return!1;return!0}function xe(e){var t=ke(e);return"background"===t||"inverse-background"===t}function _e(e){return"inverse-background"===ke(e)}function ke(e){return X((e.source||{}).rendering,e.rendering)}function Ce(e){var t,n,r={};for(t=0;t<e.length;t++)n=e[t],(r[n._id]||(r[n._id]=[])).push(n);return r}function Te(e,t){return e.start-t.start}function De(n){var r,i,s,o,a=$e.dataAttrPrefix;return a&&(a+="-"),r=n.data(a+"event")||null,r&&(r="object"==typeof r?e.extend({},r):{},i=r.start,null==i&&(i=r.time),s=r.duration,o=r.stick,delete r.start,delete r.time,delete r.duration,delete r.stick),null==i&&(i=n.data(a+"start")),null==i&&(i=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==o&&(o=n.data(a+"stick")),i=null!=i?t.duration(i):null,s=null!=s?t.duration(s):null,o=Boolean(o),{eventProps:r,startTime:i,duration:s,stick:o}}function Ee(e,t){var n,r;for(n=0;n<t.length;n++)if(r=t[n],r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0;return!1}function Me(e,t){return e.leftCol-t.leftCol}function Re(e){var t,n,r,i=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&Pe(n,i[r]).length;r++);n.level=r,(i[r]||(i[r]=[])).push(n)}return i}function He(e){var t,n,r,i,s;for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for(i=n[r],i.forwardSegs=[],s=t+1;s<e.length;s++)Pe(i,e[s],i.forwardSegs)}function je(e){var t,n,r=e.forwardSegs,i=0;if(void 0===e.forwardPressure){for(t=0;t<r.length;t++)n=r[t],je(n),i=Math.max(i,1+n.forwardPressure);e.forwardPressure=i}}function Pe(e,t,n){n=n||[];for(var r=0;r<t.length;r++)Fe(e,t[r])&&n.push(t[r]);return n}function Fe(e,t){return e.bottom>t.top&&e.top<t.bottom}function Ie(n,r){function i(){Y?a()&&(c(),l()):s()}function s(){V=W.theme?"ui":"fc",n.addClass("fc"),W.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),W.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),Y=e("<div class='fc-view-container'/>").prependTo(n),q=N.header=new Ae(N,W),G=q.render(),G&&n.prepend(G),l(W.defaultView),W.handleWindowResize&&(J=re(h,W.windowResizeDelay),e(window).resize(J))}function o(){U&&U.removeElement(),q.removeElement(),Y.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),J&&e(window).unbind("resize",J)}function a(){return n.is(":visible")}function l(t){ne++,U&&t&&U.type!==t&&(q.deactivateButton(U.type),P(),U.removeElement(),U=N.view=null),!U&&t&&(U=N.view=te[t]||(te[t]=N.instantiateView(t)),U.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(Y)),q.activateButton(t)),U&&(Z=U.massageCurrentDate(Z),U.displaying&&Z.isWithin(U.intervalStart,U.intervalEnd)||a()&&(U.display(Z),F(),w(),S(),g())),F(),ne--}function u(e){return a()?(e&&d(),ne++,U.updateSize(!0),ne--,!0):void 0}function c(){a()&&d()}function d(){X="number"==typeof W.contentHeight?W.contentHeight:"number"==typeof W.height?W.height-(G?G.outerHeight(!0):0):Math.round(Y.width()/Math.max(W.aspectRatio,.5))}function h(e){!ne&&e.target===window&&U.start&&u(!0)&&U.trigger("windowResize",ee)}function p(){m(),v()}function f(){a()&&(P(),U.displayEvents(ie),F())}function m(){P(),U.clearEvents(),F()}function g(){!W.lazyFetching||Q(U.start,U.end)?v():f()}function v(){K(U.start,U.end)}function y(e){ie=e,f()}function b(){f()}function w(){q.updateTitle(U.title)}function S(){var e=N.getNow();e.isWithin(U.intervalStart,U.intervalEnd)?q.disableButton("today"):q.enableButton("today")}function x(e,t){U.select(N.buildSelectSpan.apply(N,arguments))}function _(){U&&U.unselect()}function k(){Z=U.computePrevDate(Z),l()}function C(){Z=U.computeNextDate(Z),l()}function T(){Z.add(-1,"years"),l()}function D(){Z.add(1,"years"),l()}function E(){Z=N.getNow(),l()}function M(e){Z=N.moment(e).stripZone(),l()}function R(e){Z.add(t.duration(e)),l()}function H(e,t){var n;t=t||"day",n=N.getViewSpec(t)||N.getUnitViewSpec(t),Z=e.clone(),l(n?n.type:null)}function j(){return N.applyTimezone(Z)}function P(){Y.css({width:"100%",height:Y.height(),overflow:"hidden"})}function F(){Y.css({width:"",height:"",overflow:""})}function I(){return N}function O(){return U}function L(e,t){return void 0===t?W[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(W[e]=t,u(!0)))}function A(e,t){var n=Array.prototype.slice.call(arguments,2);return t=t||ee,this.triggerWith(e,t,n),W[e]?W[e].apply(t,n):void 0}var N=this;N.initOptions(r||{});var W=this.options;N.render=i,N.destroy=o,N.refetchEvents=p,N.reportEvents=y,N.reportEventChange=b,N.rerenderEvents=f,N.changeView=l,N.select=x,N.unselect=_,N.prev=k,N.next=C,N.prevYear=T,N.nextYear=D,N.today=E,N.gotoDate=M,N.incrementDate=R,N.zoomTo=H,N.getDate=j,N.getCalendar=I,N.getView=O,N.option=L,N.trigger=A;var $=B(Le(W.lang));if(W.monthNames&&($._months=W.monthNames),W.monthNamesShort&&($._monthsShort=W.monthNamesShort),W.dayNames&&($._weekdays=W.dayNames),W.dayNamesShort&&($._weekdaysShort=W.dayNamesShort),null!=W.firstDay){var z=B($._week);z.dow=W.firstDay,$._week=z}$._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(W.weekNumberCalculation),N.defaultAllDayEventDuration=t.duration(W.defaultAllDayEventDuration),N.defaultTimedEventDuration=t.duration(W.defaultTimedEventDuration),N.moment=function(){var e;return"local"===W.timezone?(e=$e.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===W.timezone?$e.moment.utc.apply(null,arguments):$e.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=$:e._lang=$,e},N.getIsAmbigTimezone=function(){return"local"!==W.timezone&&"UTC"!==W.timezone},N.applyTimezone=function(e){if(!e.hasTime())return e.clone();var t,n=N.moment(e.toArray()),r=e.time()-n.time();return r&&(t=n.clone().add(r),e.time()-t.time()===0&&(n=t)),n},N.getNow=function(){var e=W.now;return"function"==typeof e&&(e=e()),N.moment(e).stripZone()},N.getEventEnd=function(e){return e.end?e.end.clone():N.getDefaultEventEnd(e.allDay,e.start)},N.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(N.defaultAllDayEventDuration):n.add(N.defaultTimedEventDuration),N.getIsAmbigTimezone()&&n.stripZone(),n},N.humanizeDuration=function(e){return(e.locale||e.lang).call(e,W.lang).humanize()},Ne.call(N,W);var q,G,Y,V,U,X,J,Z,Q=N.isFetchNeeded,K=N.fetchEvents,ee=n[0],te={},ne=0,ie=[];Z=null!=W.defaultDate?N.moment(W.defaultDate).stripZone():N.getNow(),N.getSuggestedViewHeight=function(){return void 0===X&&c(),X},N.isHeightAuto=function(){return"auto"===W.contentHeight||"auto"===W.height},N.freezeContentHeight=P,N.unfreezeContentHeight=F,N.initialize()}function Oe(t){e.each(bt,function(e,n){null==t[e]&&(t[e]=n(t))})}function Le(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Ae(t,n){function r(){var t=n.header;return p=n.theme?"ui":"fc",t?f=e("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function i(){f.remove(),f=e()}function s(r){var i=e('<div class="fc-'+r+'"/>'),s=n.header[r];return s&&e.each(s.split(" "),function(r){var s,o=e(),a=!0;e.each(this.split(","),function(r,i){var s,l,u,c,d,h,f,g,v,y;"title"==i?(o=o.add(e("<h2>&nbsp;</h2>")),a=!1):((s=(t.options.customButtons||{})[i])?(u=function(e){s.click&&s.click.call(y[0],e)},c="",d=s.text):(l=t.getViewSpec(i))?(u=function(){t.changeView(i)},m.push(i),c=l.buttonTextOverride,d=l.buttonTextDefault):t[i]&&(u=function(){t[i]()},c=(t.overrides.buttonText||{})[i],d=n.buttonText[i]),u&&(h=s?s.themeIcon:n.themeButtonIcons[i],f=s?s.icon:n.buttonIcons[i],g=c?J(c):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":f&&!n.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":J(d),v=["fc-"+i+"-button",p+"-button",p+"-state-default"],y=e('<button type="button" class="'+v.join(" ")+'">'+g+"</button>").click(function(e){y.hasClass(p+"-state-disabled")||(u(e),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),o=o.add(y)))}),a&&o.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),o.length>1?(s=e("<div/>"),a&&s.addClass("fc-button-group"),s.append(o),i.append(s)):i.append(o)}),i}function o(e){f.find("h2").text(e)}function a(e){f.find(".fc-"+e+"-button").addClass(p+"-state-active")}function l(e){f.find(".fc-"+e+"-button").removeClass(p+"-state-active")}function u(e){f.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function c(e){f.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function d(){return m}var h=this;h.render=r,h.removeElement=i,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var p,f=e(),m=[]}function Ne(n){function r(e,t){return!L||L>e||t>A}function i(e,t){L=e,A=t,G=[];var n=++B,r=z.length;q=r;for(var i=0;r>i;i++)s(z[i],n)}function s(t,n){o(t,function(r){var i,s,o,a=e.isArray(t.events);if(n==B){if(r)for(i=0;i<r.length;i++)s=r[i],o=a?s:y(s,t),o&&G.push.apply(G,x(o));q--,q||N(G)}})}function o(t,r){var i,s,a=$e.sourceFetchers;for(i=0;i<a.length;i++){if(s=a[i].call(O,t,L.clone(),A.clone(),n.timezone,r),s===!0)return;if("object"==typeof s)return void o(s,r)}var l=t.events;if(l)e.isFunction(l)?(O.pushLoading(),l.call(O,L.clone(),A.clone(),n.timezone,function(e){r(e),O.popLoading()})):e.isArray(l)?r(l):r();else{var u=t.url;if(u){var c,d=t.success,h=t.error,p=t.complete;c=e.isFunction(t.data)?t.data():t.data;var f=e.extend({},c||{}),m=X(t.startParam,n.startParam),g=X(t.endParam,n.endParam),v=X(t.timezoneParam,n.timezoneParam);m&&(f[m]=L.format()),g&&(f[g]=A.format()),n.timezone&&"local"!=n.timezone&&(f[v]=n.timezone),O.pushLoading(),e.ajax(e.extend({},wt,t,{data:f,success:function(t){t=t||[];var n=U(d,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){U(h,this,arguments),r()},complete:function(){U(p,this,arguments),O.popLoading()}}))}else r()}}function a(e){var t=l(e);t&&(z.push(t),q++,s(t,B))}function l(t){var n,r,i=$e.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return y(e,n)})),r=0;r<i.length;r++)i[r].call(O,n);return n}}function u(t){z=e.grep(z,function(e){return!c(e,t)}),G=e.grep(G,function(e){return!c(e.source,t)}),N(G)}function c(e,t){return e&&t&&d(e)==d(t)}function d(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function h(e){e.start=O.moment(e.start),e.end?e.end=O.moment(e.end):e.end=null,_(e,p(e)),N(G)}function p(t){var n={};return e.each(t,function(e,t){f(e)&&void 0!==t&&V(t)&&(n[e]=t)}),n}function f(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function m(e,t){var n,r,i,s=y(e);if(s){for(n=x(s),r=0;r<n.length;r++)i=n[r],i.source||(t&&(W.events.push(i),i.source=W),G.push(i));return N(G),n}return[]}function g(t){var n,r;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),G=e.grep(G,t,!0),r=0;r<z.length;r++)e.isArray(z[r].events)&&(z[r].events=e.grep(z[r].events,t,!0));N(G)}function v(t){return e.isFunction(t)?e.grep(G,t):null!=t?(t+="",e.grep(G,function(e){return e._id==t})):G}function y(r,i){var s,o,a,l={};if(n.eventDataTransform&&(r=n.eventDataTransform(r)),i&&i.eventDataTransform&&(r=i.eventDataTransform(r)),e.extend(l,r),i&&(l.source=i),l._id=r._id||(void 0===r.id?"_fc"+St++:r.id+""),r.className?"string"==typeof r.className?l.className=r.className.split(/\s+/):l.className=r.className:l.className=[],s=r.start||r.date,o=r.end,$(s)&&(s=t.duration(s)),$(o)&&(o=t.duration(o)),r.dow||t.isDuration(s)||t.isDuration(o))l.start=s?t.duration(s):null,l.end=o?t.duration(o):null,l._recurring=!0;else{if(s&&(s=O.moment(s),!s.isValid()))return!1;o&&(o=O.moment(o),o.isValid()||(o=null)),a=r.allDay,void 0===a&&(a=X(i?i.allDayDefault:void 0,n.allDayDefault)),b(s,o,a,l)}return l}function b(e,t,n,r){r.start=e,r.end=t,r.allDay=n,w(r),We(r)}function w(e){S(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(n.forceEventDuration?e.end=O.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function S(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=O.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=O.applyTimezone(e.end.time(0))))}function x(t,n,r){var i,s,o,a,l,u,c,d,h,p=[];if(n=n||L,r=r||A,t)if(t._recurring){if(s=t.dow)for(i={},o=0;o<s.length;o++)i[s[o]]=!0;for(a=n.clone().stripTime();a.isBefore(r);)(!i||i[a.day()])&&(l=t.start,u=t.end,c=a.clone(),d=null,l&&(c=c.time(l)),u&&(d=a.clone().time(u)),h=e.extend({},t),b(c,d,!l&&!u,h),p.push(h)),a.add(1,"days")}else p.push(t);return p}function _(t,n,r){function i(e,t){return r?P(e,t,r):n.allDay?j(e,t):H(e,t)}var s,o,a,l,u,c,d={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),w(n),s={start:t._start.clone(),end:t._end?t._end.clone():O.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},w(s),o=null!==t._end&&null===n.end,a=i(n.start,s.start),n.end?(l=i(n.end,s.end),u=l.subtract(a)):u=null,e.each(n,function(e,t){f(e)&&void 0!==t&&(d[e]=t)}),c=k(v(t._id),o,n.allDay,a,u,d),{dateDelta:a,durationDelta:u,undo:c}}function k(t,n,r,i,s,o){var a=O.getIsAmbigTimezone(),l=[];return i&&!i.valueOf()&&(i=null),s&&!s.valueOf()&&(s=null),e.each(t,function(t,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},e.each(o,function(e){c[e]=u[e]}),d={start:u._start,end:u._end,allDay:r},w(d),n?d.end=null:s&&!d.end&&(d.end=O.getDefaultEventEnd(d.allDay,d.start)),i&&(d.start.add(i),d.end&&d.end.add(i)),s&&d.end.add(s),a&&!d.allDay&&(i||s)&&(d.start.stripZone(),d.end&&d.end.stripZone()),e.extend(u,o,d),We(u),l.push(function(){e.extend(u,c),We(u)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}function C(t){var r,i=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=O.getView();return i&&(r=e.extend({},s,"object"==typeof i?i:{})),r?(t&&(r.start=null,r.end=null),x(y(r),o.start,o.end)):[]}function T(e,t){var r=t.source||{},i=X(t.constraint,r.constraint,n.eventConstraint),s=X(t.overlap,r.overlap,n.eventOverlap);return M(e,i,s,t)}function D(t,n,r){var i,s;return r&&(i=e.extend({},r,n),s=x(y(i))[0]),s?T(t,s):E(t)}function E(e){return M(e,n.selectConstraint,n.selectOverlap)}function M(e,t,n,r){var i,s,o,a,l,u;if(null!=t){for(i=R(t),s=!1,a=0;a<i.length;a++)if(F(i[a],e)){s=!0;break}if(!s)return!1}for(o=O.getPeerEvents(e,r),a=0;a<o.length;a++)if(l=o[a],I(l,e)){if(n===!1)return!1;if("function"==typeof n&&!n(l,r))return!1;if(r){if(u=X(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(r,l))return!1}}return!0}function R(e){return"businessHours"===e?C():"object"==typeof e?x(y(e)):v(e)}function F(e,t){var n=e.start.clone().stripZone(),r=O.getEventEnd(e).stripZone();return t.start>=n&&t.end<=r}function I(e,t){var n=e.start.clone().stripZone(),r=O.getEventEnd(e).stripZone();return t.start<r&&t.end>n}var O=this;O.isFetchNeeded=r,O.fetchEvents=i,O.addEventSource=a,O.removeEventSource=u,O.updateEvent=h,O.renderEvent=m,O.removeEvents=g,O.clientEvents=v,O.mutateEvent=_,O.normalizeEventDates=w,O.normalizeEventTimes=S;var L,A,N=O.reportEvents,W={events:[]},z=[W],B=0,q=0,G=[];e.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(e,t){var n=l(t);n&&z.push(n)}),O.getBusinessHoursEvents=C,O.isEventSpanAllowed=T,O.isExternalSpanAllowed=D,O.isSelectionSpanAllowed=E,O.getEventCache=function(){return G}}function We(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var $e=e.fullCalendar={version:"2.6.1",internalApiVersion:3},ze=$e.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(i,s){var o,a=e(s),l=a.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(o=l[t].apply(l,n),i||(r=o),"destroy"===t&&a.removeData("fullCalendar")):l||(l=new mt(a,t),a.data("fullCalendar",l),l.render())}),r};var Be=["header","buttonText","buttonIcons","themeButtonIcons"];$e.intersectRanges=R,$e.applyAll=U,$e.debounce=re,$e.isInt=te,$e.htmlEscape=J,$e.cssToStr=Q,$e.proxy=ne,$e.capitaliseFirstLetter=K,$e.getOuterRect=f,$e.getClientRect=m,$e.getContentRect=g,$e.getScrollbarWidths=v;var qe=null;$e.intersectRects=x,$e.parseFieldSpecs=T,$e.compareByFieldSpecs=D,$e.compareByFieldSpec=E,$e.flexibleCompare=M,$e.computeIntervalUnit=F,$e.divideRangeByDuration=O,$e.divideDurationByDuration=L,$e.multiplyDuration=A,$e.durationHasTime=N;var Ge=["sun","mon","tue","wed","thu","fri","sat"],Ye=["year","month","week","day","hour","minute","second","millisecond"];$e.log=function(){var e=window.console;return e&&e.log?e.log.apply(e,arguments):void 0},$e.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):$e.log.apply($e,arguments)};var Ve,Ue,Xe,Je={}.hasOwnProperty,Ze=/^\s*\d{4}-\d\d$/,Qe=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ke=t.fn,et=e.extend({},Ke);$e.moment=function(){return ie(arguments)},$e.moment.utc=function(){var e=ie(arguments,!0);return e.hasTime()&&e.utc(),e},$e.moment.parseZone=function(){return ie(arguments,!0,!0)},Ke.clone=function(){var e=et.clone.apply(this,arguments);return oe(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},Ke.week=Ke.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?et.isoWeek.apply(this,arguments):et.week.apply(this,arguments)},Ke.time=function(e){if(!this._fullCalendar)return et.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Ke.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),Ue(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ke.hasTime=function(){return!this._ambigTime},Ke.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),Ue(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},Ke.hasZone=function(){return!this._ambigZone},Ke.local=function(){var e=this.toArray(),t=this._ambigZone;return et.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&Xe(this,e),this},Ke.utc=function(){return et.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){et[t]&&(Ke[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),et[t].apply(this,arguments)})}),Ke.format=function(){return this._fullCalendar&&arguments[0]?ue(this,arguments[0]):this._ambigTime?le(this,"YYYY-MM-DD"):this._ambigZone?le(this,"YYYY-MM-DD[T]HH:mm:ss"):et.format.apply(this,arguments)},Ke.toISOString=function(){return this._ambigTime?le(this,"YYYY-MM-DD"):this._ambigZone?le(this,"YYYY-MM-DD[T]HH:mm:ss"):et.toISOString.apply(this,arguments)},Ke.isWithin=function(e,t){var n=se([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},Ke.isSame=function(e,t){var n;return this._fullCalendar?t?(n=se([this,e],!0),et.isSame.call(n[0],n[1],t)):(e=$e.moment.parseZone(e),et.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):et.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){Ke[t]=function(e,n){var r;return this._fullCalendar?(r=se([this,e]),et[t].call(r[0],r[1],n)):et[t].apply(this,arguments)}}),Ve="_d"in t()&&"updateOffset"in t,Ue=Ve?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:ae,Xe=Ve?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:ae;var tt={t:function(e){return le(e,"a").charAt(0)},T:function(e){return le(e,"A").charAt(0)}};$e.formatRange=he;var nt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},rt={};$e.Class=ve,ve.extend=function(){var e,t,n=arguments.length;for(e=0;n>e;e++)t=arguments[e],n-1>e&&be(this,t);return ye(this,t||{})},ve.mixin=function(e){be(this,e)};var it=$e.Emitter=ve.extend({callbackHash:null,on:function(e,t){return this.getCallbacks(e).add(t),this},off:function(e,t){return this.getCallbacks(e).remove(t),this},trigger:function(e){var t=Array.prototype.slice.call(arguments,1);return this.triggerWith(e,this,t),this},triggerWith:function(e,t,n){var r=this.getCallbacks(e);return r.fireWith(t,n),this},getCallbacks:function(t){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[t],n||(n=this.callbackHash[t]=e.Callbacks()),n}}),st=ve.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&e(document).on("mousedown",this.documentMousedownProxy=ne(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,n,r,i,s,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=e(window),d=p(this.el);i=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=c,t=0,n=0):(r=d.offset(),t=r.top,n=r.left),t+=c.scrollTop(),n+=c.scrollLeft(),o.viewportConstrain!==!1&&(i=Math.min(i,t+d.outerHeight()-u-this.margin),i=Math.max(i,t+this.margin),s=Math.min(s,n+d.outerWidth()-l-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:i-a.top,left:s-a.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),ot=$e.CoordCache=ve.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals();
},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var e=p(this.els.eq(0));return e.is(document)?void 0:m(e)},buildElHorizontals:function(){var t=[],n=[];this.els.each(function(r,i){var s=e(i),o=s.offset().left,a=s.outerWidth();t.push(o),n.push(o+a)}),this.lefts=t,this.rights=n},buildElVerticals:function(){var t=[],n=[];this.els.each(function(r,i){var s=e(i),o=s.offset().top,a=s.outerHeight();t.push(o),n.push(o+a)}),this.tops=t,this.bottoms=n},getHorizontalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,r=this.lefts,i=this.rights,s=r.length;if(!n||e>=n.left&&e<n.right)for(t=0;s>t;t++)if(e>=r[t]&&e<i[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,r=this.tops,i=this.bottoms,s=r.length;if(!n||e>=n.top&&e<n.bottom)for(t=0;s>t;t++)if(e>=r[t]&&e<i[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]}}),at=$e.DragListener=ve.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function(e){S(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function(t){var n;this.isListening||(t&&this.options.scroll&&(n=p(e(t.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=re(ne(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")).on("mouseup",this.mouseupProxy=ne(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(e){this.trigger("listenStart",e)},mousemove:function(e){var t,n,r=e.pageX-this.originX,i=e.pageY-this.originY;this.isDragging||(t=this.options.distance||1,n=r*r+i*i,n>=t*t&&this.startDrag(e)),this.isDragging&&this.drag(r,i,e)},startDrag:function(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function(e){var t=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(e,t,n){this.trigger("drag",e,t,n),this.updateScroll(n)},mouseup:function(e){this.stopListening(e)},stopDrag:function(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function(e){var t=this;this.trigger("dragStop",e),setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(e){this.trigger("listenStop",e)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;this.scrollBounds=e?f(e):null},updateScroll:function(e){var t,n,r,i,s=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(t=(s-(e.pageY-o.top))/s,n=(s-(o.bottom-e.pageY))/s,r=(s-(e.pageX-o.left))/s,i=(s-(o.right-e.pageX))/s,t>=0&&1>=t?a=t*this.scrollSpeed*-1:n>=0&&1>=n&&(a=n*this.scrollSpeed),r>=0&&1>=r?l=r*this.scrollSpeed*-1:i>=0&&1>=i&&(l=i*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ne(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),lt=at.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){at.call(this,t),this.component=e},listenStart:function(e){var t,n,r,i=this.subjectEl;at.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(n={left:e.pageX,top:e.pageY},r=n,i&&(t=f(i),r=_(r,t)),this.origHit=this.queryHit(r.left,r.top),i&&this.options.subjectCenter&&(this.origHit&&(t=x(this.origHit,t)||t),r=k(t)),this.coordAdjust=C(r,n)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(e){var t;at.prototype.dragStart.apply(this,arguments),t=this.queryHit(e.pageX,e.pageY),t&&this.hitOver(t)},drag:function(e,t,n){var r;at.prototype.drag.apply(this,arguments),r=this.queryHit(n.pageX,n.pageY),we(r,this.hit)||(this.hit&&this.hitOut(),r&&this.hitOver(r))},dragStop:function(){this.hitDone(),at.prototype.dragStop.apply(this,arguments)},hitOver:function(e){var t=we(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){at.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){at.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}}),ut=ve.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")))},stop:function(t,n){function r(){this.isAnimating=!1,i.removeElement(),this.top0=this.left0=null,n&&n()}var i=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,e(document).off("mousemove",this.mousemoveProxy),t&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:r})):r())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ct=$e.Grid=ve.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=ne(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),e=n.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=n.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?P(e,t,this.largeUnit):H(e,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(e,t){},getHitSpan:function(e){},getHitEl:function(e){},setElement:function(t){var n=this;this.el=t,t.on("mousedown",function(t){e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length||n.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){e(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){e(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(e){var t,n,r=this,i=this.view,s=i.opt("selectable"),l=new lt(this,{scroll:i.opt("dragScroll"),dragStart:function(){i.unselect()},hitOver:function(e,i,a){a&&(t=i?e:null,s&&(n=r.computeSelection(r.getHitSpan(a),r.getHitSpan(e)),n?r.renderSelection(n):n===!1&&o()))},hitOut:function(){t=null,n=null,r.unrenderSelection(),a()},listenStop:function(e){t&&i.triggerDayClick(r.getHitSpan(t),r.getHitEl(t),e),n&&i.reportSelection(n,e),a()}});l.mousedown(e)},renderEventLocationHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?B(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n=this.computeSelectionSpan(e,t);return n&&!this.view.calendar.isSelectionSpanAllowed(n)?!1:n},computeSelectionSpan:function(e,t){var n=[e.start,e.end,t.start,t.end];return n.sort(ee),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var r,i=this,s=this[t+"SegEl"],o="",a=[];if(n.length){for(r=0;r<n.length;r++)o+=this.fillSegHtml(t,n[r]);e(o).each(function(t,r){var o=n[t],l=e(r);s&&(l=s.call(i,o,l)),l&&(l=e(l),l.is(i.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],r=this[e+"SegCss"],i=n?n.call(this,t):[],s=Q(r?r.call(this,t):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow(),r=["fc-"+Ge[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&r.push("fc-other-month"),e.isSame(n,"day")?r.push("fc-today",t.highlightStateClass):n>e?r.push("fc-past"):r.push("fc-future"),r}});ct.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n=[],r=[];for(t=0;t<e.length;t++)(xe(e[t])?n:r).push(e[t]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(r))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var r,i=this.view,s="",o=[];if(t.length){for(r=0;r<t.length;r++)s+=this.fgSegHtml(t[r],n);e(s).each(function(n,r){var s=t[n],a=i.resolveEventEl(s.event,e(r));a&&(a.data("fc-seg",s),s.el=a,o.push(s))})}return o},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(r,i){e(i.target).is(".fc-resizer")&&n.isEventResizable(r.event)?t.segResizeMousedown(r,i,e(i.target).is(".fc-start-resizer")):n.isEventDraggable(r.event)&&t.segDragMousedown(r,i)}},function(n,r){t.el.on(n,".fc-event-container > *",function(n){var i=e(this).data("fc-seg");return!i||t.isDraggingSeg||t.isResizingSeg?void 0:r.call(this,i,n)})})},triggerSegMouseover:function(e,t){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,t))},triggerSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,t))},segDragMousedown:function(e,t){var n,r=this,i=this.view,s=i.calendar,l=e.el,u=e.event,c=new ut(e.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),d=new lt(i,{distance:5,scroll:i.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(e){c.hide(),c.start(e)},dragStart:function(t){r.triggerSegMouseout(e,t),r.segDragStart(e,t),i.hideEvent(u)},hitOver:function(t,a,l){e.hit&&(l=e.hit),n=r.computeEventDrop(l.component.getHitSpan(l),t.component.getHitSpan(t),u),n&&!s.isEventSpanAllowed(r.eventToSpan(n),u)&&(o(),n=null),n&&i.renderDrag(n,e)?c.hide():c.show(),a&&(n=null)},hitOut:function(){i.unrenderDrag(),c.show(),n=null},hitDone:function(){a()},dragStop:function(t){c.stop(!n,function(){i.unrenderDrag(),i.showEvent(u),r.segDragStop(e,t),n&&i.reportEventDrop(u,n,this.largeUnit,l,t)})},listenStop:function(){c.stop()}});d.mousedown(t)},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var r,i,s=this.view.calendar,o=e.start,a=t.start;return o.hasTime()===a.hasTime()?(r=this.diffDates(a,o),n.allDay&&N(r)?(i={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventTimes(i)):i={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},i.start.add(r),i.end&&i.end.add(r)):i={start:a.clone(),end:null,allDay:!a.hasTime()},i},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var r,i,s=this.view;s.opt("droppable")&&(r=e((n?n.item:null)||t.target),i=s.opt("dropAccept"),(e.isFunction(i)?i.call(r[0],r):r.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,n)))},listenToExternalDrag:function(e,t,n){var r,i=this,s=this.view.calendar,l=De(e),u=new lt(this,{listenStart:function(){i.isDraggingExternal=!0},hitOver:function(e){r=i.computeExternalDrop(e.component.getHitSpan(e),l),r&&!s.isExternalSpanAllowed(i.eventToSpan(r),r,l.eventProps)&&(o(),r=null),r&&i.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){a(),i.unrenderDrag()},dragStop:function(){r&&i.view.reportExternalDrop(l,r,e,t,n)},listenStop:function(){i.isDraggingExternal=!1}});u.startDrag(t)},computeExternalDrop:function(e,t){var n=this.view.calendar,r={start:n.applyTimezone(e.start),end:null};return t.startTime&&!r.start.hasTime()&&r.start.time(t.startTime),t.duration&&(r.end=r.start.clone().add(t.duration)),r},renderDrag:function(e,t){},unrenderDrag:function(){},segResizeMousedown:function(e,t,n){var r,i=this,s=this.view,l=s.calendar,u=e.el,c=e.event,d=l.getEventEnd(c),h=new lt(this,{distance:5,scroll:s.opt("dragScroll"),subjectEl:u,dragStart:function(t){i.triggerSegMouseout(e,t),i.segResizeStart(e,t)},hitOver:function(t,a,u){var h=i.getHitSpan(u),p=i.getHitSpan(t);r=n?i.computeEventStartResize(h,p,c):i.computeEventEndResize(h,p,c),r&&(l.isEventSpanAllowed(i.eventToSpan(r),c)?r.start.isSame(c.start)&&r.end.isSame(d)&&(r=null):(o(),r=null)),r&&(s.hideEvent(c),i.renderEventResize(r,e))},hitOut:function(){r=null},hitDone:function(){i.unrenderEventResize(),s.showEvent(c),a()},dragStop:function(t){i.segResizeStop(e,t),r&&s.reportEventResize(c,r,this.largeUnit,u,t)}});h.mousedown(t)},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,r){var i,s,o=this.view.calendar,a=this.diffDates(n[e],t[e]);return i={start:r.start.clone(),end:o.getEventEnd(r),allDay:r.allDay},i.allDay&&N(a)&&(i.allDay=!1,o.normalizeEventTimes(i)),i[e].add(a),i.start.isBefore(i.end)||(s=this.minResizeDuration||(r.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration),"start"==e?i.start=i.end.clone().subtract(s):i.end=i.start.clone().add(s)),i},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var r=e.event,i=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&i.push("fc-draggable"),n&&i.push("fc-resizable"),i},getSegSkinCss:function(e){var t=e.event,n=this.view,r=t.source||{},i=t.color,s=r.color,o=n.opt("eventColor");return{"background-color":t.backgroundColor||i||r.backgroundColor||s||n.opt("eventBackgroundColor")||o,"border-color":t.borderColor||i||r.borderColor||s||n.opt("eventBorderColor")||o,color:t.textColor||r.textColor||n.opt("eventTextColor")}},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(e){var t=this.eventToRange(e);return this.eventRangeToSpans(t,e)},eventsToSegs:function(t,n){var r=this,i=Ce(t),s=[];return e.each(i,function(e,t){var i,o=[];for(i=0;i<t.length;i++)o.push(r.eventToRange(t[i]));if(_e(t[0]))for(o=r.invertRanges(o),i=0;i<o.length;i++)s.push.apply(s,r.eventRangeToSegs(o[i],t[0],n));else for(i=0;i<o.length;i++)s.push.apply(s,r.eventRangeToSegs(o[i],t[i],n))}),s},eventToRange:function(e){return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():this.view.calendar.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function(e,t,n){var r,i=this.eventRangeToSpans(e,t),s=[];for(r=0;r<i.length;r++)s.push.apply(s,this.eventSpanToSegs(i[r],t,n));return s},eventRangeToSpans:function(t,n){return[e.extend({},t)]},eventSpanToSegs:function(e,t,n){var r,i,s=n?n(e):this.spanToSegs(e);for(r=0;r<s.length;r++)i=s[r],i.event=t,i.eventStartMS=+e.start,i.eventDurationMS=e.end-e.start;return s},invertRanges:function(e){var t,n,r=this.view,i=r.start.clone(),s=r.end.clone(),o=[],a=i;for(e.sort(Te),t=0;t<e.length;t++)n=e[t],n.start>a&&o.push({start:a,end:n.start}),a=n.end;return s>a&&o.push({start:a,end:s}),o},sortEventSegs:function(e){e.sort(ne(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||D(e.event,t.event,this.view.eventOrderSpecs)}}),$e.isBgEvent=xe,$e.dataAttrPrefix="";var dt=$e.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,n,r=this.view,i=this.start.clone(),s=-1,o=[],a=[];i.isBefore(this.end);)r.isHiddenDay(i)?o.push(s+.5):(s++,o.push(s),a.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(t=a[0].day(),e=1;e<a.length&&a[e].day()!=t;e++);n=Math.ceil(a.length/e)}else n=1,e=a.length;this.dayDates=a,this.dayIndices=o,this.daysPerRow=e,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var n=this.getCellDate(e,t),r=n.clone().add(1,"days");return{start:n,end:r}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,n=e.diff(this.start,"days");return 0>n?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,n,r,i,s,o=this.daysPerRow,a=this.view.computeDayRange(e),l=this.getDateDayIndex(a.start),u=this.getDateDayIndex(a.end.clone().subtract(1,"days")),c=[];for(t=0;t<this.rowCnt;t++)n=t*o,r=n+o-1,i=Math.max(l,n),s=Math.min(u,r),i=Math.ceil(i),s=Math.floor(s),s>=i&&c.push({row:t,firstRowDayIndex:i-n,lastRowDayIndex:s-n,isStart:i===l,isEnd:s===u});return c},sliceRangeByDay:function(e){var t,n,r,i,s,o,a=this.daysPerRow,l=this.view.computeDayRange(e),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(n=t*a,r=n+a-1,i=n;r>=i;i++)s=Math.max(u,i),o=Math.min(c,i),s=Math.ceil(s),o=Math.floor(o),o>=s&&d.push({row:t,firstRowDayIndex:s-n,lastRowDayIndex:o-n,isStart:s===u,isEnd:o===c});return d},renderHeadHtml:function(){var e=this.view;return'<div class="fc-row '+e.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,n=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),n.push(this.renderHeadDateCellHtml(t));return n.join("")},renderHeadDateCellHtml:function(e,t,n){var r=this.view;return'<th class="fc-day-header '+r.widgetHeaderClass+" fc-"+Ge[e.day()]+'"'+(1==this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(n?" "+n:"")+">"+J(e.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(e){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,n,r=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),r.push(this.renderBgCellHtml(n));return r.join("")},renderBgCellHtml:function(e,t){var n=this.view,r=this.getDayClasses(e);return r.unshift("fc-day",n.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},ht=$e.DayGrid=ct.extend(dt,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,n,r=this.view,i=this.rowCnt,s=this.colCnt,o="";for(t=0;i>t;t++)o+=this.renderDayRowHtml(t,e);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new ot({els:this.rowEls,isVertical:!0}),this.colCoordCache=new ot({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;i>t;t++)for(n=0;s>n;n++)r.trigger("dayRender",null,this.getCellDate(t,n),this.getCellEl(t,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},renderDayRowHtml:function(e,t){var n=this.view,r=["fc-row","fc-week",n.widgetContentClass];return t&&r.push("fc-rigid"),'<div class="'+r.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(e){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,n,r=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),r.push(this.renderNumberCellHtml(n));return r.join("")},renderNumberCellHtml:function(e){var t;return this.view.dayNumbersVisible?(t=this.getDayClasses(e),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+e.format()+'">'+e.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,n,r=this.sliceRangeByRow(e);for(t=0;t<r.length;t++)n=r[t],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){var n=this.colCoordCache.getHorizontalIndex(e),r=this.rowCoordCache.getVerticalIndex(t);return null!=r&&null!=n?this.getCellHit(r,n):void 0},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){return this.renderHighlight(this.eventToSpan(e)),t&&!t.el.closest(this.el).length?(this.renderEventLocationHelper(e,t),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var r,i=[],s=this.eventToSegs(t);s=this.renderFgSegEls(s),r=this.renderSegRows(s),this.rowEls.each(function(t,s){var o,a=e(s),l=e('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===t?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(r[t].tbodyEl),a.append(l),i.push(l[0])}),this.helperEls=e(i)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,r){var i,s,o,a=[];for(n=this.renderFillSegEls(t,n),i=0;i<n.length;i++)s=n[i],o=this.renderFillRow(t,s,r),this.rowEls.eq(s.row).append(o),a.push(o[0]);return this.elsByFill[t]=e(a),n},renderFillRow:function(t,n,r){var i,s,o=this.colCnt,a=n.leftCol,l=n.rightCol+1;return r=r||t.toLowerCase(),i=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),s=i.find("tr"),a>0&&s.append('<td colspan="'+a+'"/>'),s.append(n.el.attr("colspan",l-a)),o>l&&s.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(s),i}});ht.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ct.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ct.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return ct.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){e(r).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,r=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)r.push(this.renderSegRow(n,t[n]));return r},fgSegHtml:function(e,t){var n,r,i=this.view,s=e.event,o=i.isEventDraggable(s),a=!t&&s.allDay&&e.isStart&&i.isEventResizableFromStart(s),l=!t&&s.allDay&&e.isEnd&&i.isEventResizableFromEnd(s),u=this.getSegClasses(e,o,a||l),c=Q(this.getSegSkinCss(e)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(s),n&&(d='<span class="fc-time">'+J(n)+"</span>")),r='<span class="fc-title">'+(J(s.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(s.url?' href="'+J(s.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+d:d+" "+r)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function r(t){for(;t>o;)c=(v[i-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=e("<td/>"),a.append(c)),g[i][o]=c,v[i][o]=c,o++}var i,s,o,a,l,u,c,d=this.colCnt,h=this.buildSegLevels(n),p=Math.max(1,h.length),f=e("<tbody/>"),m=[],g=[],v=[];for(i=0;p>i;i++){if(s=h[i],o=0,a=e("<tr/>"),m.push([]),g.push([]),v.push([]),s)for(l=0;l<s.length;l++){for(u=s[l],r(u.leftCol),c=e('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[i][o]=c;o<=u.rightCol;)g[i][o]=c,m[i][o]=u,o++;a.append(c);
}r(d),this.bookendCells(a),f.append(a)}return{row:t,tbodyEl:f,cellMatrix:g,segMatrix:m,segLevels:h,segs:n}},buildSegLevels:function(e){var t,n,r,i=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&Ee(n,i[r]);r++);n.level=r,(i[r]||(i[r]=[])).push(n)}for(r=0;r<i.length;r++)i[r].sort(Me);return i},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),ht.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,r=this.rowStructs||[];for(t=0;t<r.length;t++)this.unlimitRow(t),n=e?"number"==typeof e?e:this.computeRowLevelLimit(t):!1,n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){s=Math.max(s,e(n).outerHeight())}var r,i,s,o=this.rowEls.eq(t),a=o.height(),l=this.rowStructs[t].tbodyEl.children();for(r=0;r<l.length;r++)if(i=l.eq(r).removeClass("fc-limited"),s=0,i.find("> td > :first-child").each(n),i.position().top+s>a)return r;return!1},limitRow:function(t,n){function r(r){for(;r>x;)u=b.getCellSegs(t,x,n),u.length&&(h=s[n-1][x],y=b.renderMoreLink(t,x,u),v=e("<div/>").append(y),h.append(v),S.push(v[0])),x++}var i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b=this,w=this.rowStructs[t],S=[],x=0;if(n&&n<w.segLevels.length){for(i=w.segLevels[n-1],s=w.cellMatrix,o=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<i.length;a++){for(l=i[a],r(l.leftCol),d=[],c=0;x<=l.rightCol;)u=this.getCellSegs(t,x,n),d.push(u),c+=u.length,x++;if(c){for(h=s[n-1][l.leftCol],p=h.attr("rowspan")||1,f=[],m=0;m<d.length;m++)g=e('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[m],y=this.renderMoreLink(t,l.leftCol+m,[l].concat(u)),v=e("<div/>").append(y),g.append(v),f.push(g[0]),S.push(g[0]);h.addClass("fc-limited").after(e(f)),o.push(h[0])}}r(this.colCnt),w.moreEls=e(S),w.limitedEls=e(o)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n,r){var i=this,s=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(o){var a=s.opt("eventLimitClick"),l=i.getCellDate(t,n),u=e(this),c=i.getCellEl(t,n),d=i.getCellSegs(t,n),h=i.resliceDaySegs(d,l),p=i.resliceDaySegs(r,l);"function"==typeof a&&(a=s.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:h,hiddenSegs:p},o)),"popover"===a?i.showSegPopover(t,n,u,h):"string"==typeof a&&s.calendar.zoomTo(l,a)})},showSegPopover:function(e,t,n,r){var i,s,o=this,a=this.view,l=n.parent();i=1==this.rowCnt?a.el:this.rowEls.eq(e),s={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,r),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?s.right=l.offset().left+l.outerWidth()+1:s.left=l.offset().left-1,this.segPopover=new st(s),this.segPopover.show()},renderSegPopoverContent:function(t,n,r){var i,s=this.view,o=s.opt("theme"),a=this.getCellDate(t,n).format(s.opt("dayPopoverFormat")),l=e('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+J(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(r=this.renderFgSegEls(r,!0),this.popoverSegs=r,i=0;i<r.length;i++)this.prepareHits(),r[i].hit=this.getCellHit(t,n),this.releaseHits(),u.append(r[i].el);return l},resliceDaySegs:function(t,n){var r=e.map(t,function(e){return e.event}),i=n.clone(),s=i.clone().add(1,"days"),o={start:i,end:s};return t=this.eventsToSegs(r,function(e){var t=R(e,o);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,n){for(var r,i=this.rowStructs[e].segMatrix,s=n||0,o=[];s<i.length;)r=i[s][t],r&&o.push(r),s++;return o}});var pt=$e.TimeGrid=ct.extend(dt,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ct.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new ot({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new ot({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,n,r,i=this.view,s=this.isRTL,o="",a=t.duration(+this.minTime);a<this.maxTime;)e=this.start.clone().time(a),n=te(L(a,this.labelInterval)),r='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(n?"<span>"+J(e.format(this.labelFormat))+"</span>":"")+"</td>",o+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(s?"":r)+'<td class="'+i.widgetContentClass+'"/>'+(s?r:"")+"</tr>",a.add(this.slotDuration);return o},processOptions:function(){var n,r=this.view,i=r.opt("slotDuration"),s=r.opt("snapDuration");i=t.duration(i),s=s?t.duration(s):i,this.slotDuration=i,this.snapDuration=s,this.snapsPerSlot=i/s,this.minResizeDuration=s,this.minTime=t.duration(r.opt("minTime")),this.maxTime=t.duration(r.opt("maxTime")),n=r.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||r.opt("axisFormat")||r.opt("smallTimeFormat"),n=r.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(i)},computeLabelInterval:function(e){var n,r,i;for(n=Mt.length-1;n>=0;n--)if(r=t.duration(Mt[n]),i=L(r,e),te(i)&&i>1)return r;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var n=this.snapsPerSlot,r=this.colCoordCache,i=this.slatCoordCache,s=r.getHorizontalIndex(e),o=i.getVerticalIndex(t);if(null!=s&&null!=o){var a=i.getTopOffset(o),l=i.getHeight(o),u=(t-a)/l,c=Math.floor(u*n),d=o*n+c,h=a+c/n*l,p=a+(c+1)/n*l;return{col:s,snap:d,component:this,left:r.getLeftOffset(s),right:r.getRightOffset(s),top:h,bottom:p}}},getHitSpan:function(e){var t,n=this.getCellDate(0,e.col),r=this.computeSnapTime(e.snap);return n.time(r),t=n.clone().add(this.snapDuration),{start:n,end:t}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,n=this.sliceRangeByTimes(e);for(t=0;t<n.length;t++)this.isRTL?n[t].col=this.daysPerRow-1-n[t].dayIndex:n[t].col=n[t].dayIndex;return n},sliceRangeByTimes:function(e){var t,n,r,i,s=[];for(n=0;n<this.daysPerRow;n++)r=this.dayDates[n].clone(),i={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},t=R(e,i),t&&(t.dayIndex=n,s.push(t));return s},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,r=this.slatEls.length,i=(e-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(r,i),t=Math.floor(i),t=Math.min(t,r-1),n=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*n},renderDrag:function(e,t){if(t){this.renderEventLocationHelper(e,t);for(var n=0;n<this.helperSegs.length;n++)this.applyDragOpacity(this.helperSegs[n].el);return!0}this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(),t=this.eventsToSegs(e);this.renderBusinessSegs(t)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var n,r=this.spanToSegs({start:t,end:t}),i=this.computeDateTop(t,t),s=[];for(n=0;n<r.length;n++)s.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(r[n].col))[0]);r.length>0&&s.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(s)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});pt.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,n,r="";for(t=0;t<this.colCnt;t++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=e('<div class="fc-content-skeleton"><table><tr>'+r+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,t){var n,r,i;for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),n=0;n<e.length;n++)r=e[n],t&&t.col===r.col&&(i=t.el,r.el.css({left:i.css("left"),right:i.css("right"),"margin-left":i.css("margin-left"),"margin-right":i.css("margin-right")}));this.helperSegs=e},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},attachSegsByCol:function(e,t){var n,r,i;for(n=0;n<this.colCnt;n++)for(r=e[n],i=0;i<r.length;i++)t.eq(n).append(r[i].el)},unrenderNamedSegs:function(e){var t,n=this[e];if(n){for(t=0;t<n.length;t++)n[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var n,r;for(e=this.renderFgSegEls(e),n=this.groupSegsByCol(e),r=0;r<this.colCnt;r++)this.updateFgSegCoords(n[r]);return this.attachSegsByCol(n,t),e},fgSegHtml:function(e,t){var n,r,i,s=this.view,o=e.event,a=s.isEventDraggable(o),l=!t&&e.isStart&&s.isEventResizableFromStart(o),u=!t&&e.isEnd&&s.isEventResizableFromEnd(o),c=this.getSegClasses(e,a,l||u),d=Q(this.getSegSkinCss(e));return c.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(o)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),r=this.getEventTimeText(e,"LT"),i=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(o),r=this.getEventTimeText(o,"LT"),i=this.getEventTimeText(o,null,!1)),'<a class="'+c.join(" ")+'"'+(o.url?' href="'+J(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+J(i)+'" data-full="'+J(r)+'"><span>'+J(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+J(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,n,r;if(this.sortEventSegs(e),t=Re(e),He(t),n=t[0]){for(r=0;r<n.length;r++)je(n[r]);for(r=0;r<n.length;r++)this.computeFgSegForwardBack(n[r],0,0)}},computeFgSegForwardBack:function(e,t,n){var r,i=e.forwardSegs;if(void 0===e.forwardCoord)for(i.length?(this.sortForwardSegs(i),this.computeFgSegForwardBack(i[0],t+1,n),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)this.computeFgSegForwardBack(i[r],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(ne(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,n,r=this.view.opt("slotEventOverlap"),i=e.backwardCoord,s=e.forwardCoord,o=this.generateSegVerticalCss(e);return r&&(s=Math.min(1,i+2*(s-i))),this.isRTL?(t=1-s,n=i):(t=i,n=1-s),o.zIndex=e.level+1,o.left=100*t+"%",o.right=100*n+"%",r&&e.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o}});var ft=$e.View=ve.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,n,r,i){this.calendar=e,this.type=this.name=n,this.options=r,this.intervalDuration=i||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=T(this.opt("eventOrder")),this.documentMousedownProxy=ne(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,r=F(this.intervalDuration),i=e.clone().startOf(r),s=i.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(i.stripTime(),s.stripTime()):(i.hasTime()||(i=this.calendar.time(0)),s.hasTime()||(s=this.calendar.time(0))),t=i.clone(),t=this.skipHiddenDays(t),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:r,intervalStart:i,intervalEnd:s,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var r=e.end;return r.hasTime()||(r=r.clone().subtract(1)),he(e.start,r,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var n=this,r=null;return this.displaying&&(r=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return n.displaying=e.when(n.displayView(t)).then(function(){n.forceScroll(n.computeInitialScroll(r)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var t=this,n=this.displaying;return n?n.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){e(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){e(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,n,r,i=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit(),e&&(n=ne(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,r=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,n(),r=+t.duration(1,e),r=Math.max(100,r),i.nowIndicatorIntervalID=setInterval(n,r)},r)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.setScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},computeScrollerHeight:function(e){var t,n,r=this.scrollerEl;return t=this.el.add(r),t.css({position:"relative",left:-1}),n=this.el.outerHeight()-r.height(),t.css({position:"",left:""}),e-n},computeInitialScroll:function(e){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(e){return this.scrollerEl?this.scrollerEl.scrollTop(e):void 0},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function(e){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var r=this.trigger("eventRender",t,t,n);return r===!1?n=null:r&&r!==!0&&(n=e(r)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,r=this.getEventSegs();for(n=0;n<r.length;n++)t&&r[n].event._id!==t._id||r[n].el&&e.call(this,r[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return X(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,r,i){var s=this.calendar,o=s.mutateEvent(e,t,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventDrop(e,o.dateDelta,a,r,i),s.reportEventChange()},triggerEventDrop:function(e,t,n,r,i){this.trigger("eventDrop",r[0],e,t,n,i,{})},reportExternalDrop:function(t,n,r,i,s){var o,a,l=t.eventProps;l&&(o=e.extend({},l,n),a=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(a,n,r,i,s)},triggerExternalDrop:function(e,t,n,r,i){this.trigger("drop",n[0],t.start,r,i),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return X(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,r,i){var s=this.calendar,o=s.mutateEvent(e,t,n),a=function(){o.undo(),s.reportEventChange()};this.triggerEventResize(e,o.durationDelta,a,r,i),s.reportEventChange()},triggerEventResize:function(e,t,n,r,i){this.trigger("eventResize",r[0],e,t,n,i,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},documentMousedown:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&S(t)&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},triggerDayClick:function(e,t,n){this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],r=[],i=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;7>t;t++)(r[t]=-1!==e.inArray(t,n))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var r=e.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(n?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),r=e.end,i=null;return r&&(i=r.clone().stripTime(),t=+r.time(),t&&t>=this.nextDayThreshold&&i.add(1,"days")),(!r||n>=i)&&(i=n.clone().add(1,"days")),{start:n,end:i}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),mt=$e.Calendar=ve.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Ie,initialize:function(){},initOptions:function(e){var t,i,s,o;e=r(e),t=e.lang,i=gt[t],i||(t=mt.defaults.lang,i=gt[t]||{}),s=X(e.isRTL,i.isRTL,mt.defaults.isRTL),o=s?mt.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=i,this.overrides=e,this.options=n([mt.defaults,o,i,e]),Oe(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,r,i;if(-1!=e.inArray(t,Ye))for(n=this.header.getViewsWithButtons(),e.each($e.views,function(e){n.push(e)}),r=0;r<n.length;r++)if(i=this.getViewSpec(n[r]),i&&i.singleUnit==t)return i},buildViewSpec:function(e){for(var r,i,s,o,a=this.overrides.views||{},l=[],u=[],c=[],d=e;d;)r=ze[d],i=a[d],d=null,"function"==typeof r&&(r={"class":r}),r&&(l.unshift(r),u.unshift(r.defaults||{}),s=s||r.duration,d=d||r.type),i&&(c.unshift(i),s=s||i.duration,d=d||i.type);return r=z(l),r.type=e,r["class"]?(s&&(s=t.duration(s),s.valueOf()&&(r.duration=s,o=F(s),1===s.as(o)&&(r.singleUnit=o,c.unshift(a[o]||{})))),r.defaults=n(u),r.overrides=n(c),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,e),r):!1},buildViewSpecOptions:function(e){e.options=n([mt.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),Oe(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var r=n.buttonText||{};return r[t]||(e.singleUnit?r[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(mt.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(e,t){var n,r=this.moment(e).stripZone();return n=t?this.moment(t).stripZone():r.hasTime()?r.clone().add(this.defaultTimedEventDuration):r.clone().add(this.defaultAllDayEventDuration),{start:r,end:n}}});mt.mixin(it),mt.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},mt.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},mt.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var gt=$e.langs={};$e.datepickerLang=function(t,n,r){var i=gt[t]||(gt[t]={});i.isRTL=r.isRTL,i.weekNumberTitle=r.weekHeader,e.each(vt,function(e,t){i[e]=t(r)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=r,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(r))},$e.lang=function(t,r){var i,s;i=gt[t]||(gt[t]={}),r&&(i=gt[t]=n([i,r])),s=Le(t),e.each(yt,function(e,t){null==i[e]&&(i[e]=t(s,i))}),mt.defaults.lang=t};var vt={buttonText:function(e){return{prev:Z(e.prevText),next:Z(e.nextText),today:Z(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},yt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},bt={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};$e.lang("en",mt.englishDefaults),$e.sourceNormalizers=[],$e.sourceFetchers=[];var wt={dataType:"json",cache:!1},St=1;mt.prototype.getPeerEvents=function(e,t){var n,r,i=this.getEventCache(),s=[];for(n=0;n<i.length;n++)r=i[n],t&&t._id===r._id||s.push(r);return s};var xt=$e.BasicView=ft.extend({dayGridClass:ht,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var e=this.dayGridClass.extend(_t);return new e(this)},setRange:function(e){ft.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=ft.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),
this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,r=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),r&&"number"==typeof r&&this.dayGrid.limitRows(r),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),r&&"number"!=typeof r&&this.dayGrid.limitRows(r),!t&&d(this.scrollerEl,n)&&(i(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(e),this.scrollerEl.height(n))},setGridHeight:function(e,t){t?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),_t={renderHeadIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+J(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"><span>"+this.getCellDate(e,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},kt=$e.MonthView=xt.extend({computeRange:function(e){var t,n=xt.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});ze.basic={"class":xt},ze.basicDay={type:"basic",duration:{days:1}},ze.basicWeek={type:"basic",duration:{weeks:1}},ze.month={"class":kt,duration:{months:1},defaults:{fixedWeekCount:!0}};var Ct=$e.AgendaView=ft.extend({timeGridClass:pt,timeGrid:null,dayGridClass:ht,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){var e=this.timeGridClass.extend(Tt);return new e(this)},instantiateDayGrid:function(){var e=this.dayGridClass.extend(Dt);return new e(this)},setRange:function(e){ft.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),ft.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Et),n&&this.dayGrid.limitRows(n)),t||(r=this.computeScrollerHeight(e),d(this.scrollerEl,r)?(i(this.noScrollRowEls,v(this.scrollerEl)),r=this.computeScrollerHeight(e),this.scrollerEl.height(r)):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,n},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var n=this.timeGrid.queryHit(e,t);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(e,t)),n},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,n,r=[],i=[],s=[];for(n=0;n<e.length;n++)e[n].allDay?r.push(e[n]):i.push(e[n]);t=this.timeGrid.renderEvents(i),this.dayGrid&&(s=this.dayGrid.renderEvents(r)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Tt={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"><span>"+J(e)+"</span></th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Dt={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+(e.opt("allDayHtml")||J(e.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var e=this.view;return'<td class="fc-axis" '+e.axisStyleAttr()+"></td>"}},Et=5,Mt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return ze.agenda={"class":Ct,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},ze.agendaDay={type:"agenda",duration:{days:1}},ze.agendaWeek={type:"agenda",duration:{weeks:1}},$e}),/*!
 * FullCalendar v2.6.1 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(t,o,a,l,u){function c(n,r){var s=r||[{message:n}];(t.googleCalendarError||e.noop).apply(u,s),(u.options.googleCalendarError||e.noop).apply(u,s),i.warn.apply(null,[n].concat(r||[]))}var d,h,p=r+"/"+encodeURIComponent(t.googleCalendarId)+"/events?callback=?",f=t.googleCalendarApiKey||u.options.googleCalendarApiKey,m=t.success;return f?(o.hasZone()||(o=o.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),l&&"local"!=l&&(h=l.replace(" ","_")),d=e.extend({},t.data||{},{key:f,timeMin:o.format(),timeMax:a.format(),timeZone:h,singleEvents:!0,maxResults:9999}),e.extend({},t,{googleCalendarId:null,url:p,data:d,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var r,i,o=[];if(t.error)c("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(e.each(t.items,function(e,t){var r=t.htmlLink;h&&(r=n(r,"ctz="+h)),o.push({id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:r,location:t.location,description:t.description})}),r=[o].concat(Array.prototype.slice.call(arguments,1)),i=s(m,this,r),e.isArray(i)))return i;return o}})):(c("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function n(e,t){return e.replace(/(\?.*?)?(#|$)/,function(e,n,r){return(n?n+"&":"?")+t+r})}var r="https://www.googleapis.com/calendar/v3/calendars",i=e.fullCalendar,s=i.applyAll;i.sourceNormalizers.push(function(e){var t,n=e.googleCalendarId,r=e.url;!n&&r&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r)?n=r:((t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r)))&&(n=decodeURIComponent(t[1])),n&&(e.googleCalendarId=n)),n&&(null==e.editable&&(e.editable=!1),e.url=n)}),i.sourceFetchers.push(function(e,n,r,i){return e.googleCalendarId?t(e,n,r,i,this):void 0})}),!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){!function(){"use strict";var e=(t.defineLocale||t.lang).call(t,"ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,t,n){return 12>e?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return e}(),e.fullCalendar.datepickerLang("ja","ja",{closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"}),e.fullCalendar.lang("ja",{buttonText:{month:"\u6708",week:"\u9031",day:"\u65e5",list:"\u4e88\u5b9a\u30ea\u30b9\u30c8"},allDayText:"\u7d42\u65e5",eventLimitText:function(e){return"\u4ed6 "+e+" \u4ef6"}})}),/*!
FullCalendar Scheduler v1.2.1
Docs & License: http://fullcalendar.io/scheduler/
(c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):e(jQuery,moment)}(function(e,t){var n,r,i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b,w,S,x,_,k,C,T,D,E,M,R,H,j,P,F,I,O,L,A,N,W,$,z,B,q,G,Y,V,U,X,J,Z,Q,K,ee,te,ne,re,ie,se,oe,ae,le,ue,ce,de,he,pe,fe,me,ge,ve,ye,be,we,Se,xe,_e,ke,Ce,Te,De,Ee,Me,Re,He,je,Pe,Fe,Ie,Oe,Le,Ae=[].slice,Ne=function(e,t){function n(){this.constructor=e}for(var r in t)We.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},We={}.hasOwnProperty;return d=e.fullCalendar,d.schedulerVersion="1.2.1",3!==d.internalApiVersion?void d.warn("v"+d.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+d.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(r=d.Calendar,s=d.Class,G=d.View,h=d.Grid,me=d.intersectRanges,ee=d.debounce,ye=d.isInt,de=d.getScrollbarWidths,l=d.DragListener,fe=d.htmlEscape,X=d.computeIntervalUnit,Re=d.proxy,V=d.capitaliseFirstLetter,Y=d.applyAll,u=d.Emitter,se=d.durationHasTime,ie=d.divideRangeByDuration,re=d.divideDurationByDuration,Se=d.multiplyDuration,Ee=d.parseFieldSpecs,U=d.compareByFieldSpecs,oe=d.flexibleCompare,ge=d.intersectRects,o=d.CoordCache,ae=function(e){return e.find("> td").filter(function(e,t){return t.rowSpan<=1})},je=null,xe=function(e,t){var n,r;if(n=e.css("direction"),r=e[0],null!=t){if("rtl"===n)switch(je){case"positive":t=t-r.clientWidth+r.scrollWidth;break;case"reverse":t=-t}return r.scrollLeft=t,e}if(t=r.scrollLeft,"rtl"===n)switch(je){case"positive":t=t+r.clientWidth-r.scrollWidth;break;case"reverse":t=-t}return t},ce=function(e){var t,n,r;if(t=e.css("direction"),n=e[0],r=n.scrollLeft,"rtl"===t)switch(je){case"negative":r=r-n.clientWidth+n.scrollWidth;break;case"reverse":r=-r-n.clientWidth+n.scrollWidth}return r},te=function(){var t,n,r;return t=e('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),n=t[0],r=n.scrollLeft>0?"positive":(n.scrollLeft=1,t.scrollLeft>0?"reverse":"negative"),t.remove(),r},e(function(){return je=te()}),N=function(){function t(t,n){this.overflowX=null!=t?t:"auto",this.overflowY=null!=n?n:"auto",this.el=e('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",Re(this,"handleScroll")).on("scroll",ee(Re(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return t.prototype.el=null,t.prototype.innerEl=null,t.prototype.contentEl=null,t.prototype.bgEl=null,t.prototype.overflowX=null,t.prototype.overflowY=null,t.prototype.isScrolling=!1,t.prototype.handlers=null,t.prototype.height=null,t.prototype.contentWidth=null,t.prototype.contentMinWidth=null,t.prototype.gutters=null,t.prototype.update=function(){var e,t,n,r,i,s,o;return s=this.scrollEl,r=this.overflowX,i=this.overflowY,t="invisible-scroll"===r,n="invisible-scroll"===i,s.toggleClass("fc-no-scrollbars",(t||"hidden"===r)&&(n||"hidden"===i)&&!pe(s)),s.css({overflowX:t?"scroll":r,overflowY:n?"scroll":i}),e={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(t||n)&&(o=de(s),t&&(e.marginTop=-o.top,e.marginBottom=-o.bottom),n&&(e.marginLeft=-o.left,e.marginRight=-o.right)),s.css(e)},t.prototype.getScrollbarWidths=function(){var e;return e=de(this.scrollEl),"invisible-scroll"===this.overflowX&&(e.top=0,e.bottom=0),"invisible-scroll"===this.overflowY&&(e.left=0,e.right=0),e},t.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},t.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},t.prototype.setHeight=function(e){return this.height=e,this.updateCss()},t.prototype.getHeight=function(){var e;return null!=(e=this.height)?e:this.scrollEl.height()},t.prototype.setContentWidth=function(e){return this.contentWidth=e,this.updateCss()},t.prototype.setContentMinWidth=function(e){return this.contentMinWidth=e,this.updateCss()},t.prototype.setGutters=function(t){return t?e.extend(this.gutters,t):this.gutters={},this.updateCss()},t.prototype.updateCss=function(){var e;return this.scrollEl.height(this.height),e=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(e.left||0)+(e.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(e.left||0)+(e.right||0):void 0,paddingLeft:e.left||"",paddingRight:e.right||"",paddingTop:e.top||"",paddingBottom:e.bottom||""}),this.bgEl.css({left:e.left||"",right:e.right||"",top:e.top||"",bottom:e.bottom||""})},t.prototype.append=function(e){return this.contentEl.append(e)},t.prototype.scrollTop=function(e){return this.scrollEl.scrollTop(e)},t.prototype.scrollLeft=function(e){return this.scrollEl.scrollLeft(e)},t.prototype.on=function(e,t){var n;return((n=this.handlers)[e]||(n[e]=[])).push(t),this},t.prototype.trigger=function(){var e,t,n,r,i,s;for(n=arguments[0],e=2<=arguments.length?Ae.call(arguments,1):[],s=this.handlers[n]||[],r=0,i=s.length;i>r;r++)t=s[r],t.apply(this,e)},t}(),pe=function(e){var t;return t=de(e),t.left||t.right||t.top||t.bottom},A=function(){function e(e,t){var n,r,i,s;for(this.axis=e,this.scrollers=t,i=this.scrollers,n=0,r=i.length;r>n;n++)s=i[n],this.initScroller(s)}return e.prototype.axis=null,e.prototype.scrollers=null,e.prototype.masterScroller=null,e.prototype.enabled=!0,e.prototype.enable=function(){return this.enabled=!0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.initScroller=function(e){return e.on("scrollStart",function(t){return function(){t.masterScroller||(t.masterScroller=e)}}(this)).on("scroll",function(t){return function(n,r){var i,s,o,a;if(e===t.masterScroller)for(a=t.scrollers,i=0,s=a.length;s>i;i++)if(o=a[i],o!==t.masterScroller)switch(t.axis){case"horizontal":o.scrollLeft(r);break;case"vertical":o.scrollTop(n)}}}(this)).on("scrollStop",function(t){return function(){e===t.masterScroller&&(t.masterScroller=null)}}(this))},e.prototype.update=function(){var e,t,n,r,i,s,o,a,l,u,c,d,h;for(e=function(){var e,t,n,r;for(n=this.scrollers,r=[],e=0,t=n.length;t>e;e++)d=n[e],r.push(d.getScrollbarWidths());return r}.call(this),a=l=u=o=0,n=0,i=e.length;i>n;n++)h=e[n],a=Math.max(a,h.left),l=Math.max(l,h.right),u=Math.max(u,h.top),o=Math.max(o,h.bottom);for(c=this.scrollers,t=r=0,s=c.length;s>r;t=++r)d=c[t],h=e[t],d.setGutters("horizontal"===this.axis?{left:a-h.left,right:l-h.right}:{top:u-h.top,bottom:o-h.bottom})},e}(),O=function(){function t(e){this.scroller=e,this.sprites=[],this.scroller.on("scrollStart",function(e){return function(){return e.shouldRequeryDimensions?e.cacheDimensions():void 0}}(this)),this.scroller.on("scroll",function(e){return function(t,n){var r,i,s;return i=e.scroller.scrollEl,r=ce(i),s=i.scrollTop(),e.viewportRect={left:r,right:r+i[0].clientWidth,top:s,bottom:s+i[0].clientHeight},e.updatePositions()}}(this))}return t.prototype.scroller=null,t.prototype.scrollbarWidths=null,t.prototype.sprites=null,t.prototype.viewportRect=null,t.prototype.contentOffset=null,t.prototype.isHFollowing=!0,t.prototype.isVFollowing=!1,t.prototype.containOnNaturalLeft=!1,t.prototype.containOnNaturalRight=!1,t.prototype.shouldRequeryDimensions=!1,t.prototype.minTravel=0,t.prototype.isForcedAbsolute=!1,t.prototype.isForcedRelative=!1,t.prototype.setSprites=function(t){var n,r,i;if(this.clearSprites(),t instanceof e)return this.sprites=function(){var n,r,s;for(s=[],n=0,r=t.length;r>n;n++)i=t[n],s.push(new L(e(i),this));return s}.call(this);for(n=0,r=t.length;r>n;n++)i=t[n],i.follower=this;return this.sprites=t},t.prototype.clearSprites=function(){var e,t,n,r;for(n=this.sprites,e=0,t=n.length;t>e;e++)r=n[e],r.clear();return this.sprites=[]},t.prototype.cacheDimensions=function(){var e,t,n,r,i,s,o;for(i=this.scroller.scrollEl,t=ce(i),o=i.scrollTop(),this.viewportRect={left:t,right:t+i[0].clientWidth,top:o,bottom:o+i[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),r=this.sprites,e=0,n=r.length;n>e;e++)s=r[e],s.cacheDimensions()},t.prototype.forceAbsolute=function(){var e,t,n,r,i;for(this.isForcedAbsolute=!0,n=this.sprites,r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(i.doAbsolute?void 0:i.assignPosition());return r},t.prototype.forceRelative=function(){var e,t,n,r,i;for(this.isForcedRelative=!0,n=this.sprites,r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(i.doAbsolute?i.assignPosition():void 0);return r},t.prototype.clearForce=function(){var e,t,n,r,i;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,n=this.sprites,r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(i.assignPosition());return r},t.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},t.prototype.updatePositions=function(){var e,t,n,r;for(n=this.sprites,e=0,t=n.length;t>e;e++)r=n[e],r.updatePosition()},t.prototype.getContentRect=function(e){var t,n,r;return n=e.offset(),t=n.left+parseFloat(e.css("border-left-width"))+parseFloat(e.css("padding-left"))-this.contentOffset.left,r=n.top+parseFloat(e.css("border-left-width"))+parseFloat(e.css("padding-left"))-this.contentOffset.top,{left:t,right:t+e.width(),top:r,bottom:r+e.height()}},t.prototype.getBoundingRect=function(e){var t,n,r;return n=e.offset(),t=n.left-this.contentOffset.left,r=n.top-this.contentOffset.top,{left:t,right:t+e.outerWidth(),top:r,bottom:r+e.outerHeight()}},t}(),L=function(){function e(e,t){this.el=e,this.follower=null!=t?t:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return e.prototype.follower=null,e.prototype.el=null,e.prototype.absoluteEl=null,e.prototype.naturalRect=null,e.prototype.parentRect=null,e.prototype.containerRect=null,e.prototype.isEnabled=!0,e.prototype.isHFollowing=!1,e.prototype.isVFollowing=!1,e.prototype.doAbsolute=!1,e.prototype.isAbsolute=!1,e.prototype.isCentered=!1,e.prototype.rect=null,e.prototype.isBlock=!1,e.prototype.naturalWidth=null,e.prototype.disable=function(){return this.isEnabled?(this.isEnabled=!1,this.resetPosition(),this.unabsolutize()):void 0},e.prototype.enable=function(){return this.isEnabled?void 0:(this.isEnabled=!0,this.assignPosition())},e.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},e.prototype.cacheDimensions=function(){var e,t,n,r,i,s,o,a;return r=!1,i=!1,n=!1,this.naturalWidth=this.el.width(),this.resetPosition(),t=this.follower,o=this.naturalRect=t.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=t.getBoundingRect(a),e=this.containerRect=we(t.getContentRect(a),o),s=t.minTravel,t.containOnNaturalLeft&&(e.left=o.left),t.containOnNaturalRight&&(e.right=o.right),t.isHFollowing&&ue(e)-ue(o)>=s&&(n="center"===this.el.css("text-align"),r=!0),t.isVFollowing&&le(e)-le(o)>=s&&(i=!0),this.isHFollowing=r,this.isVFollowing=i,this.isCentered=n},e.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},e.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},e.prototype.computePosition=function(){var e,t,n,r,i,s,o,a;return o=this.follower.viewportRect,n=this.parentRect,e=this.containerRect,a=ge(o,n),r=null,t=!1,a&&(r=Q(this.naturalRect),s=ge(r,n),(this.isCentered&&!Pe(o,n)||s&&!Pe(o,s))&&(t=!0,this.isHFollowing&&(this.isCentered?(i=ue(r),r.left=(a.left+a.right)/2-i/2,r.right=r.left+i):he(r,o)||(t=!1),he(r,e)&&(t=!1)),this.isVFollowing&&(Le(r,o)||(t=!1),Le(r,e)&&(t=!1)),Pe(o,r)||(t=!1))),this.rect=r,this.doAbsolute=t},e.prototype.assignPosition=function(){var e,t;return this.isEnabled?this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(t=this.rect.top-this.naturalRect.top,e=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(t||e)).css({top:t,left:e})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize():void 0},e.prototype.absolutize=function(){return this.isAbsolute?void 0:(this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0)},e.prototype.unabsolutize=function(){return this.isAbsolute?(this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1):void 0},e.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},e}(),Q=function(e){return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}},ue=function(e){return e.right-e.left},le=function(e){return e.bottom-e.top},Pe=function(e,t){return Fe(e,t)&&Ie(e,t)},Fe=function(e,t){return t.left>=e.left&&t.right<=e.right},Ie=function(e,t){return t.top>=e.top&&t.bottom<=e.bottom},he=function(e,t){return e.left<t.left?(e.right=t.left+ue(e),e.left=t.left,!0):e.right>t.right?(e.left=t.right-ue(e),e.right=t.right,!0):!1},Le=function(e,t){return e.top<t.top?(e.bottom=t.top+le(e),e.top=t.top,!0):e.bottom>t.bottom?(e.top=t.bottom-le(e),e.bottom=t.bottom,!0):!1},we=function(e,t){return{left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom)}},i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.resourceManager=null,n.prototype.initialize=function(){return this.resourceManager=new T(this)},n.prototype.instantiateView=function(e){var t,n;return t=this.getViewSpec(e),n=t["class"],this.options.resources&&t.options.resources!==!1&&(t.queryResourceClass?n=t.queryResourceClass(t)||n:t.resourceClass&&(n=t.resourceClass)),new n(this,e,t.options,t.duration)},n.prototype.getResources=function(){return this.resourceManager.topLevelResources},n.prototype.addResource=function(e,t){var n;null==t&&(t=!1),n=this.resourceManager.addResource(e),t&&this.view.scrollToResource&&n.done(function(e){return function(t){return e.view.scrollToResource(t)}}(this))},n.prototype.removeResource=function(e){return this.resourceManager.removeResource(e)},n.prototype.refetchResources=function(){this.resourceManager.fetchResources()},n.prototype.rerenderResources=function(){this.resourceManager.resetResources()},n.prototype.getPeerEvents=function(e,t){var r,i,s,o,a,l,u,c,d,h,p,f,m,g;for(f=n.__super__.getPeerEvents.apply(this,arguments),h=e.resourceId?[e.resourceId]:t?this.getEventResourceIds(t):[],r=[],s=0,l=f.length;l>s;s++){if(p=f[s],i=!1,g=this.getEventResourceIds(p),g.length&&h.length){for(o=0,u=g.length;u>o;o++)for(m=g[o],a=0,c=h.length;c>a;a++)if(d=h[a],d===m){i=!0;break}}else i=!0;i&&r.push(p)}return r},n.prototype.buildSelectSpan=function(e,t,r){var i;return i=n.__super__.buildSelectSpan.apply(this,arguments),r&&(i.resourceId=r),i},n.prototype.getResourceById=function(e){return this.resourceManager.getResourceById(e)},n.prototype.getEventResourceId=function(e){return this.getEventResourceIds(e)[0]},n.prototype.getEventResourceIds=function(e){var t,n,r,i,s,o,a,l;if(l=String(null!=(s=null!=(o=e[this.getEventResourceField()])?o:e.resourceId)?s:""))return[l];if(e.resourceIds){for(i=[],a=e.resourceIds,t=0,n=a.length;n>t;t++)l=a[t],r=String(null!=l?l:""),r&&i.push(r);return i}return[]},n.prototype.setEventResourceId=function(e,t){return e[this.getEventResourceField()]=String(null!=t?t:"")},n.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},n.prototype.getResourceEvents=function(t){var n;return n="object"==typeof t?t:this.getResourceById(t),n?this.clientEvents(function(t){return function(r){return-1!==e.inArray(n.id,t.getEventResourceIds(r))}}(this)):[]},n.prototype.getEventResource=function(e){return this.getEventResources(e)[0]},n.prototype.getEventResources=function(e){var t,n,r,i,s,o,a;if(t="object"==typeof e?e:this.clientEvents(e)[0],a=[],t)for(i=this.getEventResourceIds(t),n=0,r=i.length;r>n;n++)o=i[n],s=this.getResourceById(o),s&&a.push(s);return a},n}(r),r.prototype=i.prototype,ke=G.prototype.displayView,Te=G.prototype.renderSkeleton,De=G.prototype.unrenderSkeleton,_e=G.prototype.displayEvents,G.prototype.isResourcesBound=!1,G.prototype.settingResources=null,G.prototype.displayView=function(){return ke.apply(this,arguments),Me(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},G.prototype.unrenderSkeleton=function(){return De.apply(this,arguments),this.unbindResources()},G.prototype.displayEvents=function(e){return this.whenResources(function(t){return function(){return _e.call(t,e)}}(this))},G.prototype.bindResources=function(){var t;return this.isResourcesBound?void 0:(this.isResourcesBound=!0,this.settingResources=e.Deferred(),t=function(e){return function(t){return e.setResources(t),e.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=t).on("unset",this._unsetResources=Re(this,"unsetResources")).on("reset",this._resetResources=Re(this,"resetResources")).on("add",this._addResource=Re(this,"addResource")).on("remove",this._removeResource=Re(this,"removeResource")),this.calendar.resourceManager.hasFetched()?t(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources())},G.prototype.unbindResources=function(){return this.isResourcesBound?(this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1):void 0},G.prototype.whenResources=function(t){return"resolved"===this.settingResources.state()?e.when(t?t():void 0):t?this.settingResources.then(t):this.settingResources.promise()},G.prototype.setResources=function(e){},G.prototype.unsetResources=function(){},G.prototype.resetResources=function(e){return this.calendar.rerenderEvents()},G.prototype.addResource=function(e){return this.resetResources(this.calendar.resourceManager.topLevelResources)},G.prototype.removeResource=function(e){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Ce=h.prototype.getSegClasses,h.prototype.getSegClasses=function(e){var t,n,r,i,s;for(t=Ce.apply(this,arguments),i=this.getSegResources(e),n=0,r=i.length;r>n;n++)s=i[n],t=t.concat(s.eventClassName||[]);return t},h.prototype.getSegSkinCss=function(e){var t,n,r,i,s,o,a,l,u,c;return c=this.view,t=e.event,l=t.source||{},n=t.color,u=l.color,o=c.opt("eventColor"),a=this.getSegResources(e),r=function(){var e,t,n,r;for(r=null,t=0,n=a.length;n>t;t++)for(e=a[t];e&&!r;)r=e.eventBackgroundColor||e.eventColor,e=e._parent;return r},i=function(){var e,t,n,r;for(r=null,t=0,n=a.length;n>t;t++)for(e=a[t];e&&!r;)r=e.eventBorderColor||e.eventColor,e=e._parent;return r},s=function(){var e,t,n,r;for(r=null,t=0,n=a.length;n>t;t++)for(e=a[t];e&&!r;)r=e.eventTextColor,e=e._parent;return r},{"background-color":t.backgroundColor||n||r()||l.backgroundColor||u||c.opt("eventBackgroundColor")||o,"border-color":t.borderColor||n||i()||l.borderColor||u||c.opt("eventBorderColor")||o,color:t.textColor||s()||l.textColor||c.opt("eventTextColor")}},h.prototype.getSegResources=function(e){return e.resource?[e.resource]:this.view.calendar.getEventResources(e.event)},T=function(t){function n(e){this.calendar=e,this.initializeCache()}return Ne(n,t),n.mixin(u),n.resourceGuid=1,n.ajaxDefaults={dataType:"json",cache:!1},n.prototype.calendar=null,n.prototype.topLevelResources=null,n.prototype.resourcesById=null,n.prototype.fetching=null,n.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},n.prototype.getResources=function(){var t;return this.fetching?e.Deferred().resolve(this.topLevelResources).promise():(t=e.Deferred(),this.fetchResources().done(function(e){return t.resolve(e)}).fail(function(){return t.resolve([])}),t)},n.prototype.fetchResources=function(){var t;return t=this.fetching,e.when(t).then(function(e){return function(){return e.fetching=e.fetchResourceInputs().then(function(n){return e.setResources(n,Boolean(t)),e.topLevelResources})}}(this))},n.prototype.fetchResourceInputs=function(){var t,r,i;switch(t=e.Deferred(),i=this.calendar.options.resources,"string"===e.type(i)&&(i={url:i}),e.type(i)){case"function":i(function(e){return function(e){return t.resolve(e)}}(this));break;case"object":r=e.ajax(e.extend({},n.ajaxDefaults,i));break;case"array":t.resolve(i);break;default:t.resolve([])}return r||(r=t.promise()),"pending"===!r.state()&&(this.calendar.pushLoading(),r.always(function(){return this.calendar.popLoading()})),r},n.prototype.resetResources=function(){return this.getResources().then(function(e){return function(){return e.trigger("reset",e.topLevelResources)}}(this))},n.prototype.getResourceById=function(e){return this.resourcesById[e]},n.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},n.prototype.setResources=function(e,t){var n,r,i,s,o,a;for(this.initializeCache(),o=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)s=e[t],r.push(this.buildResource(s));return r}.call(this),a=function(){var e,t,n;for(n=[],e=0,t=o.length;t>e;e++)i=o[e],this.addResourceToIndex(i)&&n.push(i);return n}.call(this),n=0,r=a.length;r>n;n++)i=a[n],this.addResourceToTree(i);return t?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},n.prototype.addResource=function(t){return e.when(this.fetching).then(function(e){return function(){var n;return n=e.buildResource(t),e.addResourceToIndex(n)?(e.addResourceToTree(n),e.trigger("add",n),n):!1}}(this))},n.prototype.addResourceToIndex=function(e){var t,n,r,i;if(this.resourcesById[e.id])return!1;for(this.resourcesById[e.id]=e,i=e.children,n=0,r=i.length;r>n;n++)t=i[n],this.addResourceToIndex(t);return!0},n.prototype.addResourceToTree=function(e){var t,n,r,i;if(!e.parent){if(n=String(null!=(r=e.parentId)?r:"")){if(t=this.resourcesById[n],!t)return!1;e.parent=t,i=t.children}else i=this.topLevelResources;i.push(e)}return!0},n.prototype.removeResource=function(t){var n;return n="object"==typeof t?t.id:t,e.when(this.fetching).then(function(e){return function(){var t;return t=e.removeResourceFromIndex(n),t&&(e.removeResourceFromTree(t),e.trigger("remove",t)),t}}(this))},n.prototype.removeResourceFromIndex=function(e){var t,n,r,i,s;if(s=this.resourcesById[e]){for(delete this.resourcesById[e],i=s.children,n=0,r=i.length;r>n;n++)t=i[n],this.removeResourceFromIndex(t.id);return s}return!1},n.prototype.removeResourceFromTree=function(e,t){var n,r,i,s;for(null==t&&(t=this.topLevelResources),n=r=0,i=t.length;i>r;n=++r){if(s=t[n],s===e)return e.parent=null,t.splice(n,1),!0;if(this.removeResourceFromTree(e,s.children))return!0}return!1},n.prototype.buildResource=function(t){var r,i,s,o,a;return a=e.extend({},t),a.id=String(null!=(o=t.id)?o:"_fc"+n.resourceGuid++),s=t.eventClassName,a.eventClassName=function(){switch(e.type(s)){case"string":return s.split(/\s+/);case"array":return s;default:return[]}}(),a.children=function(){var e,n,s,o,l;for(o=null!=(s=t.children)?s:[],l=[],e=0,n=o.length;n>e;e++)i=o[e],r=this.buildResource(i),r.parent=a,l.push(r);return l}.call(this),a},n}(s),j=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.resourceTextFunc=null,n.prototype.unsetResources=function(){return this.clearEvents()},n.prototype.resetResources=function(e){var t;return t=this.queryScroll(),this.unsetResources(),this.setResources(e),this.setScroll(t),this.calendar.rerenderEvents()},n.prototype.getResourceText=function(e){return this.getResourceTextFunc()(e)},n.prototype.getResourceTextFunc=function(){var e;return this.resourceTextFunc?this.resourceTextFunc:(e=this.opt("resourceText"),"function"!=typeof e&&(e=function(e){return e.title||e.id}),this.resourceTextFunc=e)},n.prototype.triggerDayClick=function(e,t,n){var r;return r=this.calendar.resourceManager,this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),n,this,r.getResourceById(e.resourceId))},n.prototype.triggerSelect=function(e,t){var n;return n=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t,this,n.getResourceById(e.resourceId))},n.prototype.triggerExternalDrop=function(e,t,n,r,i){return this.trigger("drop",n[0],t.start,r,i,t.resourceId),e?this.trigger("eventReceive",null,e):void 0},n.prototype.reportEventDrop=function(){var e,t,r;return t=arguments[0],e=arguments[1],r=3<=arguments.length?Ae.call(arguments,2):[],e=this.normalizeDropLocation(e),e.resourceId&&t.resourceIds&&(e.resourceIds=null),n.__super__.reportEventDrop.apply(this,[t,e].concat(Ae.call(r)))},n.prototype.reportExternalDrop=function(){var e,t,r;return t=arguments[0],e=arguments[1],r=3<=arguments.length?Ae.call(arguments,2):[],e=this.normalizeDropLocation(e),n.__super__.reportExternalDrop.apply(this,[t,e].concat(Ae.call(r)))},n.prototype.normalizeDropLocation=function(t){var n;return n=e.extend({},t),delete n.resourceId,this.calendar.setEventResourceId(n,t.resourceId),n},n}(G),C=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.allowCrossResource=!0,n.prototype.eventRangeToSpans=function(t,r){var i,s,o,a,l;if(a=this.view.calendar.getEventResourceIds(r),a.length){for(l=[],i=0,s=a.length;s>i;i++)o=a[i],l.push(e.extend({},t,{resourceId:o}));return l}return d.isBgEvent(r)?n.__super__.eventRangeToSpans.apply(this,arguments):[]},n.prototype.fabricateHelperEvent=function(e,t){var r;return r=n.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(r,e.resourceId),r},n.prototype.computeEventDrop=function(e,t,r){var i,s;return i=!0,i||e.resourceId===t.resourceId?(s=n.__super__.computeEventDrop.apply(this,arguments),s&&(s.resourceId=t.resourceId),s):null},n.prototype.computeExternalDrop=function(e,t){var r;return r=n.__super__.computeExternalDrop.apply(this,arguments),r&&(r.resourceId=e.resourceId),r},n.prototype.computeEventResize=function(e,t,r,i){var s;return this.allowCrossResource||t.resourceId===r.resourceId?(s=n.__super__.computeEventResize.apply(this,arguments),s&&(s.resourceId=t.resourceId),s):void 0},n.prototype.computeSelectionSpan=function(e,t){var r;return this.allowCrossResource||e.resourceId===t.resourceId?(r=n.__super__.computeSelectionSpan.apply(this,arguments),r&&(r.resourceId=e.resourceId),r):void 0},n}(h),k={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(e){return this.flattenedResources=this.flattenResources(e),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(e){var t,n,r,i;return n=this.view.opt("resourceOrder"),n?(t=Ee(n),i=function(e,n){return U(e,n,t)}):i=null,r=[],this.accumulateResources(e,i,r),r},accumulateResources:function(e,t,n){var r,i,s,o,a;for(t?(a=e.slice(0),a.sort(t)):a=e,o=[],r=0,i=a.length;i>r;r++)s=a[r],n.push(s),o.push(this.accumulateResources(s.children,t,n));return o},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),d.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(e){return this.isRTL&&(e=this.colCnt-1-e),this.datesAboveResources?Math.floor(e/(this.resourceCnt||1)):e%this.daysPerRow},getColResource:function(e){return this.flattenedResources[this.getColResourceIndex(e)]},getColResourceIndex:function(e){return this.isRTL&&(e=this.colCnt-1-e),this.datesAboveResources?e%(this.resourceCnt||1):Math.floor(e/this.daysPerRow)},indicesToCol:function(e,t){var n;return n=this.datesAboveResources?t*(this.resourceCnt||1)+e:e*this.daysPerRow+t,this.isRTL&&(n=this.colCnt-1-n),n},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():d.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var e,t,n,r,i;for(i=[],n=this.flattenedResources,e=0,t=n.length;t>e;e++)r=n[e],i.push(this.renderHeadResourceCellHtml(r));return this.wrapTr(i,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var e,t,n,r,i,s,o,a,l,u;for(u=[],t=[],o=this.flattenedResources,r=0,s=o.length;s>r;r++)for(l=o[r],u.push(this.renderHeadResourceCellHtml(l,null,this.daysPerRow)),n=i=0,a=this.daysPerRow;a>i;n=i+=1)e=this.dayDates[n].clone(),t.push(this.renderHeadResourceDateCellHtml(e,l));return this.wrapTr(u,"renderHeadIntroHtml")+this.wrapTr(t,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var e,t,n,r,i,s,o,a,l,u;for(t=[],u=[],n=r=0,o=this.daysPerRow;o>r;n=r+=1)for(e=this.dayDates[n].clone(),t.push(this.renderHeadDateCellHtml(e,this.resourceCnt)),a=this.flattenedResources,i=0,s=a.length;s>i;i++)l=a[i],u.push(this.renderHeadResourceCellHtml(l,e));return this.wrapTr(t,"renderHeadIntroHtml")+this.wrapTr(u,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(e,t,n){return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(t?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(n>1?' colspan="'+n+'"':"")+">"+fe(this.view.getResourceText(e))+"</th>"},renderHeadResourceDateCellHtml:function(e,t,n){return this.renderHeadDateCellHtml(e,n,'data-resource-id="'+t.id+'"')},processHeadResourceEls:function(t){return t.find(".fc-resource-cell").each(function(t){return function(n,r){var i;return i=t.datesAboveResources?t.getColResource(n):t.flattenedResources[t.isRTL?t.flattenedResources.length-1-n:n],t.view.trigger("resourceRender",i,i,e(r),e())}}(this))},renderBgCellsHtml:function(e){var t,n,r,i,s,o;if(this.resourceCnt){for(r=[],t=i=0,s=this.colCnt;s>i;t=i+=1)n=this.getCellDate(e,t),o=this.getColResource(t),r.push(this.renderResourceBgCellHtml(n,o));return r.join("")}return d.DayTableMixin.renderBgCellsHtml.call(this,e)},renderResourceBgCellHtml:function(e,t){return this.renderBgCellHtml(e,'data-resource-id="'+t.id+'"')},wrapTr:function(e,t){return this.isRTL?(e.reverse(),"<tr>"+e.join("")+this[t]()+"</tr>"):"<tr>"+this[t]()+e.join("")+"</tr>"}},_=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.mixin(C),n.mixin(k),n.prototype.getHitSpan=function(e){var t;return t=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(t.resourceId=this.getColResource(e.col).id),t},n.prototype.spanToSegs=function(t){var n,r,i,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,r=this.datesAboveResources?this.sliceRangeByDay(t):this.sliceRangeByRow(t),c){for(p=[],s=0,l=r.length;l>s;s++)for(f=r[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],t.resourceId&&t.resourceId!==h.id||(n=e.extend({},f),n.resource=h,this.isRTL?(n.leftCol=this.indicesToCol(d,f.lastRowDayIndex),n.rightCol=this.indicesToCol(d,f.firstRowDayIndex)):(n.leftCol=this.indicesToCol(d,f.firstRowDayIndex),n.rightCol=this.indicesToCol(d,f.lastRowDayIndex)),p.push(n));return p}for(i=0,a=r.length;a>i;i++)f=r[i],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return r},n}(d.DayGrid),M=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.mixin(C),n.mixin(k),n.prototype.getHitSpan=function(e){var t;return t=n.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(t.resourceId=this.getColResource(e.col).id),t},n.prototype.spanToSegs=function(t){var n,r,i,s,o,a,l,u,c,d,h,p,f;if(c=this.resourceCnt,r=this.sliceRangeByTimes(t),c){for(p=[],s=0,l=r.length;l>s;s++)for(f=r[s],d=o=0,u=c;u>o;d=o+=1)h=this.flattenedResources[d],t.resourceId&&t.resourceId!==h.id||(n=e.extend({},f),n.resource=h,n.col=this.indicesToCol(d,f.dayIndex),p.push(n));return p}for(i=0,a=r.length;a>i;i++)f=r[i],f.col=f.dayIndex;return r},
n}(d.TimeGrid),z=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ne(t,e),t.prototype.timeGrid=null,t.prototype.isScrolled=!1,t.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},t.prototype.instantiateGrid=function(){return new $(this)},t.prototype.setRange=function(e){return t.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(e)},t.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},t.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},t.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Re(this,"handleBodyScroll"))},t.prototype.handleBodyScroll=function(e,t){if(e){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},t.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),t.__super__.unrenderSkeleton.apply(this,arguments)},t.prototype.renderDates=function(){return this.timeGrid.renderDates()},t.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},t.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},t.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},t.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},t.prototype.renderNowIndicator=function(e){return this.timeGrid.renderNowIndicator(e)},t.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},t.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},t.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},t.prototype.queryHit=function(e,t){return this.timeGrid.queryHit(e,t)},t.prototype.getHitSpan=function(e){return this.timeGrid.getHitSpan(e)},t.prototype.getHitEl=function(e){return this.timeGrid.getHitEl(e)},t.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},t.prototype.setHeight=function(e,t){var n;return n=t?"auto":e-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n)},t.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},t.prototype.computeInitialScroll=function(e){return this.timeGrid.computeInitialScroll(e)},t.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},t.prototype.setScroll=function(e){return this.timeGrid.setScroll(e)},t.prototype.renderEvents=function(e){return this.timeGrid.renderEvents(e),this.updateWidth()},t.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},t.prototype.renderDrag=function(e,t){return this.timeGrid.renderDrag(e,t)},t.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},t.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},t.prototype.renderSelection=function(e){return this.timeGrid.renderSelection(e)},t.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},t}(G),K=d.cssToStr,$=function(n){function r(){var e;r.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=t.duration(this.opt("minTime")||"00:00"),this.maxTime=t.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(e=this.opt("snapDuration"))?t.duration(e):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=re(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Ne(r,n),r.prototype.slotDates=null,r.prototype.slotCnt=null,r.prototype.snapCnt=null,r.prototype.snapsPerSlot=null,r.prototype.snapDiffToIndex=null,r.prototype.snapIndexToDiff=null,r.prototype.headEl=null,r.prototype.slatContainerEl=null,r.prototype.slatEls=null,r.prototype.containerCoordCache=null,r.prototype.slatCoordCache=null,r.prototype.slatInnerCoordCache=null,r.prototype.headScroller=null,r.prototype.bodyScroller=null,r.prototype.joiner=null,r.prototype.follower=null,r.prototype.eventTitleFollower=null,r.prototype.minTime=null,r.prototype.maxTime=null,r.prototype.timeWindowMs=null,r.prototype.slotDuration=null,r.prototype.snapDuration=null,r.prototype.duration=null,r.prototype.labelInterval=null,r.prototype.headerFormats=null,r.prototype.isTimeScale=null,r.prototype.largeUnit=null,r.prototype.emphasizeWeeks=!1,r.prototype.titleFollower=null,r.prototype.segContainerEl=null,r.prototype.segContainerHeight=null,r.prototype.bgSegContainerEl=null,r.prototype.helperEls=null,r.prototype.innerEl=null,r.prototype.opt=function(e){return this.view.opt(e)},r.prototype.isValidDate=function(e){var t;return this.view.isHiddenDay(e)?!1:this.isTimeScale?(t=e.time()-this.minTime,t=(t%864e5+864e5)%864e5,t<this.timeWindowMs):!0},r.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},r.prototype.computeDisplayEventEnd=function(){return!1},r.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},r.prototype.normalizeGridDate=function(e){var t;return this.isTimeScale?(t=e.clone(),t.hasTime()||t.time(0)):(t=e.clone().stripTime(),this.largeUnit&&t.startOf(this.largeUnit)),t},r.prototype.normalizeGridRange=function(e){var t,n;return this.isTimeScale?n={start:this.normalizeGridDate(e.start),end:this.normalizeGridDate(e.end)}:(n=this.view.computeDayRange(e),this.largeUnit&&(n.start.startOf(this.largeUnit),t=n.end.clone().startOf(this.largeUnit),t.isSame(n.end)&&t.isAfter(n.start)||t.add(this.slotDuration),n.end=t)),n},r.prototype.rangeUpdated=function(){var e,t;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),t=[],e=this.start.clone();e<this.end;)this.isValidDate(e)&&t.push(e.clone()),e.add(this.slotDuration);return this.slotDates=t,this.updateGridDates()},r.prototype.updateGridDates=function(){var e,t,n,r,i;for(r=-1,t=0,n=[],i=[],e=this.start.clone();e<this.end;)this.isValidDate(e)?(r++,n.push(r),i.push(t)):n.push(r+.5),e.add(this.snapDuration),t++;return this.snapDiffToIndex=n,this.snapIndexToDiff=i,this.snapCnt=r+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},r.prototype.spanToSegs=function(e){var t,n;return t=this.normalizeGridRange(e),this.computeDateSnapCoverage(e.start)<this.computeDateSnapCoverage(e.end)&&(n=me(t,this))?(n.isStart&&!this.isValidDate(n.start)&&(n.isStart=!1),n.isEnd&&n.end&&!this.isValidDate(n.end.clone().subtract(1))&&(n.isEnd=!1),[n]):[]},r.prototype.prepareHits=function(){return this.buildCoords()},r.prototype.queryHit=function(e,t){var n,r,i,s,o,a,l,u,c,d,h,p;return p=this.snapsPerSlot,s=this.slatCoordCache,n=this.containerCoordCache,null!=n.getVerticalIndex(t)&&(o=s.getHorizontalIndex(e),null!=o)?(u=s.getWidth(o),this.isRTL?(l=s.getRightOffset(o),i=(l-e)/u,r=Math.floor(i*p),c=o*p+r,h=l-r/p*u,d=h-(r+1)/p*u):(a=s.getLeftOffset(o),i=(e-a)/u,r=Math.floor(i*p),c=o*p+r,d=a+r/p*u,h=a+(r+1)/p*u),{snap:c,component:this,left:d,right:h,top:n.getTopOffset(0),bottom:n.getBottomOffset(0)}):void 0},r.prototype.getHitSpan=function(e){return this.getSnapRange(e.snap)},r.prototype.getHitEl=function(e){return this.getSnapEl(e.snap)},r.prototype.getSnapRange=function(e){var t,n;return n=this.start.clone(),n.add(Se(this.snapDuration,this.snapIndexToDiff[e])),t=n.clone().add(this.snapDuration),{start:n,end:t}},r.prototype.getSnapEl=function(e){return this.slatEls.eq(Math.floor(e/this.snapsPerSlot))},r.prototype.renderSkeleton=function(){return this.headScroller=new N("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new N,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=e('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=e('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new o({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new A("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new O(this.headScroller),this.eventTitleFollower=new O(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,r.__super__.renderSkeleton.apply(this,arguments)},r.prototype.headColEls=null,r.prototype.slatColEls=null,r.prototype.renderDates=function(){var e,t,n,r,i;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new o({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new o({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),i=this.slotDates,t=n=0,r=i.length;r>n;t=++n)e=i[t],this.view.trigger("dayRender",null,e,this.slatEls.eq(t));return this.follower?this.follower.setSprites(this.headEl.find("tr:not(:last-child) span")):void 0},r.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},r.prototype.renderHeadHtml=function(){var e,t,n,r,i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b,w,S,x,_,k,C,T,D,E,M,R,H,j,P,F,I,O;for(m=this.labelInterval,s=this.headerFormats,t=function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)i=s[e],n.push([]);return n}(),g=null,E=null,F=this.slotDates,P=[],h=0,v=F.length;v>h;h++){for(n=F[h],O=n.week(),d=this.emphasizeWeeks&&null!==E&&E!==O,R=p=0,y=s.length;y>p;R=++p)i=s[R],H=t[R],g=H[H.length-1],c=s.length>1&&R<s.length-1,T=null,c?(I=n.format(i),r=n.format(),g&&g.text===I?g.colspan+=1:T={text:I,dateData:r,colspan:1}):!g||ye(ie(this.start,n,m))?(I=n.format(i),r=n.format(),T={text:I,dateData:r,colspan:1}):g.colspan+=1,T&&(T.weekStart=d,H.push(T));P.push({weekStart:d}),E=O}for(l=m>this.slotDuration,o="<table>",o+="<colgroup>",f=0,b=F.length;b>f;f++)n=F[f],o+="<col/>";for(o+="</colgroup>",o+="<tbody>",a=k=0,w=t.length;w>k;a=++k){for(H=t[a],u=a===t.length-1,o+="<tr"+(l&&u?' class="fc-chrono"':"")+">",C=0,S=H.length;S>C;C++)e=H[C],o+='<th class="'+this.view.widgetHeaderClass+" "+(e.weekStart?"fc-em-cell":"")+'" data-date="'+e.dateData+'"'+(e.colspan>1?' colspan="'+e.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+fe(e.text)+"</span></div></th>";o+="</tr>"}for(o+="</tbody></table>",j="<table>",j+="<colgroup>",D=0,x=P.length;x>D;D++)e=P[D],j+="<col/>";for(j+="</colgroup>",j+="<tbody><tr>",a=M=0,_=P.length;_>M;a=++M)e=P[a],n=F[a],j+=this.slatCellHtml(n,e.weekStart);return j+="</tr></tbody></table>",this._slatHtml=j,o},r.prototype.renderSlatHtml=function(){return this._slatHtml},r.prototype.slatCellHtml=function(e,t){var n;return this.isTimeScale?(n=[],n.push(ye(ie(this.start,e,this.labelInterval))?"fc-major":"fc-minor")):(n=this.getDayClasses(e),n.push("fc-day")),n.unshift(this.view.widgetContentClass),t&&n.push("fc-em-cell"),'<td class="'+n.join(" ")+'" data-date="'+e.format()+'"><div /></td>'},r.prototype.businessHourSegs=null,r.prototype.renderBusinessHours=function(){var e,t;return this.largeUnit?void 0:(e=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),t=this.businessHourSegs=this.eventsToSegs(e),this.renderFill("businessHours",t,"bgevent"))},r.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},r.prototype.nowIndicatorEls=null,r.prototype.getNowIndicatorUnit=function(){return this.isTimeScale?X(this.slotDuration):void 0},r.prototype.renderNowIndicator=function(t){var n,r,i;return i=[],t=this.normalizeGridDate(t),t>=this.start&&t<this.end&&(n=this.dateToCoord(t),r=this.isRTL?{right:-n}:{left:n},i.push(e("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(r).appendTo(this.headScroller.innerEl)[0]),i.push(e("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(r).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=e(i)},r.prototype.unrenderNowIndicator=function(){return this.nowIndicatorEls?(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null):void 0},r.prototype.explicitSlotWidth=null,r.prototype.defaultSlotWidth=null,r.prototype.updateWidth=function(){var e,t,n,r,i;return i=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),n=i*this.slotDates.length,t="",r=i,e=this.bodyScroller.scrollEl[0].clientWidth,e>n&&(t=e,n="",r=Math.floor(e/this.slotDates.length)),this.headScroller.setContentWidth(n),this.headScroller.setContentMinWidth(t),this.bodyScroller.setContentWidth(n),this.bodyScroller.setContentMinWidth(t),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(r),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower?this.eventTitleFollower.update():void 0},r.prototype.computeSlotWidth=function(){var t,n,r,i,s,o;return r=0,n=this.headEl.find("tr:last-child th span"),n.each(function(t,n){var i;return i=e(n).outerWidth(),r=Math.max(r,i)}),t=r+1,o=re(this.labelInterval,this.slotDuration),s=Math.ceil(t/o),i=this.headColEls.eq(0).css("min-width"),i&&(i=parseInt(i,10),i&&(s=Math.max(s,i))),s},r.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},r.prototype.computeDateSnapCoverage=function(e){var t,n,r;return n=ie(this.start,e,this.snapDuration),0>n?0:n>=this.snapDiffToIndex.length?this.snapCnt:(r=Math.floor(n),t=this.snapDiffToIndex[r],ye(t)?t+=n-r:t=Math.ceil(t),t)},r.prototype.dateToCoord=function(e){var t,n,r,i,s;return s=this.computeDateSnapCoverage(e),r=s/this.snapsPerSlot,i=Math.floor(r),i=Math.min(i,this.slotCnt-1),n=r-i,t=this.slatInnerCoordCache,this.isRTL?t.getRightPosition(i)-t.getWidth(i)*n-this.containerCoordCache.getWidth(0):t.getLeftPosition(i)+t.getWidth(i)*n},r.prototype.rangeToCoords=function(e){return this.isRTL?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},r.prototype.headHeight=function(){var e;return e=this.headScroller.contentEl.find("table"),e.height.apply(e,arguments)},r.prototype.updateSegPositions=function(){var e,t,n,r,i;for(i=(this.segs||[]).concat(this.businessHourSegs||[]),t=0,n=i.length;n>t;t++)r=i[t],e=this.rangeToCoords(r),r.el.css({left:r.left=e.left,right:-(r.right=e.right)})},r.prototype.computeInitialScroll=function(e){var n,r;return n=0,this.isTimeScale&&(r=this.opt("scrollTime"),r&&(r=t.duration(r),n=this.dateToCoord(this.start.clone().time(r)))),{left:n,top:0}},r.prototype.queryScroll=function(){return{left:xe(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},r.prototype.setScroll=function(e){return xe(this.headScroller.scrollEl,e.left),xe(this.bodyScroller.scrollEl,e.left),this.bodyScroller.scrollEl.scrollTop(e.top)},r.prototype.renderFgSegs=function(e){return e=this.renderFgSegEls(e),this.renderFgSegsInContainers([[this,e]]),this.updateSegFollowers(e),e},r.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},r.prototype.renderFgSegsInContainers=function(e){var t,n,r,i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b,w,S,x,_,k,C;for(r=0,o=e.length;o>r;r++)for(b=e[r],t=b[0],C=b[1],i=0,a=C.length;a>i;i++)k=C[i],n=this.rangeToCoords(k),k.el.css({left:k.left=n.left,right:-(k.right=n.right)});for(s=0,l=e.length;l>s;s++)for(w=e[s],t=w[0],C=w[1],f=0,u=C.length;u>f;f++)k=C[f],k.el.appendTo(t.segContainerEl);for(m=0,c=e.length;c>m;m++){for(S=e[m],t=S[0],C=S[1],g=0,d=C.length;d>g;g++)k=C[g],k.height=k.el.outerHeight(!0);this.buildSegLevels(C),t.segContainerHeight=Z(C)}for(_=[],v=0,h=e.length;h>v;v++){for(x=e[v],t=x[0],C=x[1],y=0,p=C.length;p>y;y++)k=C[y],k.el.css("top",k.top);_.push(t.segContainerEl.height(t.segContainerHeight))}return _},r.prototype.buildSegLevels=function(e){var t,n,r,i,s,o,a,l,u,c,d,h,p,f;for(p=[],this.sortEventSegs(e),r=0,o=e.length;o>r;r++){for(f=e[r],f.above=[],u=0;u<p.length;){for(n=!1,d=p[u],i=0,a=d.length;a>i;i++)c=d[i],Oe(f,c)&&(f.above.push(c),n=!0);if(!n)break;u+=1}for((p[u]||(p[u]=[])).push(f),u+=1;u<p.length;){for(h=p[u],s=0,l=h.length;l>s;s++)t=h[s],Oe(f,t)&&t.above.push(f);u+=1}}return p},r.prototype.unrenderFgContainers=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],t.segContainerEl.empty(),t.segContainerEl.height(""),i.push(t.segContainerHeight=null);return i},r.prototype.fgSegHtml=function(e,t){var n,r,i,s,o,a;return r=e.event,i=this.view.isEventDraggable(r),o=e.isStart&&this.view.isEventResizableFromStart(r),s=e.isEnd&&this.view.isEventResizableFromEnd(r),n=this.getSegClasses(e,i,o||s),n.unshift("fc-timeline-event","fc-h-event"),a=this.getEventTimeText(r),'<a class="'+n.join(" ")+'" style="'+K(this.getSegSkinCss(e))+'"'+(r.url?' href="'+fe(r.url)+'"':"")+'><div class="fc-content">'+(a?'<span class="fc-time">'+fe(a)+"</span>":"")+'<span class="fc-title">'+(r.title?fe(r.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(o?'<div class="fc-resizer fc-start-resizer"></div>':"")+(s?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},r.prototype.updateSegFollowers=function(e){var t,n,r,i,s;if(this.eventTitleFollower){for(i=[],t=0,n=e.length;n>t;t++)r=e[t],s=r.el.find(".fc-title"),s.length&&i.push(new L(s));return this.eventTitleFollower.setSprites(i)}},r.prototype.clearSegFollowers=function(){return this.eventTitleFollower?this.eventTitleFollower.clearSprites():void 0},r.prototype.segDragStart=function(){return r.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},r.prototype.segDragEnd=function(){return r.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},r.prototype.segResizeStart=function(){return r.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},r.prototype.segResizeEnd=function(){return r.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},r.prototype.renderHelper=function(e,t){var n;return n=this.eventToSegs(e),n=this.renderFgSegEls(n),this.renderHelperSegsInContainers([[this,n]],t)},r.prototype.renderHelperSegsInContainers=function(t,n){var r,i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b;for(o=[],a=0,c=t.length;c>a;a++)for(m=t[a],r=m[0],b=m[1],l=0,d=b.length;d>l;l++)y=b[l],i=this.rangeToCoords(y),y.el.css({left:y.left=i.left,right:-(y.right=i.right)}),n&&n.resourceId===(null!=(g=r.resource)?g.id:void 0)?y.el.css("top",n.el.css("top")):y.el.css("top",0);for(u=0,h=t.length;h>u;u++)for(v=t[u],r=v[0],b=v[1],s=e('<div class="fc-event-container fc-helper-container"/>').appendTo(r.innerEl),o.push(s[0]),f=0,p=b.length;p>f;f++)y=b[f],s.append(y.el);return this.helperEls=this.helperEls?this.helperEls.add(e(o)):e(o)},r.prototype.unrenderHelper=function(){return this.helperEls?(this.helperEls.remove(),this.helperEls=null):void 0},r.prototype.renderEventResize=function(e,t){return this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},r.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},r.prototype.renderFill=function(e,t,n){return t=this.renderFillSegEls(e,t),this.renderFillInContainers(e,[[this,t]],n),t},r.prototype.renderFillInContainers=function(e,t,n){var r,i,s,o,a,l;for(a=[],i=0,s=t.length;s>i;i++)o=t[i],r=o[0],l=o[1],a.push(this.renderFillInContainer(e,r,l,n));return a},r.prototype.renderFillInContainer=function(t,n,r,i){var s,o,a,l,u;if(r.length){for(i||(i=t.toLowerCase()),s=e('<div class="fc-'+i+'-container" />').appendTo(n.bgSegContainerEl),a=0,l=r.length;l>a;a++)u=r[a],o=this.rangeToCoords(u),u.el.css({left:u.left=o.left,right:-(u.right=o.right)}),u.el.appendTo(s);return this.elsByFill[t]=this.elsByFill[t]?this.elsByFill[t].add(s):s}},r.prototype.renderDrag=function(e,t){return t?(this.renderEventLocationHelper(e,t),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(e)),!1)},r.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},r}(h),Z=function(e){var t,n,r,i;for(r=0,t=0,n=e.length;n>t;t++)i=e[t],r=Math.max(r,J(i));return r},J=function(e){return null==e.top&&(e.top=Z(e.above)),e.top+e.height},Oe=function(e,t){return e.left<t.right&&e.right>t.left},y=18,g=6,m=200,v=1e3,a={months:1},I=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],$.prototype.initScaleProps=function(){var t,n,r;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),t=this.opt("slotLabelFormat"),r=e.type(t),this.headerFormats="array"===r?t:"string"===r?[t]:this.computeHeaderFormats(),this.isTimeScale=se(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(n=X(this.slotDuration),/year|month|week/.test(n)?n:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},$.prototype.queryDurationOption=function(e){var n,r;return r=this.opt(e),null!=r&&(n=t.duration(r),+n)?n:void 0},$.prototype.validateLabelAndSlot=function(){var e,t,n;return this.labelInterval&&(e=re(this.duration,this.labelInterval),e>v&&(d.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(t=re(this.duration,this.slotDuration),t>v&&(d.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(n=re(this.labelInterval,this.slotDuration),!ye(n)||1>n)?(d.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null):void 0},$.prototype.ensureGridDuration=function(){var e,n,r,i,s;if(e=this.duration,!e){if(e=this.view.intervalDuration,!e)if(this.labelInterval||this.slotDuration)for(s=this.ensureLabelInterval(),r=I.length-1;r>=0&&(n=I[r],e=t.duration(n),i=re(e,s),!(i>=y));r+=-1);else e=t.duration(a);this.duration=e}return e},$.prototype.ensureLabelInterval=function(){var e,n,r,i,s,o,a,l,u;if(s=this.labelInterval,!s){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(n=0,o=I.length;o>n;n++)if(e=I[n],u=t.duration(e),l=re(u,this.slotDuration),ye(l)&&g>=l){s=u;break}s||(s=this.slotDuration)}else for(r=0,a=I.length;a>r&&(e=I[r],s=t.duration(e),i=re(this.duration,s),!(i>=y));r++);this.labelInterval=s}return s},$.prototype.ensureSlotDuration=function(){var e,n,r,i,s,o,a,l;if(o=this.slotDuration,!o){for(r=this.ensureLabelInterval(),n=0,i=I.length;i>n;n++)if(e=I[n],l=t.duration(e),a=re(r,l),ye(a)&&a>1&&g>=a){o=l;break}o&&this.duration&&(s=re(this.duration,o),s>m&&(o=null)),o||(o=r),this.slotDuration=o}return o},$.prototype.computeHeaderFormats=function(){var e,t,n,r,i,s,o,a;switch(o=this.view,r=this.duration,i=this.labelInterval,s=X(i),a=this.opt("weekNumbers"),e=t=n=null,"week"!==s||a||(s="day"),s){case"year":e="YYYY";break;case"month":r.asYears()>1&&(e="YYYY"),t="MMM";break;case"week":r.asYears()>1&&(e="YYYY"),t=this.opt("shortWeekFormat");break;case"day":r.asYears()>1?e=this.opt("monthYearFormat"):r.asMonths()>1&&(e="MMMM"),a&&(t=this.opt("weekFormat")),n="dd D";break;case"hour":a&&(e=this.opt("weekFormat")),r.asDays()>1&&(t=this.opt("dayOfMonthFormat")),n=this.opt("smallTimeFormat");break;case"minute":i.asMinutes()/60>=g?(e=this.opt("hourFormat"),t="[:]mm"):e=this.opt("mediumTimeFormat");break;case"second":i.asSeconds()/60>=g?(e="LT",t="[:]ss"):e="LTS";break;case"millisecond":e="LTS",t="[.]SSS"}return[].concat(e||[],t||[],n||[])},d.views.timeline={"class":z,defaults:{eventResizableFromStart:!0}},d.views.timelineDay={type:"timeline",duration:{days:1}},d.views.timelineWeek={type:"timeline",duration:{weeks:1}},d.views.timelineMonth={type:"timeline",duration:{months:1}},d.views.timelineYear={type:"timeline",duration:{years:1}},H=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.mixin(j),n.prototype.resourceGrid=null,n.prototype.tbodyHash=null,n.prototype.joiner=null,n.prototype.dividerEls=null,n.prototype.superHeaderText=null,n.prototype.isVGrouping=null,n.prototype.isHGrouping=null,n.prototype.groupSpecs=null,n.prototype.colSpecs=null,n.prototype.orderSpecs=null,n.prototype.rowHierarchy=null,n.prototype.resourceRowHash=null,n.prototype.nestingCnt=0,n.prototype.isNesting=null,n.prototype.dividerWidth=null,n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new W(this),this.rowHierarchy=new F(this),this.resourceRowHash={}},n.prototype.instantiateGrid=function(){return new R(this)},n.prototype.processResourceOptions=function(){var e,t,n,r,i,s,o,a,l,u,c,d,h,p,f,m,g,v,y,b,w,S;for(e=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),r="Resources",S=null,e.length?S=f:e.push({labelText:f||r,text:this.getResourceTextFunc()}),b=[],i=[],o=[],c=!1,u=!1,d=0,m=e.length;m>d;d++)n=e[d],n.group?i.push(n):b.push(n);for(b[0].isMain=!0,i.length?(o=i,c=!0):(a=this.opt("resourceGroupField"),a&&(u=!0,o.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),t=Ee(this.opt("resourceOrder")),w=[],h=0,g=t.length;g>h;h++){for(y=t[h],l=!1,p=0,v=o.length;v>p;p++)if(s=o[p],s.field===y.field){s.order=y.order,l=!0;break}l||w.push(y)}return this.superHeaderText=S,this.isVGrouping=c,this.isHGrouping=u,this.groupSpecs=o,this.colSpecs=i.concat(b),this.orderSpecs=w},n.prototype.renderSkeleton=function(){return n.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new A("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},n.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},n.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},n.prototype.initDividerMoving=function(){var e;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(e=this.opt("resourceAreaWidth"))?e:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(e){return function(t){return e.dividerMousedown(t)}}(this))},n.prototype.dividerMousedown=function(e){var t,n,r,i,s;return n=this.opt("isRTL"),i=30,r=this.el.width()-30,s=this.getNaturalDividerWidth(),t=new l({dragStart:function(e){return function(){return e.dividerEls.addClass("fc-active")}}(this),drag:function(e){return function(t,o){var a;return a=n?s-t:s+t,a=Math.max(a,i),a=Math.min(a,r),e.dividerWidth=a,e.positionDivider(a),e.updateWidth()}}(this),dragStop:function(e){return function(){return e.dividerEls.removeClass("fc-active")}}(this)}),t.mousedown(e)},n.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},n.prototype.positionDivider=function(e){return this.el.find(".fc-resource-area").width(e)},n.prototype.renderEvents=function(e){return this.timeGrid.renderEvents(e),this.syncRowHeights(),this.updateWidth()},n.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},n.prototype.updateWidth=function(){return n.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower?this.cellFollower.update():void 0},n.prototype.updateHeight=function(e){return n.__super__.updateHeight.apply(this,arguments),e?this.syncRowHeights():void 0},n.prototype.setHeight=function(e,t){var n,r;return r=this.syncHeadHeights(),n=t?"auto":e-r-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(n),this.resourceGrid.bodyScroller.setHeight(n)},n.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},n.prototype.syncHeadHeights=function(){var e;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),e=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(e),this.timeGrid.headHeight(e),e},n.prototype.scrollToResource=function(e){return this.timeGrid.scrollToResource(e)},n.prototype.setResources=function(e){var t,n,r;for(this.batchRows(),t=0,n=e.length;n>t;t++)r=e[t],this.insertResource(r);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},n.prototype.addResource=function(e){return this.insertResource(e),this.reinitializeCellFollowers()},n.prototype.removeResource=function(e){var t;return t=this.getResourceRow(e.id),t?(this.batchRows(),t.remove(),this.unbatchRows(),this.reinitializeCellFollowers()):void 0},n.prototype.cellFollower=null,n.prototype.reinitializeCellFollowers=function(){var t,n,r,i,s,o;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new O(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,i=[],s=this.rowHierarchy.getNodes(),n=0,r=s.length;r>n;n++)o=s[n],o instanceof q&&o.groupTd&&(t=o.groupTd.find(".fc-cell-content"),t.length&&i.push(t[0]));return this.cellFollower.setSprites(e(i))},n.prototype.insertResource=function(e,t){var n,r,i,s,o,a,l;for(l=new E(this,e),null==t&&(s=e.parentId,s&&(t=this.getResourceRow(s))),t?this.insertRowAsChild(l,t):this.insertRow(l),o=e.children,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(this.insertResource(n,l));return a},n.prototype.insertRow=function(e,t,n){var r;return null==t&&(t=this.rowHierarchy),null==n&&(n=this.groupSpecs),n.length?(r=this.ensureResourceGroup(e,t,n[0]),r instanceof p?this.insertRowAsChild(e,r):this.insertRow(e,r,n.slice(1))):this.insertRowAsChild(e,t)},n.prototype.insertRowAsChild=function(e,t){return t.addChild(e,this.computeChildRowPosition(e,t))},n.prototype.computeChildRowPosition=function(e,t){var n,r,i,s,o,a;if(this.orderSpecs.length)for(o=t.children,r=i=0,s=o.length;s>i;r=++i)if(a=o[r],n=this.compareResources(a.resource||{},e.resource||{}),n>0)return r;return null},n.prototype.compareResources=function(e,t){return U(e,t,this.orderSpecs)},n.prototype.ensureResourceGroup=function(e,t,n){var r,i,s,o,a,l,u,c,d,h,f;if(s=(e.resource||{})[n.field],i=null,n.order)for(d=t.children,o=a=0,u=d.length;u>a;o=++a){if(f=d[o],r=oe(f.groupValue,s)*n.order,0===r){i=f;break}if(r>0)break}else for(h=t.children,o=l=0,c=h.length;c>l;o=++l)if(f=h[o],f.groupValue===s){i=f;break}return i||(i=this.isVGrouping?new q(this,n,s):new p(this,n,s),t.addChild(i,o)),i},n.prototype.pairSegsWithRows=function(e){var t,n,r,i,s,o,a,l;for(i=[],s={},t=0,n=e.length;n>t;t++)l=e[t],o=l.resourceId,o&&(a=this.getResourceRow(o),a&&(r=s[o],r||(r=[a,[]],i.push(r),s[o]=r),r[1].push(l)));return i;
},n.prototype.rowAdded=function(e){var t,n;return e instanceof E&&(this.resourceRowHash[e.resource.id]=e),n=this.isNesting,t=Boolean(this.nestingCnt+=e.depth?1:0),n!==t&&(this.el.toggleClass("fc-nested",t),this.el.toggleClass("fc-flat",!t)),this.isNesting=t},n.prototype.rowRemoved=function(e){var t,n;return e instanceof E&&delete this.resourceRowHash[e.resource.id],n=this.isNesting,t=Boolean(this.nestingCnt-=e.depth?1:0),n!==t&&(this.el.toggleClass("fc-nested",t),this.el.toggleClass("fc-flat",!t)),this.isNesting=t},n.prototype.batchRowDepth=0,n.prototype.shownRowBatch=null,n.prototype.hiddenRowBatch=null,n.prototype.batchRows=function(){return this.batchRowDepth++?void 0:(this.shownRowBatch=[],this.hiddenRowBatch=[])},n.prototype.unbatchRows=function(){return--this.batchRowDepth?void 0:(this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null)},n.prototype.rowShown=function(e){return this.shownRowBatch?this.shownRowBatch.push(e):this.rowsShown([e])},n.prototype.rowHidden=function(e){return this.hiddenRowBatch?this.hiddenRowBatch.push(e):this.rowsHidden([e])},n.prototype.rowsShown=function(e){return this.syncRowHeights(e),this.updateWidth()},n.prototype.rowsHidden=function(e){return this.updateWidth()},n.prototype.syncRowHeights=function(e,t){var n,r,i,s,o,a,l,u,c,d;for(null==t&&(t=!1),null==e&&(e=this.getVisibleRows()),a=0,u=e.length;u>a;a++)d=e[a],d.setTrInnerHeight("");for(o=function(){var r,i,s;for(s=[],r=0,i=e.length;i>r;r++)d=e[r],n=d.getMaxTrInnerHeight(),t&&(n+=n%2),s.push(n);return s}(),s=l=0,c=e.length;c>l;s=++l)d=e[s],d.setTrInnerHeight(o[s]);return!t&&(r=this.resourceGrid.tbodyEl.height(),i=this.timeGrid.tbodyEl.height(),Math.abs(r-i)>1)?this.syncRowHeights(e,!0):void 0},n.prototype.getVisibleRows=function(){var e,t,n,r,i;for(n=this.rowHierarchy.getRows(),r=[],e=0,t=n.length;t>e;e++)i=n[e],i.isShown&&r.push(i);return r},n.prototype.getEventRows=function(){var e,t,n,r,i;for(n=this.rowHierarchy.getRows(),r=[],e=0,t=n.length;t>e;e++)i=n[e],i instanceof c&&r.push(i);return r},n.prototype.getResourceRow=function(e){return this.resourceRowHash[e]},n.prototype.setScroll=function(e){return n.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(e.top)},n}(z),R=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.mixin(C),n.prototype.eventRows=null,n.prototype.shownEventRows=null,n.prototype.tbodyEl=null,n.prototype.rowCoordCache=null,n.prototype.spanToSegs=function(e){var t,r,i,s,o,a;if(a=n.__super__.spanToSegs.apply(this,arguments),t=this.view.calendar,s=e.resourceId)for(r=0,i=a.length;i>r;r++)o=a[r],o.resource=t.getResourceById(s),o.resourceId=s;return a},n.prototype.prepareHits=function(){var e,t;return n.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var t,n,r,i;for(r=this.eventRows,i=[],t=0,n=r.length;n>t;t++)e=r[t],e.isShown&&i.push(e);return i}.call(this),t=function(){var t,n,r,i;for(r=this.shownEventRows,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.getTr("event")[0]);return i}.call(this),this.rowCoordCache=new o({els:t,isVertical:!0}),this.rowCoordCache.build()},n.prototype.releaseHits=function(){return n.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},n.prototype.queryHit=function(e,t){var r,i;return i=n.__super__.queryHit.apply(this,arguments),i&&(r=this.rowCoordCache.getVerticalIndex(t),null!=r)?{resourceId:this.shownEventRows[r].resource.id,snap:i.snap,component:this,left:i.left,right:i.right,top:this.rowCoordCache.getTopOffset(r),bottom:this.rowCoordCache.getBottomOffset(r)}:void 0},n.prototype.getHitSpan=function(e){var t;return t=this.getSnapRange(e.snap),t.resourceId=e.resourceId,t},n.prototype.getHitEl=function(e){return this.getSnapEl(e.snap)},n.prototype.renderSkeleton=function(){var t;return n.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,t=e('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=t.find("tbody")},n.prototype.renderFgSegs=function(e){var t,n,r,i,s,o,a;for(e=this.renderFgSegEls(e),o=this.view.pairSegsWithRows(e),a=[],r=0,i=o.length;i>r;r++)s=o[r],t=s[0],n=s[1],t.fgSegs=n,t.isShown&&(t.isSegsRendered=!0,a.push(s));return this.renderFgSegsInContainers(a),this.updateSegFollowers(e),e},n.prototype.unrenderFgSegs=function(){var e,t,n,r;for(this.clearSegFollowers(),t=this.view.getEventRows(),n=0,r=t.length;r>n;n++)e=t[n],e.fgSegs=null,e.isSegsRendered=!1;return this.unrenderFgContainers(t)},n.prototype.renderFill=function(e,t,n){var r,i,s,o,a,l,u,c,d,h,p,f;for(t=this.renderFillSegEls(e,t),c=[],a=[],r=0,s=t.length;s>r;r++)p=t[r],p.resourceId?c.push(p):a.push(p);for(u=this.view.pairSegsWithRows(c),f=[],i=0,o=u.length;o>i;i++)l=u[i],d=l[0],h=l[1],"bgEvent"===e&&(d.bgSegs=h),d.isShown&&f.push(l);return a.length&&f.unshift([this,a]),this.renderFillInContainers(e,f,n),t},n.prototype.renderHelper=function(e,t){var n,r;return r=this.eventToSegs(e),r=this.renderFgSegEls(r),n=this.view.pairSegsWithRows(r),this.renderHelperSegsInContainers(n,t)},n.prototype.computeInitialScroll=function(e){var t;return t=n.__super__.computeInitialScroll.apply(this,arguments),e&&(t.resourceId=e.resourceId,t.bottom=e.bottom),t},n.prototype.queryScroll=function(){var e,t,r,i,s,o,a,l;for(l=n.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,s=this.view.getVisibleRows(),r=0,i=s.length;i>r;r++)if(o=s[r],o.resource&&(e=o.getTr("event"),t=e.offset().top+e.outerHeight(),t>a)){l.resourceId=o.resource.id,l.bottom=t-a;break}return l},n.prototype.setScroll=function(e){var t,r,i,s;return e.resourceId&&(s=this.view.getResourceRow(e.resourceId),s&&(t=s.getTr("event"),t&&(i=this.bodyScroller.innerEl.offset().top,r=t.offset().top+t.outerHeight(),e.top=r-e.bottom-i))),n.__super__.setScroll.call(this,e)},n.prototype.scrollToResource=function(e){var t,n,r,i;return r=this.view.getResourceRow(e.id),r&&(t=r.getTr("event"))?(n=this.bodyScroller.innerEl.offset().top,i=t.offset().top-n,this.bodyScroller.scrollEl.scrollTop(i)):void 0},n}($),n=30,W=function(){function t(e){var t;this.view=e,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var e,n,r,i;for(r=this.view.colSpecs,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.width);return i}.call(this)}return t.prototype.view=null,t.prototype.headEl=null,t.prototype.el=null,t.prototype.tbodyEl=null,t.prototype.headScroller=null,t.prototype.bodyScroller=null,t.prototype.joiner=null,t.prototype.colGroupHtml="",t.prototype.headTable=null,t.prototype.headColEls=null,t.prototype.headCellEls=null,t.prototype.bodyColEls=null,t.prototype.bodyTable=null,t.prototype.renderSkeleton=function(){return this.headScroller=new N("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new N("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new A("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},t.prototype.renderHeadHtml=function(){var e,t,n,r,i,s,o,a,l,u,c;for(t=this.view.colSpecs,n="<table>",e="<colgroup>",o=0,l=t.length;l>o;o++)c=t[o],e+=c.isMain?'<col class="fc-main-col"/>':"<col/>";for(e+="</colgroup>",this.colGroupHtml=e,n+=e,n+="<tbody>",this.view.superHeaderText&&(n+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+t.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+fe(this.view.superHeaderText)+"</span></div></th></tr>"),n+="<tr>",s=!0,r=a=0,u=t.length;u>a;r=++a)c=t[r],i=r===t.length-1,n+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(c.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+fe(c.labelText||"")+"</span></div>"+(i?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return n+="</tr>",n+="</tbody></table>"},t.prototype.givenColWidths=null,t.prototype.colWidths=null,t.prototype.colMinWidths=null,t.prototype.tableWidth=null,t.prototype.tableMinWidth=null,t.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(t){return function(n,r){return r=e(r),r.on("mousedown",function(e){return t.colResizeMousedown(n,e,r)})}}(this))},t.prototype.colResizeMousedown=function(e,t,r){var i,s,o,a;return i=this.colWidths=this.queryColWidths(),i.pop(),i.push(null),a=i[e],o=Math.min(this.colMinWidths[e],n),s=new l({dragStart:function(e){return function(){return r.addClass("fc-active")}}(this),drag:function(t){return function(n,r){var s;return s=a+(t.isRTL?-n:n),s=Math.max(s,o),i[e]=s,t.applyColWidths()}}(this),dragStop:function(e){return function(){return r.removeClass("fc-active")}}(this)}),s.mousedown(t)},t.prototype.applyColWidths=function(){var e,t,n,r,i,s,o,a,l,u,c,d,h,p,f,m,g;for(n=this.colMinWidths,i=this.colWidths,e=!0,t=!1,g=0,u=0,h=i.length;h>u;u++)r=i[u],"number"==typeof r?g+=r:(e=!1,r&&(t=!0));for(a=t&&!this.view.isHGrouping?"auto":"",o=function(){var e,t,n;for(n=[],l=e=0,t=i.length;t>e;l=++e)r=i[l],n.push(null!=r?r:a);return n}(),m=0,l=c=0,p=o.length;p>c;l=++c)s=o[l],m+="number"==typeof s?s:n[l];for(l=d=0,f=o.length;f>d;l=++d)s=o[l],this.headColEls.eq(l).width(s),this.bodyColEls.eq(l).width(s);return this.headScroller.setContentMinWidth(m),this.bodyScroller.setContentMinWidth(m),this.tableMinWidth=m,this.tableWidth=e?g:void 0},t.prototype.computeColMinWidths=function(){var e,t,r,i,s,o;for(i=this.givenColWidths,s=[],e=t=0,r=i.length;r>t;e=++t)o=i[e],s.push("number"==typeof o?o:parseInt(this.headColEls.eq(e).css("min-width"))||n);return s},t.prototype.queryColWidths=function(){var t,n,r,i,s;for(i=this.headCellEls,s=[],t=0,n=i.length;n>t;t++)r=i[t],s.push(e(r).outerWidth());return s},t.prototype.updateWidth=function(){return this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower?this.follower.update():void 0},t.prototype.headHeight=function(){var e;return e=this.headScroller.contentEl.find("table"),e.height.apply(e,arguments)},t}(),F=function(){function t(t){this.view=t,this.children=[],this.trHash={},this.trs=e()}return t.prototype.view=null,t.prototype.parent=null,t.prototype.prevSibling=null,t.prototype.children=null,t.prototype.depth=0,t.prototype.hasOwnRow=!1,t.prototype.trHash=null,t.prototype.trs=null,t.prototype.isRendered=!1,t.prototype.isExpanded=!0,t.prototype.isShown=!1,t.prototype.addChild=function(e,t){var n,r,i,s,o;for(e.remove(),n=this.children,null!=t?n.splice(t,0,e):(t=n.length,n.push(e)),e.prevSibling=t>0?n[t-1]:null,t<n.length-1&&(n[t+1].prevSibling=e),e.parent=this,e.depth=this.depth+(this.hasOwnRow?1:0),o=e.getNodes(),r=0,i=o.length;i>r;r++)s=o[r],s.added();return this.isShown&&this.isExpanded?e.show():void 0},t.prototype.removeChild=function(e){var t,n,r,i,s,o,a,l,u,c;for(t=this.children,r=!1,n=i=0,o=t.length;o>i;n=++i)if(c=t[n],c===e){r=!0;break}if(r){for(n<t.length-1&&(t[n+1].prevSibling=e.prevSibling),t.splice(n,1),e.recursivelyUnrender(),l=e.getNodes(),s=0,a=l.length;a>s;s++)u=l[s],u.removed();return e.parent=null,e.prevSibling=null,e}return!1},t.prototype.removeChildren=function(){var e,t,n,r,i,s,o;for(s=this.children,t=0,r=s.length;r>t;t++)e=s[t],e.recursivelyUnrender();for(o=this.getDescendants(),n=0,i=o.length;i>n;n++)e=o[n],e.removed();return this.children=[]},t.prototype.remove=function(){return this.parent?this.parent.removeChild(this):void 0},t.prototype.getLastChild=function(){var e;return e=this.children,e[e.length-1]},t.prototype.getPrevRow=function(){var e,t;for(t=this;t;){if(t.prevSibling)for(t=t.prevSibling;e=t.getLastChild();)t=e;else t=t.parent;if(t&&t.hasOwnRow&&t.isShown)return t}return null},t.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},t.prototype.getRows=function(e){var t,n,r,i;for(null==e&&(e=[]),this.hasOwnRow&&e.push(this),i=this.children,n=0,r=i.length;r>n;n++)t=i[n],t.getRows(e);return e},t.prototype.getNodes=function(e){var t,n,r,i;for(null==e&&(e=[]),e.push(this),i=this.children,n=0,r=i.length;r>n;n++)t=i[n],t.getNodes(e);return e},t.prototype.getDescendants=function(){var e,t,n,r,i;for(e=[],i=this.children,n=0,r=i.length;r>n;n++)t=i[n],t.getNodes(e);return e},t.prototype.render=function(){var t,n,r,i,s,o,a;if(this.trHash={},o=[],this.hasOwnRow){t=this.getPrevRow(),n=this.view.tbodyHash;for(a in n)i=n[a],s=e("<tr/>"),this.trHash[a]=s,o.push(s[0]),r="render"+V(a)+"Content",this[r]&&this[r](s),t?t.trHash[a].after(s):i.prepend(s)}return this.trs=e(o).on("click",".fc-expander",Re(this,"toggleExpanded")),this.isRendered=!0},t.prototype.unrender=function(){var t,n,r,i;if(this.isRendered){t=this.trHash;for(r in t)n=t[r],i="unrender"+V(r)+"Content",this[i]&&this[i](n);return this.trHash={},this.trs.remove(),this.trs=e(),this.isRendered=!1,this.isShown=!1,this.hidden()}},t.prototype.recursivelyUnrender=function(){var e,t,n,r,i;for(this.unrender(),r=this.children,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.recursivelyUnrender());return i},t.prototype.getTr=function(e){return this.trHash[e]},t.prototype.show=function(){var e,t,n,r,i;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(r=this.children,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.show());return i}},t.prototype.hide=function(){var e,t,n,r,i;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(r=this.children,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.hide());return i}},t.prototype.expand=function(){var e,t,n,r;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),r=this.children,t=0,n=r.length;n>t;t++)e=r[t],e.show();return this.view.unbatchRows(),this.animateExpand()}},t.prototype.collapse=function(){var e,t,n,r;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),r=this.children,t=0,n=r.length;n>t;t++)e=r[t],e.hide();return this.view.unbatchRows()}},t.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},t.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},t.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},t.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},t.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},t.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},t.prototype.getCollapsedIcon=function(){var e;return e=this.view.isRTL?"left":"right","fc-icon-"+e+"-triangle"},t.prototype.animateExpand=function(){var e,t,n;return n=null!=(e=this.children[0])&&null!=(t=e.getLeadingRow())?t.trs:void 0,n?(n.addClass("fc-collapsed"),setTimeout(function(){return n.addClass("fc-transitioning"),n.removeClass("fc-collapsed")}),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return n.removeClass("fc-transitioning")})):void 0},t.prototype.getMaxTrInnerHeight=function(){var t;return t=0,e.each(this.trHash,function(e){return function(e,n){var r;return r=ae(n).find("> div:not(.fc-cell-content):first"),t=Math.max(r.height(),t)}}(this)),t},t.prototype.setTrInnerHeight=function(t){return e.each(this.trHash,function(e){return function(e,n){return ae(n).find("> div:not(.fc-cell-content):first").height(t)}}(this))},t.prototype.shown=function(){return this.hasOwnRow?this.rowShown(this):void 0},t.prototype.hidden=function(){return this.hasOwnRow?this.rowHidden(this):void 0},t.prototype.rowShown=function(e){return(this.parent||this.view).rowShown(e)},t.prototype.rowHidden=function(e){return(this.parent||this.view).rowHidden(e)},t.prototype.added=function(){return this.hasOwnRow?this.rowAdded(this):void 0},t.prototype.removed=function(){return this.hasOwnRow?this.rowRemoved(this):void 0},t.prototype.rowAdded=function(e){return(this.parent||this.view).rowAdded(e)},t.prototype.rowRemoved=function(e){return(this.parent||this.view).rowRemoved(e)},t}(),P=function(t){function n(e,t,r){this.groupSpec=t,this.groupValue=r,n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.groupSpec=null,n.prototype.groupValue=null,n.prototype.rowRemoved=function(e){return n.__super__.rowRemoved.apply(this,arguments),e===this||this.children.length?void 0:this.remove()},n.prototype.renderGroupContentEl=function(){var t,n;return t=e('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),n=this.groupSpec.render,"function"==typeof n&&(t=n(t,this.groupValue)||t),t},n.prototype.renderGroupTextEl=function(){var t,n;return n=this.groupValue||"",t=this.groupSpec.text,"function"==typeof t&&(n=t(n)||n),e('<span class="fc-cell-text" />').text(n)},n}(F),p=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.hasOwnRow=!0,n.prototype.renderSpreadsheetContent=function(t){var n;return n=this.renderGroupContentEl(),n.prepend('<span class="fc-icon fc-expander" />'),e('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(e("<div/>").append(n)).appendTo(t)},n.prototype.renderEventContent=function(e){return e.append('<td class="fc-divider"> <div/> </td>')},n}(P),q=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.rowspan=0,n.prototype.leadingTr=null,n.prototype.groupTd=null,n.prototype.rowShown=function(e){return this.rowspan+=1,this.renderRowspan(),n.__super__.rowShown.apply(this,arguments)},n.prototype.rowHidden=function(e){return this.rowspan-=1,this.renderRowspan(),n.__super__.rowHidden.apply(this,arguments)},n.prototype.renderRowspan=function(){var t;return this.rowspan?(this.groupTd||(this.groupTd=e('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),t=this.getLeadingRow().getTr("spreadsheet"),t!==this.leadingTr?(t&&t.prepend(this.groupTd),this.leadingTr=t):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},n}(P),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ne(t,e),t.prototype.hasOwnRow=!0,t.prototype.segContainerEl=null,t.prototype.segContainerHeight=null,t.prototype.innerEl=null,t.prototype.bgSegContainerEl=null,t.prototype.isSegsRendered=!1,t.prototype.bgSegs=null,t.prototype.fgSegs=null,t.prototype.renderEventContent=function(e){return e.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=e.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=e.find("td > div"),this.ensureSegsRendered()},t.prototype.ensureSegsRendered=function(){return this.isSegsRendered?void 0:(this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0)},t.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},t}(F),E=function(t){function n(e,t){this.resource=t,n.__super__.constructor.apply(this,arguments)}return Ne(n,t),n.prototype.resource=null,n.prototype.rowAdded=function(e){return n.__super__.rowAdded.apply(this,arguments),e!==this&&this.isRendered&&1===this.children.length?(this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()):void 0},n.prototype.rowRemoved=function(e){return n.__super__.rowRemoved.apply(this,arguments),e!==this&&this.isRendered&&!this.children.length?this.disableExpanding():void 0},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},n.prototype.renderEventContent=function(e){return n.__super__.renderEventContent.apply(this,arguments),e.attr("data-resource-id",this.resource.id)},n.prototype.renderSpreadsheetContent=function(t){var n,r,i,s,o,a,l,u,c;for(l=this.resource,a=this.view.colSpecs,s=0,o=a.length;o>s;s++)n=a[s],n.group||(i=n.field?l[n.field]||null:l,c="function"==typeof n.text?n.text(l,i):i,r=e('<div class="fc-cell-content">'+(n.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(c?fe(c):"&nbsp;")+"</span></div>"),"function"==typeof n.render&&(r=n.render(l,r,i)||r),u=e('<td class="'+this.view.widgetContentClass+'"/>').append(r),n.isMain&&u.wrapInner("<div/>"),t.append(u));return t.attr("data-resource-id",l.id)},n.prototype.renderGutterHtml=function(){var e,t,n,r;for(e="",t=n=0,r=this.depth;r>n;t=n+=1)e+='<span class="fc-icon"/>';return e+='<span class="fc-icon fc-expander-space"/>'},n}(c),d.views.timeline.resourceClass=H,S=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ne(t,e),t.mixin(j),t.prototype.timeGridClass=M,t.prototype.dayGridClass=_,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResources=function(e){return this.timeGrid.setResources(e),this.dayGrid&&this.dayGrid.setResources(e),this.clearView(),this.displayView()},t.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},t}(d.AgendaView),d.views.agenda.queryResourceClass=function(e){var t;return(null!=(t=e.options.groupByResource||e.options.groupByDateAndResource)?t:1===e.duration.as("days"))?S:void 0},x=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ne(t,e),t.mixin(j),t.prototype.dayGridClass=_,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResources=function(e){return this.dayGrid.setResources(e),this.clearView(),this.displayView()},t.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},t}(d.BasicView),D=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ne(t,e),t.mixin(j),t.prototype.dayGridClass=_,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResources=function(e){return this.dayGrid.setResources(e),this.clearView(),this.displayView()},t.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},t}(d.MonthView),d.views.basic.queryResourceClass=function(e){var t;return(null!=(t=e.options.groupByResource||e.options.groupByDateAndResource)?t:1===e.duration.as("days"))?x:void 0},d.views.month.queryResourceClass=function(e){return e.options.groupByResource||e.options.groupByDateAndResource?D:void 0},w="2016-02-18",B={years:1,weeks:1},f="http://fullcalendar.io/scheduler/license/",b=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Me=function(e,t){return ve(window.location.href)||be(e)||ne(t)?void 0:He('Please use a valid license key. <a href="'+f+'">More Info</a>',t)},be=function(n){var r,i,s,o;return-1!==e.inArray(n,b)?!0:(i=(n||"").match(/^(\d+)\-fcs\-(\d+)$/),i&&10===i[1].length&&(s=t.utc(1e3*parseInt(i[2])),o=t.utc(d.mockSchedulerReleaseDate||w),o.isValid()&&(r=o.clone().subtract(B),s.isAfter(r)))?!0:!1)},ve=function(e){return Boolean(e.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},He=function(t,n){return n.append(e('<div class="fc-license-message" />').html(t))},void(ne=function(e){return e.find(".fc-license-message").length>=1}))}),/*! tinyColorPicker - v1.0.0 2015-08-02 */
!function(e,t){"use strict";function n(e,n,r,s,o){if("string"==typeof n){var n=b.txt2color(n);r=n.type,p[r]=n[r],o=o!==t?o:n.alpha}else if(n)for(var a in n)e[r][a]=c(n[a]/d[r][a][1],0,1);return o!==t&&(e.alpha=+o),i(r,s?e:t)}function r(e,t,n){var r=h.options.grey,i={};return i.RGB={r:e.r,g:e.g,b:e.b},i.rgb={r:t.r,g:t.g,b:t.b},i.alpha=n,i.equivalentGrey=Math.round(r.r*e.r+r.g*e.g+r.b*e.b),i.rgbaMixBlack=l(t,{r:0,g:0,b:0},n,1),i.rgbaMixWhite=l(t,{r:1,g:1,b:1},n,1),i.rgbaMixBlack.luminance=a(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=a(i.rgbaMixWhite,!0),h.options.customBG&&(i.rgbaMixCustom=l(t,h.options.customBG,n,1),i.rgbaMixCustom.luminance=a(i.rgbaMixCustom,!0),h.options.customBG.luminance=a(h.options.customBG,!0)),i}function i(e,t){var n,i,c,f=t||p,m=b,g=h.options,v=d,y=f.RND,w="",S="",x={hsl:"hsv",rgb:e},_=y.rgb;if("alpha"!==e){for(var k in v)if(!v[k][k]){e!==k&&(S=x[k]||"rgb",f[k]=m[S+"2"+k](f[S])),y[k]||(y[k]={}),n=f[k];for(w in n)y[k][w]=Math.round(n[w]*v[k][w][1])}_=y.rgb,f.HEX=m.RGB2HEX(_),f.equivalentGrey=g.grey.r*f.rgb.r+g.grey.g*f.rgb.g+g.grey.b*f.rgb.b,f.webSave=i=s(_,51),f.webSmart=c=s(_,17),f.saveColor=_.r===i.r&&_.g===i.g&&_.b===i.b?"web save":_.r===c.r&&_.g===c.g&&_.b===c.b?"web smart":"",f.hueRGB=b.hue2RGB(f.hsv.h),t&&(f.background=r(_,f.rgb,f.alpha))}var C,T,D,E=f.rgb,M=f.alpha,R="luminance",H=f.background;return C=l(E,{r:0,g:0,b:0},M,1),C[R]=a(C,!0),f.rgbaMixBlack=C,T=l(E,{r:1,g:1,b:1},M,1),T[R]=a(T,!0),f.rgbaMixWhite=T,g.customBG&&(D=l(E,H.rgbaMixCustom,M,1),D[R]=a(D,!0),D.WCAG2Ratio=u(D[R],H.rgbaMixCustom[R]),f.rgbaMixBGMixCustom=D,D.luminanceDelta=Math.abs(D[R]-H.rgbaMixCustom[R]),D.hueDelta=o(H.rgbaMixCustom,D,!0)),f.RGBLuminance=a(_),f.HUELuminance=a(f.hueRGB),g.convertCallback&&g.convertCallback(f,e),f}function s(e,t){var n={},r=0,i=t/2;for(var s in e)r=e[s]%t,n[s]=e[s]+(r>i?t-r:-r);return n}function o(e,t,n){return(Math.max(e.r-t.r,t.r-e.r)+Math.max(e.g-t.g,t.g-e.g)+Math.max(e.b-t.b,t.b-e.b))*(n?255:1)/765}function a(e,t){for(var n=t?1:255,r=[e.r/n,e.g/n,e.b/n],i=h.options.luminance,s=r.length;s--;)r[s]=r[s]<=.03928?r[s]/12.92:Math.pow((r[s]+.055)/1.055,2.4);return i.r*r[0]+i.g*r[1]+i.b*r[2]}function l(e,n,r,i){var s={},o=r!==t?r:1,a=i!==t?i:1,l=o+a*(1-o);for(var u in e)s[u]=(e[u]*o+n[u]*a*(1-o))/l;return s.a=l,s}function u(e,t){var n=1;return n=e>=t?(e+.05)/(t+.05):(t+.05)/(e+.05),Math.round(100*n)/100}function c(e,t,n){return e>n?n:t>e?t:e}var d={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},h={},p={},f={r:.298954,g:.586434,b:.114612},m={r:.2126,g:.7152,b:.0722},g=e.Colors=function(e){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",grey:f,luminance:m,valueRanges:d},v(this,e||{})},v=function(e,r){var i,s=e.options;y(e);for(var o in r)r[o]!==t&&(s[o]=r[o]);i=s.customBG,s.customBG="string"==typeof i?b.txt2color(i).rgb:i,p=n(e.colors,s.color,t,!0)},y=function(e){h!==e&&(h=e,p=e.colors)};g.prototype.setColor=function(e,r,s){return y(this),e?n(this.colors,e,r,t,s):(s!==t&&(this.colors.alpha=s),i(r))},g.prototype.setCustomBackground=function(e){return y(this),this.options.customBG="string"==typeof e?b.txt2color(e).rgb:e,n(this.colors,t,"rgb")},g.prototype.saveAsBackground=function(){return y(this),n(this.colors,t,"rgb",!0)};var b={txt2color:function(e){var t={},n=e.replace(/(?:#|\)|%)/g,"").split("("),r=(n[1]||"").split(/,\s*/),i=n[1]?n[0].substr(0,3):"rgb",s="";if(t.type=i,t[i]={},n[1])for(var o=3;o--;)s=i[o]||i.charAt(o),t[i][s]=+r[o]/d[i][s][1];else t.rgb=b.HEX2rgb(n[0]);return t.alpha=r[3]?+r[3]:1,t},RGB2HEX:function(e){return((e.r<16?"0":"")+e.r.toString(16)+(e.g<16?"0":"")+e.g.toString(16)+(e.b<16?"0":"")+e.b.toString(16)).toUpperCase()},HEX2rgb:function(e){return e=e.split(""),{r:parseInt(e[0]+e[e[3]?1:0],16)/255,g:parseInt(e[e[3]?2:1]+(e[3]||e[1]),16)/255,b:parseInt((e[4]||e[2])+(e[5]||e[2]),16)/255}},hue2RGB:function(e){var t=6*e,n=~~t%6,r=6===t?0:t-n;return{r:Math.round(255*[1,1-r,0,0,r,1][n]),g:Math.round(255*[r,1,1,1-r,0,0][n]),b:Math.round(255*[0,0,r,1,1,1-r][n])}},rgb2hsv:function(e){var t,n,r,i=e.r,s=e.g,o=e.b,a=0;return o>s&&(s=o+(o=s,0),a=-1),n=o,s>i&&(i=s+(s=i,0),a=-2/6-a,n=Math.min(s,o)),t=i-n,r=i?t/i:0,{h:1e-15>r?p&&p.hsl&&p.hsl.h||0:t?Math.abs(a+(s-o)/(6*t)):0,s:i?t/i:p&&p.hsv&&p.hsv.s||0,v:i}},hsv2rgb:function(e){var t=6*e.h,n=e.s,r=e.v,i=~~t,s=t-i,o=r*(1-n),a=r*(1-s*n),l=r*(1-(1-s)*n),u=i%6;return{r:[r,a,o,o,l,r][u],g:[l,r,r,a,o,o][u],b:[o,o,l,r,r,a][u]}},hsv2hsl:function(e){var t=(2-e.s)*e.v,n=e.s*e.v;return n=e.s?1>t?t?n/t:0:n/(2-t):0,{h:e.h,s:e.v||n?n:p&&p.hsl&&p.hsl.s||0,l:t/2}},rgb2hsl:function(e,t){var n=b.rgb2hsv(e);return b.hsv2hsl(t?n:p.hsv=n)},hsl2rgb:function(e){var t=6*e.h,n=e.s,r=e.l,i=.5>r?r*(1+n):r+n-n*r,s=r+r-i,o=i?(i-s)/i:0,a=~~t,l=t-a,u=i*o*l,c=s+u,d=i-u,h=a%6;return{r:[i,d,s,s,c,i][h],g:[c,i,i,d,s,s][h],b:[s,s,c,i,i,d][h]}}}}(window),function(e,t,n){"use strict";function r(t){return t.value||t.getAttribute("value")||e(t).css("background-color")||"#fff"}function i(e){return e=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e,e.originalEvent?e.originalEvent:e}function s(t){return e(t.find(y.doRender)[0]||t[0])}function o(t){var n=e(this),i=n.offset(),o=e(window),l=y.gap;t?(b=s(n),g.$trigger=n,(w||a()).css({left:(w[0]._left=i.left)-((w[0]._left=w[0]._left+w[0]._width-(o.scrollLeft()+o.width()))+l>0?w[0]._left+l:0),top:(w[0]._top=i.top+n.outerHeight())-((w[0]._top=w[0]._top+w[0]._height-(o.scrollTop()+o.height()))+l>0?w[0]._top+l:0)}).show(y.animationSpeed,function(){t!==!0&&(k._width=k.width(),S._width=S.width(),S._height=S.height(),v.setColor(r(b[0])),p(!0))})):e(w).hide(y.animationSpeed,function(){b.blur(),g.$trigger=null,p(!1)})}function a(){return e("head").append('<style type="text/css">'+(y.css||F)+(y.cssAddon||"")+"</style>"),g.$UI=w=e(P).css({margin:y.margin}).appendTo("body").show(0,function(){var t=e(this);H=y.GPU&&t.css("perspective")!==n,S=e(".cp-xy-slider",this),x=e(".cp-xy-cursor",this),_=e(".cp-z-cursor",this),k=e(".cp-alpha",this).toggle(!!y.opacity),C=e(".cp-alpha-cursor",this),y.buildCallback.call(g,t),t.prepend("<div>").children().eq(0).css("width",t.children().eq(0).width()),this._width=this.offsetWidth,this._height=this.offsetHeight}).hide().on(M,".cp-xy-slider,.cp-z-slider,.cp-alpha",l)}function l(t){var n=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");t.preventDefault&&t.preventDefault(),t.returnValue=!1,b._offset=e(this).offset(),(n="xy_slider"===n?c:"z_slider"===n?d:h)(t),T.on(R,u).on(E,n)}function u(){T.off(".a")}function c(e){var t=i(e),n=t.pageX-b._offset.left,r=t.pageY-b._offset.top;v.setColor({s:n/S._width*100,v:100-r/S._height*100},"hsv"),p()}function d(e){var t=i(e).pageY-b._offset.top;v.colors.hsv,v.setColor({h:360-t/S._height*360},"hsv"),p()}function h(e){var t=i(e).pageX-b._offset.left,n=t/k._width;v.setColor({},"rgb",n>1?1:0>n?0:n),p()}function p(e){var t=v.colors,r=t.hueRGB,i=t.RND.rgb,s=t.RND.hsl,o="#222",a="#ddd",l=b.data("colorMode"),u=1!==t.alpha,c=Math.round(100*t.alpha)/100,d=i.r+", "+i.g+", "+i.b,h="HEX"!==l||u?"rgb"===l||"HEX"===l&&u?u?"rgba("+d+", "+c+")":"rgb("+d+")":"hsl"+(u?"a(":"(")+s.h+", "+s.s+"%, "+s.l+"%"+(u?", "+c:"")+")":"#"+t.HEX,p=t.HUELuminance>.22?o:a,m=t.rgbaMixBlack.luminance>.22?o:a,g=(1-t.hsv.h)*S._height,y=t.hsv.s*S._width,w=(1-t.hsv.v)*S._height,T=c*k._width,D=H?"translate3d":"",E=b.val(),M=b[0].hasAttribute("value")&&""===E&&e!==n;S._css={backgroundColor:"rgb("+r.r+","+r.g+","+r.b+")"},x._css={transform:D+"("+y+"px, "+w+"px, 0)",left:H?"":y,top:H?"":w,borderColor:t.RGBLuminance>.22?o:a},_._css={transform:D+"(0, "+g+"px, 0)",top:H?"":g,borderColor:"transparent "+p},k._css={backgroundColor:"rgb("+d+")"},C._css={transform:D+"("+T+"px, 0, 0)",left:H?"":T,borderColor:m+" transparent"},b._css={backgroundColor:M?"":h,color:M?"":t.rgbaMixBGMixCustom.luminance>.22?o:a},b.text=M?"":E!==h?h:"",e!==n?f(e):j(f)}function f(e){S.css(S._css),x.css(x._css),_.css(_._css),k.css(k._css),C.css(C._css),y.doRender&&b.css(b._css),b.text&&b.val(b.text),y.renderCallback.call(g,b,"boolean"==typeof e?e:n)}var m,g,v,y,b,w,S,x,_,k,C,T=e(document),D="",E="touchmove.a mousemove.a pointermove.a",M="touchstart.a mousedown.a pointerdown.a",R="touchend.a mouseup.a pointerup.a",H=!1,j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){e()},P='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',F=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",I=function(e){v=this.color=new t(e),y=v.options};I.prototype={render:p,toggle:o},e.fn.colorPicker=function(t){var n=function(){};return t=e.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:n,buildCallback:n,body:document.body,scrollResize:!0,gap:4},t),!g&&t.scrollResize&&e(window).on("resize.a scroll.a",function(){g.$trigger&&g.toggle.call(g.$trigger[0],!0)}),m=m?m.add(this):this,m.colorPicker=g||(g=new I(t)),D+=(D?", ":"")+this.selector,e(t.body).off(".a").on(M,function(t){var n=e(t.target);-1!==e.inArray(n.closest(D)[0],m)||n.closest(w).length||o()}).on("focus.a click.a",D,o).on("change.a",D,function(){v.setColor(this.value||"#FFF"),m.colorPicker.render(!0)}),this.each(function(){var n=r(this),i=n.split("("),o=s(e(this));o.data("colorMode",i[1]?i[0].substr(0,3):"HEX").attr("readonly",y.preventFocus),t.doRender&&o.css({"background-color":n,color:function(){return v.setColor(n).rgbaMixBGMixCustom.luminance>.22?"#222":"#ddd"}})})},e.fn.colorPicker.destroy=function(){e(g.color.options.body).off(".a"),g.toggle(!1),m=null,D=""}}(jQuery,Colors),function(){this.Gws_Popup=function(){function e(){}return e.init=null,e.render=function(e,t){var n;return this.init||(this.init=!0,$(window).resize(function(){return $(".gws-popup").remove()}),$(document).click(function(e){return $(e.target).closest(".gws-popup, .gws-popup-event").length?void 0:$(".gws-popup").remove()})),$(".gws-popup").remove(),n=$("<div class='gws-popup'></div>").html($(t)),$("body").append(n),e.addClass("gws-popup-event"),this.renderPopup(e)},e.renderPopup=function(e){var t,n,r;return t=$(".gws-popup"),$(window).width()<1.5*t.outerWidth()&&t.css("max-width",$(window).width()/2),n=e.offset().left+e.outerWidth()/2-t.outerWidth()/2,r=e.offset().top-t.outerHeight()-20,0>n?(n=e.offset().left+e.outerWidth()/2-20,t.addClass("left")):t.removeClass("left"),n+t.outerWidth()>$(window).width()?(n=e.offset().left-t.outerWidth()+e.outerWidth()/2+20,t.addClass("right")):t.removeClass("right"),0>r?(r=e.offset().top+e.outerHeight(),t.addClass("top")):t.removeClass("top"),t.css({left:n,top:r}).animate({top:"+=10",opacity:1},50)},e}()}.call(this),function(){this.Gws_Member=function(){function e(){}return e.groups=null,e.users=null,e.render=function(){return $(".js-copy-groups").length<2&&($(".js-copy-groups").remove(),$(".js-paste-groups").remove()),$(".js-copy-groups").click(function(){return e.copyGroups($(this))}),$(".js-paste-groups").click(function(){return e.pasteGroups($(this))}),$(".js-copy-users").length<2&&($(".js-copy-users").remove(),$(".js-paste-users").remove()),$(".js-copy-users").click(function(){return e.copyUsers($(this))}),$(".js-paste-users").click(function(){return e.pasteUsers($(this))})},e.confirmReadableSetting=function(){return $(".save").on("click",function(){return 0===$(".gws-addon-readable-setting tbody tr").length?confirm("\u95b2\u89a7\u8005\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u5168\u54e1\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"):void 0})},e.copyGroups=function(e){return this.groups=e.closest("dl").find("tbody tr").clone(!0),this.showLog(e,this.groups.length+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},e.pasteGroups=function(e){var t;return t=this.pasteItems(e,this.groups),this.showLog(e,t+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},e.copyUsers=function(e){return this.users=e.closest("dl").find("tbody tr").clone(!0),this.showLog(e,this.users.length+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},e.pasteUsers=function(e){var t;return t=this.pasteItems(e,this.users),this.showLog(e,t+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},e.pasteItems=function(e,t){var n,r,i,s;return t&&0!==t.length?(n=e.closest("dl"),n.find("table").show(),s=n.find("tbody"),r=n.find(".hidden-ids").attr("name"),i=0,t.each(function(){var e;return 0===s.find("tr[data-id="+$(this).data("id")+"]").length?(e=$(this).clone(!0),e.find("input").attr("name",r),s.append(e),i+=1):void 0}),i):0},e.showLog=function(e,t){return $(".gws-member-log").remove(),$("<span class='gws-member-log'>"+t+"</span>").appendTo(e.parent()).hide().fadeIn(200)},e}()}.call(this),function(){this.Gws_Reminder=function(){function e(){}return e.renderAddon=function(e){var t,n;return null==e&&(e={}),t=$(".gws-addon-reminder"),n={data:{item:{item_id:t.find("#item_id").val(),model:t.find("#item_model").val(),name:t.find("#item_name").val()}},beforeSend:function(e){return $(".gws-addon-reminder-label").html("")},success:function(e){return $(".gws-addon-reminder-label").html(e)},error:function(e){return alert("Error")}},$.extend(!0,n,e),$("#gws-addon-reminder-set").click(function(){var e;return e={method:"post"},$.extend(!0,e,n),e.data.item.date=t.find("#item_date").val(),$.ajax(e)}),$("#gws-addon-reminder-unset").click(function(){var e;return e={method:"post"},$.extend(!0,e,n),e.data._method="delete",$.ajax(e)})},e.renderList=function(e){var t;return null==e&&(e={}),this.noticeTimer=null,t=function(e,t){switch(t){case"updating":return e.find(".updated").hide(),this.noticeTimer&&clearTimeout(this.noticeTimer),$("#notice").hide();case"updated":return e.find(".updated").show(),$("#notice")[0]||$("#page").append('<aside id="notice"><div class="wrap"></div></aside>'),$("#notice .wrap").html("\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002"),$("#notice").show(),this.noticeTimer=setTimeout(function(){return $("#notice").slideUp("fast")},1500);default:return e.find(".updated").hide()}},$(".list-item").each(function(){return $(this).find(".links").append('<a class="restore" href="#" style="display: none;">\u5143\u306b\u623b\u3059</a>')}),$(".list-item .delete").click(function(){var t;return t=$(this).closest(".list-item"),$.ajax({url:e.url,method:"post",data:{_method:"delete",item:{item_id:t.data("id"),model:t.data("model"),name:t.data("name"),date:t.data("date")}},success:function(e){return t.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").hide(),t.find(".restore").show(),t.find(".notification").hide(),!1},error:function(e){return alert("Error")}})}),$(".list-item .restore").click(function(){var t;return t=$(this).closest(".list-item"),$.ajax({url:e.url,method:"post",data:{item:{item_id:t.data("id"),model:t.data("model"),name:t.data("name"),date:t.data("date")}},success:function(e){return t.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").show(),t.find(".restore").hide(),t.find(".notification")[0]&&(t.find(".notification")[0].selectedIndex=0),t.find(".notification").show(),!1},error:function(e){return alert("Error")}})}),$(".list-item .notification").change(function(){var n,r,i;return r=$(this).closest(".list-item"),n=this.selectedIndex,i=this.options[n].value,t(r,"updating"),$.ajax({url:e.url+"/notifications",method:"post",data:{item:{item_id:r.data("id"),model:r.data("model"),in_notify_before:i}},success:function(e){return t(r,"updated"),!1},error:function(e){return t(r,"none"),alert("Error")}})})},e}()}.call(this),function(){this.Gws_Schedule_Calendar=function(){function e(){}return e.messages={noPlan:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"},e.render=function(e,t,n){var r;return null==t&&(t={}),null==n&&(n={}),r=this.defaultParams(t),t.restUrl&&$.extend(!0,r,this.editableParams(t)),t.restUrl&&$.extend(!0,r,this.tapMenuParams(t)),$.extend(!0,r,t),$(e).fullCalendar(r),this.renderInitialize(e,n)},e.renderInitialize=function(e,t){return null==t&&(t={}),t.view&&$(e).fullCalendar("changeView",t.view),t.date&&$(e).fullCalendar("gotoDate",t.date),$(e).find(".fc-toolbar h2").click(function(){var e,t,n,r;if(r="gws-schedule-tool-calendars",0===$("."+r).length){for(e="<div class='"+r+"'><div class='xdsoft_datetimepicker controller'><button type='button' class='xdsoft_prev' /><button type='button' class='xdsoft_next' /></div></div>",$(".gws-schedule-box .calendar:first").before(e),t=n=1;4>=n;t=++n)$("."+r).append("<div class='"+r+"-cal"+t+"'></div>"),$("."+r+"-cal"+t).datetimepicker({timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,scrollMonth:!1,inline:!0,defaultDate:"+1970/0"+t+"/01",defaultSelect:!1,todayButton:!1,onGenerate:function(e,t){return $(this).find(".xdsoft_today").removeClass("xdsoft_today"),$(this).find(".xdsoft_current").removeClass("xdsoft_current")},onSelectDate:function(e,t){var n;return n=sprintf("%d-%02d-%02d",e.getFullYear(),e.getMonth()+1,e.getDate()),$(".calendar").fullCalendar("gotoDate",n)}});$("."+r).find(".xdsoft_month, .xdsoft_year").unbind("mousedown").find("i").remove(),$("."+r+" .xdsoft_datetimepicker").not(".controller.controller").find(".xdsoft_prev, .xdsoft_next").hide(),$("."+r+" .controller .xdsoft_prev").mousedown(function(){var e,n;for(n=[],t=e=1;4>=e;t=++e)n.push($("."+r+" .xdsoft_prev").not(this).mousedown().mouseup());return n}),$("."+r+" .controller .xdsoft_next").mousedown(function(){var e,n;for(n=[],t=e=1;4>=e;t=++e)n.push($("."+r+" .xdsoft_next").not(this).mousedown().mouseup());return n})}return $("."+r).animate({width:"toggle"},"fast")})},e.defaultParams=function(e){return{buttonText:{listMonth:"\u30ea\u30b9\u30c8"},columnFormat:{month:"ddd",week:"M/D [(]ddd[)]",day:"M/D [(]ddd[)]"},contentHeight:"auto",displayEventEnd:{basicWeek:!0},endParam:"s[end]",fixedWeekCount:!1,header:{left:"today prev next title",right:"month basicWeek agendaDay listMonth"},lang:"ja",nextDayThreshold:"00:00:00",schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",slotLabelFormat:"HH:mm",startParam:"s[start]",timeFormat:"HH:mm",titleFormat:{month:"YYYY\u5e74 M\u6708",week:"(YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09)",day:"YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09"},loading:function(e,t){return e?$(this).find(".fc-widget-content").eq(0).prepend('<span class="fc-loading">\u8aad\u307f\u8fbc\u307f\u4e2d</span>'):$(this).find(".fc-loading").remove()}}},e.tapMenuParams=function(e){var t;return t=e.restUrl,{dayClick:function(n,r,i){var s,o,a;return e.tapMenu?(o=new Date,a=n.format()+"T"+o.getHours()+":00:00",s="<a href='"+t+"/new?start="+a+"' class='add-plan'>\u4e88\u5b9a\u3092\u4f5c\u6210</a>",$("body").append('<div class="tap-menu">'+s+"</div>"),$(".tap-menu").show().css("left",r.pageX-5).css("top",r.pageY-5).show(),$(".tap-menu a").click(function(){var e;return $(this).data("view")?(e=i.calendar.getCalendar(),e.changeView($(this).data("view")),e.gotoDate(n),$(".tap-menu").remove(),!1):void 0}),$(".tap-menu").mouseleave(function(){return $(".tap-menu").remove()})):void 0}}},e.editableParams=function(e){var t;return t=e.restUrl,{editable:!0,eventClick:function(e,n,r){var i;if(!e.noPopup)return i=$(this),Gws_Popup.render(i,"<div class='fc-popup'><span class='fc-loading'>\u8aad\u307f\u8fbc\u307f\u4e2d</span></div>"),$.ajax({url:t+"/"+e.id+"/popup",success:function(e){return $(".fc-popup").html(e),Gws_Popup.renderPopup(i)}})},eventDrop:function(e,n,r,i,s,o){var a;return a=null,e.end&&(a=e.end.format()),$.ajax({type:"PUT",url:t+"/"+e.id+".json",data:{item:{api:"drop",api_start:e.start.format(),api_end:a}},success:function(e,t){var n;return n=o.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(e,t,n){return alert(e.responseJSON.join("\n")),r()}})},eventResize:function(e,n,r){return $.ajax({type:"PUT",url:t+"/"+e.id+".json",data:{item:{api:"resize",api_start:e.start.format(),api_end:e.end.format()}},success:function(e,t){var n;return n=view.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+n).fullCalendar("refetchEvents")},error:function(e,t,n){return alert(e.responseJSON.join("\n")),r()}})}}},e}()}.call(this);var FC=$.fullCalendar,View=FC.View;BasicHourView=FC.views.basicHour=FC.BasicView.extend({renderEvents:function(e){this.dayGrid.renderEvents(e),head='<tr><td class="fc-head-container fc-widget-header">',head+='<div class="fc-row fc-widget-header">',head+="<table><thead><tr>";for(i in[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])head+='<th class="fc-day-header fc-widget-header fc-hour-'+i+'">'+i+"</th>";head+="</tr></thead></table>",head+="</div>",head+="</td></tr>",this.el.find(".fc-head").html(head)}}),BasicHourView.eventRender=function(e,t,n){var r=BasicHourView.eventLeftPosition(e,n),i=BasicHourView.eventRightPosition(e,n),s=i-r;1>s&&(s=1),t.find(".fc-time").remove(),t.css({position:"absolute",top:"2px",width:s.toString()+"%","margin-left":r+"%"})},BasicHourView.eventLeftPosition=function(e,t){if(nums=BasicHourView.datesToNum(e.start,t.start),nums[0]<nums[1])return 0;var n=new Date(e.start._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.eventRightPosition=function(e,t){if(!e.end)return 1;if(nums=BasicHourView.datesToNum(e.end,t.end),nums[0]==nums[1])return 99.5;var n=new Date(e.end._i);return.0694*(60*n.getHours()+n.getMinutes())},BasicHourView.datesToNum=function(e,t){return num1=1e4*e.year()+100*(e.month()+1)+e.date(),num2=1e4*t.year()+100*(t.month()+1)+t.date(),[num1,num2]};var FC=$.fullCalendar,View=FC.View,ListMonthView=FC.ListMonthView=FC.BasicView.extend({renderEvents:function(e){var t=this.calendar,n=$('<div class="fc-listMonth-view-container"></div>').appendTo(".fc-listMonth-view"),r=$('<div class="fc-listMonth-view-table"></div>');for(var i in e){var s=e[i];if(-1==s.className.indexOf("fc-holiday")){var o=$('<a class="fc-event fc-event-point"></a>').text(s.title);o.css({color:s.textColor,"background-color":s.backgroundColor}),o.bind("click",function(n){var r=$(this).data("eventNo");return t.view.trigger("eventClick",$(this),e[r],n)}).data("eventNo",i);var a=$('<div class="td info"></div>').append(o),l=$('<div class="td date"></div>').text(s.startDateLabel),u=$('<div class="td time"></div>').text(s.startTimeLabel);s.allDay&&u.text(s.allDayLabel),$('<div class="tr"></div>').appendTo(r).append(l).append(u).append(a),r.appendTo(n)}}if(0==$(".fc-event").length){var c=$('<div class="td">'+Gws_Schedule_Calendar.messages.noPlan+"</div>");$('<div class="tr"></div>').appendTo(r).append(c),r.appendTo(n)}}});FC.views.listMonth={"class":ListMonthView,duration:{months:1},defaults:{fixedWeekCount:!1}},function(){this.Gws_Schedule_Multiple_Calendar=function(){function e(){}return e.render=function(e,t,n){var r;return null==t&&(t={}),null==n&&(n={}),r=Gws_Schedule_Calendar.defaultParams(t),t.restUrl&&$.extend(!0,r,Gws_Schedule_Calendar.editableParams(t)),t.restUrl&&$.extend(!0,r,Gws_Schedule_Calendar.tapMenuParams(t)),$.extend(!0,r,this.defaultParams(t)),$.extend(!0,r,this.contentParams(t)),$.extend(!0,r,t),$(e).fullCalendar(r),Gws_Schedule_Calendar.renderInitialize(e,n),$(document).click(function(e){return $(".fc-event").not($(e.target).closest(".fc-event")).find(".fc-popup").remove()})},e.defaultParams=function(e){return{defaultView:"basicWeek",header:{left:"today prev next title",right:"basicWeek timelineDay"},slotDuration:"01:00",slotLabelFormat:"H",views:{basicHour:{type:"day",buttonText:"\u65e5",contentHeight:25},timelineDay:{contentHeight:25,minTime:"08:00",maxTime:"22:00"}}}},e.controllerParams=function(e){return{header:{left:"today prev next title",right:"basicWeek timelineDay"},eventSources:[],eventAfterAllRender:function(e){return"basicWeek"===e.name?e.el.find(".fc-body").hide():void 0}}},e.contentParams=function(e){return{eventRender:function(e,t,n){return"basicHour"===n.name?BasicHourView.eventRender(e,t,n):void 0},eventAfterAllRender:function(e){}}},e.renderController=function(e,t,n){var r,i;return null==t&&(t={}),null==n&&(n={}),i=Gws_Schedule_Calendar.defaultParams(t),$.extend(!0,i,this.defaultParams(t)),$.extend(!0,i,this.controllerParams(t)),$.extend(!0,i,t),$(e).fullCalendar(i),Gws_Schedule_Calendar.renderInitialize(e,n),r=$(e),r.find(".fc-today-button").click(function(){return $(".calendar.multiple .fc-today-button").click()}),r.find(".fc-prev-button").click(function(){return $(".calendar.multiple .fc-prev-button").click()}),r.find(".fc-next-button").click(function(){return $(".calendar.multiple .fc-next-button").click()}),r.find(".fc-basicWeek-button").click(function(){return $(".calendar.multiple .fc-basicWeek-button").click()}),r.find(".fc-timelineDay-button").click(function(){return $(".calendar.multiple .fc-timelineDay-button").click()}),r.find(".fc-basicHour-button").click(function(){return $(".calendar.multiple .fc-basicHour-button").click()})},e}()}.call(this),function(){this.Gws_Schedule_Plan=function(){function e(){}return e.diffOn=36e5,e.renderForm=function(e){return null==e&&(e={}),$(".date").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,maxDate:e.maxDate}),$(".datetime").datetimepicker({lang:"ja",roundTime:"ceil",step:30,maxDate:e.maxDate}),this.relateDateForm(),this.relateDateTimeForm()},e.renderAlldayForm=function(){return this.changeDateForm(),$("#item_allday").change(function(){return e.changeDateValue(),e.changeDateForm()})},e.changeDateValue=function(){var e,t;return $("#item_allday").prop("checked")?($("#item_start_on").val($("#item_start_at").val().replace(/ .*/,"")),$("#item_end_on").val($("#item_end_at").val().replace(/ .*/,""))):(t=$("#item_start_at").val().replace(/.* /,""),e=$("#item_end_at").val().replace(/.* /,""),""===t&&""!==$("#item_start_on").val()&&(t="00:00"),""===e&&""!==$("#item_end_on").val()&&(e="00:00"),$("#item_start_at").val($("#item_start_on").val()+(" "+t)),$("#item_end_at").val($("#item_end_on").val()+(" "+e)))},e.changeDateForm=function(){return $("#item_allday").prop("checked")?($(".dates-field").show(),$(".datetimes-field").hide()):($(".dates-field").hide(),$(".datetimes-field").show())},e.relateDateForm=function(t,n){return null==t&&(t=".date.start"),null==n&&(n=".date.end"),$(t+", "+n).click(function(){return e.diffOn=e.diffDates($(t).val(),$(n).val())}),$(t).change(function(){var r,i,s;return s=$(t).val(),s&&(s=new Date(s).getTime(),!isNaN(s))?(r=new Date,r.setTime(s+e.diffOn),i="%d/%02d/%02d",$(t).hasClass("datetime")&&(i="%d/%02d/%02d %02d:%02d"),$(n).val(sprintf(i,r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()))):void 0}),""===$(n).val()?$(t).change():void 0},e.relateDateTimeForm=function(){return this.relateDateForm(".datetime.start",".datetime.end")},e.diffDates=function(e,t){var n;return e&&t?(n=new Date(t).getTime()-new Date(e).getTime(),0>n?0:n):36e5},e}()}.call(this),function(){this.Gws_Schedule_Repeat_Plan=function(){function e(){}return e.renderForm=function(){return this.changeRepeatForm(),this.relateDateForm(),$("#item_repeat_type").change(function(){return e.changeRepeatForm()})},e.changeRepeatForm=function(){var e;return e=$("#item_repeat_type").val(),""===e?$(".gws-schedule-repeat").hide():($(".gws-schedule-repeat").show(),$(".repeat-daily, .repeat-weekly, .repeat-monthly").hide(),$(".repeat-"+e).show())},e.relateDateForm=function(){return Gws_Schedule_Plan.relateDateForm(".date.repeat_start",".date.repeat_end")},e.renderSubmitButtons=function(){var e,t,n,r,i,s;return i=$("#main form"),s='<span class="gws-schedule-btn-space"></span>',e=$('<input type="button" class="btn" value="\u4eca\u56de\u306e\u307f" />'),t=$('<input type="button" class="btn" value="\u4ee5\u964d\u3059\u3079\u3066" />'),n=$('<input type="button" class="btn" value="\u4e00\u9023\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3059\u3079\u3066" />'),e.bind("click",function(){return i.append('<input type="hidden" name="item[edit_range]" value="one" />').submit()}),t.bind("click",function(){return i.append('<input type="hidden" name="item[edit_range]" value="later" />').submit()}),n.bind("click",function(){return i.append('<input type="hidden" name="item[edit_range]" value="all" />').submit()}),r=$('<div class="gws-schedule-repeat-submit"></div>'),r.append(e).append(s).append(t).append(s).append(n),$(".send .save, .send .delete").click(function(){return""!==$("#item_repeat_type").val()?($.colorbox({inline:!0,href:r}),!1):void 0})},e}()}.call(this),function(){$(function(){var e;return $("a[href^=http]").not('[href*="'+location.hostname+'"]').attr({target:"_blank"}),e=location.pathname+"/",$(".gws-schedule-tabs a").each(function(){var t;return t=$(this),e.match(new RegExp("^"+t.attr("href")+"(/|$)"))?t.addClass("current"):void 0}),Gws_Member.render()})}.call(this);