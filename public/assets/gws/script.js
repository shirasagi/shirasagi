function sprintf(){var t=sprintf.arguments,e=t.length;if(0==e)return"";var o,i,n,r="",s=t[0],a=s.length;o=0;for(var l,u,p=1,h=0,c=0;c<a;c++){var d=s.charAt(c);switch(h){case 0:"%"==d?(l=d,h=1,u=""):r+=d;break;case 1:if("%"==d){r+=d,h=0;break}switch(p>=e&&(t[e++]=""),i=0,n=-1,d){case"-":o|=1,h=1;break;case"+":o|=2,h=1;break;case"0":o|=4,h=2;break;case" ":o|=8,h=1;break;case"#":o|=16,h=1;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=parseInt(d),h=2;break;case"-":o=1,h=2;break;case".":i="",n=0,h=3;break;case"d":r+=toInteger(t[p],o,i,n),p++,h=0;break;case"f":r+=toFloatingPoint(t[p],o,i,6),p++,h=0;break;case"e":r+=toExponential(t[p],o,i,6,"e"),p++,h=0;break;case"E":r+=toExponential(t[p],o,i,6,"E"),p++,h=0;break;case"s":r+=t[p],p++,h=0;break;default:r+=u+d,h=0}break;case 2:switch(d){case".":n=0,h=3;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=10*i+parseInt(d),h=2;break;case"d":r+=toInteger(t[p],o,i,n),p++,h=0;break;case"f":r+=toFloatingPoint(t[p],o,i,6),p++,h=0;break;case"e":r+=toExponential(t[p],o,i,6,"e"),p++,h=0;break;case"E":r+=toExponential(t[p],o,i,6,"E"),p++,h=0;break;case"s":r+=toFormatString(t[p],i,n),p++,h=0;break;default:r+=u+d,h=0}break;case 3:switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=10*n+parseInt(d);break;case"d":r+=toInteger(t[p],o,i,n),p++,h=0;break;case"f":r+=toFloatingPoint(t[p],o,i,n),p++,h=0;break;case"e":r+=toExponential(t[p],o,i,n,"e"),p++,h=0;break;case"E":r+=toExponential(t[p],o,i,n,"E"),p++,h=0;break;case"s":r+=toFormatString(t[p],i,n),p++,h=0;break;default:r+=u+d,h=0}break;default:return"error"}h&&(u+=d)}return r}function toInteger(t,e,o,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var n=t.toString();if(-1<t&&t<1)n="0";else{t<0&&(n=n.substring(1));var r=n.indexOf("e");if(r!=-1){var s=parseInt(n.substring(r+2)),a=n.indexOf(".");for(a==-1?(n=n.substring(0,r)+"000000000000000000000",s-=21):(n=n.substring(0,a)+n.substring(a+1,r)+"00000",s-=n.length-a);s;s--)n+="0"}else{var a=n.indexOf(".");a!=-1&&(n=n.substring(0,a))}}var l=n.length;if(l<i){for(var u="0",p=i-l;p;p--)n=u+n;l=i}return ProcFlag(n,e,o-l,t>=0)}function toFloatingPoint(t,e,o,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var n=t>=0;return n||(t=-t),str=toFloatingPoint2(t,e,i),ProcFlag(str,e,o-str.length,n)}function toFloatingPoint2(t,e,o){var i=t.toString(),n=i.indexOf("e");if(n!=-1){var r=parseInt(i.substring(n+1));if(r>0){var s=i.indexOf(".");for(s==-1?(i=i.substring(0,n)+"000000000000000000000",r-=21):(i=i.charAt(0)+i.substring(2,n)+"00000",r-=i.length-1);r;r--)i+="0"}else{var a=r+o;if(a<-1)i="0";else if(a>=0){i=i.substring(0,n);var s=i.indexOf(".");for(s!=-1&&(i=i.charAt(0)+i.substring(2,n)),i="000000"+i,r+=7;r;r++)i="0"+i;i="0."+i}else{var l=parseFloat(i.substring(0,n));if(l>5){i="0.00000";for(var u=r+7;u;u++)i+="0";i+="1"}else i="0"}}}var p=i.length,s=i.indexOf(".");if(s!=-1){var h=p-s-1;if(h>o){var l=parseFloat(i.charAt(s+o+1)+"."+i.substring(s+o+2));if(l>5){var u;if(t<1){for(u=2;"0"==i.charAt(u);)u++;l=(parseInt(i.substring(u,o+2))+1).toString(),i=l.length>o+2-u?2==u?"1."+l.substring(1):i.substring(0,u-1)+l:i.substring(0,u)+l}else l=(parseInt(i.substring(0,s)+i.substring(s+1,s+o+1))+1).toString(),i=l.length>s+o?l.substring(0,s+1)+"."+l.substring(s+1):l.substring(0,s)+"."+l.substring(s)}else i=i.substring(0,o?s+o+1:s)}else if(h<o)for(var u=o-h;u;u--)i+="0"}else if(o){i+=".0";for(var u=o-1;u;u--)i+="0"}return i}function toExponential(t,e,o,i,n){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var r=t>=0;r||(t=-t);var s,a=t.toString(),l=a.indexOf("."),u=a.indexOf("e"),p=((u!=-1)<<1)+(l!=-1);if(0==p)(s=a.length-1)&&(a=a.charAt(0)+"."+a.substring(l=1));else if(1==p)if(t>10)s=l-1,a=a.substring(0,1)+"."+a.substring(1,l)+a.substring(l+1),l=1;else if(t>1)s=0;else{for(var h=2;;h++)if("0"!=a.charAt(h)){s=1-h,a=a.charAt(h)+"."+a.substring(h+1);break}l=1}else s=parseInt(a.substring(u+1)),a=a.substring(0,u);return a=toFloatingPoint2(parseFloat(a),e,i),a+=s>=0?n+(s<10?"+0":"+")+s:n+(s>-10?"-0"+-s:s),a=ProcFlag(a,e,o-a.length,r)}function toFormatString(t,e,o){"string"!=typeof t&&(t=t.toString());var i=t.length;if(o>=0&&o<i&&(t=t.substring(0,o),i=o),i<e)for(var n=" ",r=e-i;r;r--)t=n+t;return t}function ProcFlag(t,e,o,i){var n=1&e,r=2&e,s=8&e;if(s&&o--,o-=!i+r>0,(4&e)>0&&!n){if(o>0)for(var a="0",l=o;l;l--)t=a+t;i?r&&(t="+"+t):t="-"+t}else{i?r&&(t="+"+t):t="-"+t;var a=" ";if(o>0){var a=" ";if(n)for(var l=o;l;l--)t+=a;else for(var l=o;l;l--)t=a+t}}return s&&(t=" "+t),t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return di.apply(null,arguments)}function e(t){di=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function n(t){var e;for(e in t)return!1;return!0}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var o,i=[];for(o=0;o<t.length;++o)i.push(e(t[o],o));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var o in e)a(e,o)&&(t[o]=e[o]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,o,i){return ge(t,e,o,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=p()),t._pf}function c(t){if(null==t._isValid){var e=h(t),o=fi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&o);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function d(t){var e=u(NaN);return null!=t?l(h(e),t):h(e).userInvalidated=!0,e}function f(t){return void 0===t}function y(t,e){var o,i,n;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=h(e)),f(e._locale)||(t._locale=e._locale),yi.length>0)for(o in yi)i=yi[o],n=e[i],f(n)||(t[i]=n);return t}function g(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),gi===!1&&(gi=!0,t.updateOffset(this),gi=!1)}function m(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,o=0;return 0!==e&&isFinite(e)&&(o=v(e)),o}function w(t,e,o){var i,n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;i<n;i++)(o&&t[i]!==e[i]||!o&&b(t[i])!==b(e[i]))&&s++;return s+r}function S(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,o){var i=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var n,r=[],s=0;s<arguments.length;s++){if(n="","object"==typeof arguments[s]){n+="\n["+s+"] ";for(var a in arguments[0])n+=a+": "+arguments[0][a]+", ";n=n.slice(0,-2)}else n=arguments[s];r.push(n)}S(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return o.apply(this,arguments)},o)}function T(e,o){null!=t.deprecationHandler&&t.deprecationHandler(e,o),mi[e]||(S(o),mi[e]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t){var e,o;for(o in t)e=t[o],k(e)?this[o]=e:this["_"+o]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function C(t,e){var o,n=l({},t);for(o in e)a(e,o)&&(i(t[o])&&i(e[o])?(n[o]={},l(n[o],t[o]),l(n[o],e[o])):null!=e[o]?n[o]=e[o]:delete n[o]);for(o in t)a(t,o)&&!a(e,o)&&i(t[o])&&(n[o]=l({},n[o]));return n}function E(t){null!=t&&this.set(t)}function D(t,e,o){var i=this._calendar[t]||this._calendar.sameElse;return k(i)?i.call(e,o):i}function _(t){var e=this._longDateFormat[t],o=this._longDateFormat[t.toUpperCase()];return e||!o?e:(this._longDateFormat[t]=o.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function P(){return this._invalidDate}function j(t){return this._ordinal.replace("%d",t)}function R(t,e,o,i){var n=this._relativeTime[o];return k(n)?n(t,e,o,i):n.replace(/%d/i,t)}function A(t,e){var o=this._relativeTime[t>0?"future":"past"];return k(o)?o(e):o.replace(/%s/i,e)}function F(t,e){var o=t.toLowerCase();Ci[o]=Ci[o+"s"]=Ci[e]=t}function I(t){return"string"==typeof t?Ci[t]||Ci[t.toLowerCase()]:void 0}function O(t){var e,o,i={};for(o in t)a(t,o)&&(e=I(o),e&&(i[e]=t[o]));return i}function L(t,e){Ei[t]=e}function H(t){var e=[];for(var o in t)e.push({unit:o,priority:Ei[o]});return e.sort(function(t,e){return t.priority-e.priority}),e}function N(e,o){return function(i){return null!=i?(B(this,e,i),t.updateOffset(this,o),this):W(this,e)}}function W(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function B(t,e,o){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](o)}function G(t){return t=I(t),k(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=O(t);for(var o=H(t),i=0;i<o.length;i++)this[o[i].unit](t[o[i].unit])}else if(t=I(t),k(this[t]))return this[t](e);return this}function Y(t,e,o){var i=""+Math.abs(t),n=e-i.length,r=t>=0;return(r?o?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+i}function U(t,e,o,i){var n=i;"string"==typeof i&&(n=function(){return this[i]()}),t&&(ji[t]=n),e&&(ji[e[0]]=function(){return Y(n.apply(this,arguments),e[1],e[2])}),o&&(ji[o]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,o,i=t.match(Di);for(e=0,o=i.length;e<o;e++)ji[i[e]]?i[e]=ji[i[e]]:i[e]=V(i[e]);return function(e){var n,r="";for(n=0;n<o;n++)r+=i[n]instanceof Function?i[n].call(e,t):i[n];return r}}function $(t,e){return t.isValid()?(e=X(e,t.localeData()),Pi[e]=Pi[e]||q(e),Pi[e](t)):t.localeData().invalidDate()}function X(t,e){function o(t){return e.longDateFormat(t)||t}var i=5;for(_i.lastIndex=0;i>=0&&_i.test(t);)t=t.replace(_i,o),_i.lastIndex=0,i-=1;return t}function K(t,e,o){Xi[t]=k(e)?e:function(t){return t&&o?o:e}}function J(t,e){return a(Xi,t)?Xi[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,o,i,n){return e||o||i||n}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var o,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,o){o[e]=b(t)}),o=0;o<t.length;o++)Ki[t[o]]=i}function et(t,e){tt(t,function(t,o,i,n){i._w=i._w||{},e(t,i._w,i,n)})}function ot(t,e,o){null!=e&&a(Ki,t)&&Ki[t](e,o._a,o,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function nt(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||an).test(e)?"format":"standalone"][t.month()]:this._months}function rt(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[an.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function st(t,e,o){var i,n,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return o?"MMM"===e?(n=bi.call(this._shortMonthsParse,s),n!==-1?n:null):(n=bi.call(this._longMonthsParse,s),n!==-1?n:null):"MMM"===e?(n=bi.call(this._shortMonthsParse,s),n!==-1?n:(n=bi.call(this._longMonthsParse,s),n!==-1?n:null)):(n=bi.call(this._longMonthsParse,s),n!==-1?n:(n=bi.call(this._shortMonthsParse,s),n!==-1?n:null))}function at(t,e,o){var i,n,r;if(this._monthsParseExact)return st.call(this,t,e,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(n=u([2e3,i]),o&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),o||this._monthsParse[i]||(r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),o&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(o&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!o&&this._monthsParse[i].test(t))return i}}function lt(t,e){var o;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return o=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,o),t}function ut(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):W(this,"Month")}function pt(){return it(this.year(),this.month())}function ht(t){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=pn),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ct(t){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=hn),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function dt(){function t(t,e){return e.length-t.length}var e,o,i=[],n=[],r=[];for(e=0;e<12;e++)o=u([2e3,e]),i.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(i.sort(t),n.sort(t),r.sort(t),e=0;e<12;e++)i[e]=Q(i[e]),n[e]=Q(n[e]);for(e=0;e<24;e++)r[e]=Q(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ft(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function gt(){return yt(this.year())}function mt(t,e,o,i,n,r,s){var a=new Date(t,e,o,i,n,r,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function vt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t,e,o){var i=7+e-o,n=(7+vt(t,0,i).getUTCDay()-e)%7;return-n+i-1}function wt(t,e,o,i,n){var r,s,a=(7+o-i)%7,l=bt(t,i,n),u=1+7*(e-1)+a+l;return u<=0?(r=t-1,s=ft(r)+u):u>ft(t)?(r=t+1,s=u-ft(t)):(r=t,s=u),{year:r,dayOfYear:s}}function St(t,e,o){var i,n,r=bt(t.year(),e,o),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?(n=t.year()-1,i=s+xt(n,e,o)):s>xt(t.year(),e,o)?(i=s-xt(t.year(),e,o),n=t.year()+1):(n=t.year(),i=s),{week:i,year:n}}function xt(t,e,o){var i=bt(t,e,o),n=bt(t+1,e,o);return(ft(t)-i+n)/7}function Tt(t){return St(t,this._week.dow,this._week.doy).week}function kt(){return this._week.dow}function Mt(){return this._week.doy}function Ct(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Et(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Dt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function _t(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pt(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function jt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Rt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function At(t,e,o){var i,n,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return o?"dddd"===e?(n=bi.call(this._weekdaysParse,s),n!==-1?n:null):"ddd"===e?(n=bi.call(this._shortWeekdaysParse,s),n!==-1?n:null):(n=bi.call(this._minWeekdaysParse,s),n!==-1?n:null):"dddd"===e?(n=bi.call(this._weekdaysParse,s),n!==-1?n:(n=bi.call(this._shortWeekdaysParse,s),n!==-1?n:(n=bi.call(this._minWeekdaysParse,s),n!==-1?n:null))):"ddd"===e?(n=bi.call(this._shortWeekdaysParse,s),n!==-1?n:(n=bi.call(this._weekdaysParse,s),n!==-1?n:(n=bi.call(this._minWeekdaysParse,s),n!==-1?n:null))):(n=bi.call(this._minWeekdaysParse,s),n!==-1?n:(n=bi.call(this._weekdaysParse,s),n!==-1?n:(n=bi.call(this._shortWeekdaysParse,s),n!==-1?n:null)))}function Ft(t,e,o){var i,n,r;if(this._weekdaysParseExact)return At.call(this,t,e,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(n=u([2e3,1]).day(i),o&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),o&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(o&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(o&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!o&&this._weekdaysParse[i].test(t))return i}}function It(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Dt(t,this.localeData()),this.add(t-e,"d")):e}function Ot(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Lt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=_t(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ht(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=mn),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Nt(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vn),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wt(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bn),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Bt(){function t(t,e){return e.length-t.length}var e,o,i,n,r,s=[],a=[],l=[],p=[];for(e=0;e<7;e++)o=u([2e3,1]).day(e),i=this.weekdaysMin(o,""),n=this.weekdaysShort(o,""),r=this.weekdays(o,""),s.push(i),a.push(n),l.push(r),p.push(i),p.push(n),p.push(r);for(s.sort(t),a.sort(t),l.sort(t),p.sort(t),e=0;e<7;e++)a[e]=Q(a[e]),l[e]=Q(l[e]),p[e]=Q(p[e]);this._weekdaysRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Gt(){return this.hours()%12||12}function zt(){return this.hours()||24}function Yt(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ut(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function qt(t,e,o){return t>11?o?"pm":"PM":o?"am":"AM"}function $t(t){return t?t.toLowerCase().replace("_","-"):t}function Xt(t){for(var e,o,i,n,r=0;r<t.length;){for(n=$t(t[r]).split("-"),e=n.length,o=$t(t[r+1]),o=o?o.split("-"):null;e>0;){if(i=Kt(n.slice(0,e).join("-")))return i;if(o&&o.length>=e&&w(n,o,!0)>=e-1)break;e--}r++}return null}function Kt(t){var e=null;if(!kn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=wn._abbr,require("./locale/"+t),Jt(e)}catch(t){}return kn[t]}function Jt(t,e){var o;return t&&(o=f(e)?te(t):Zt(t,e),o&&(wn=o)),wn._abbr}function Zt(t,e){if(null!==e){var o=Tn;return e.abbr=t,null!=kn[t]?(T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=kn[t]._config):null!=e.parentLocale&&(null!=kn[e.parentLocale]?o=kn[e.parentLocale]._config:T("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),kn[t]=new E(C(o,e)),Jt(t),kn[t]}return delete kn[t],null}function Qt(t,e){if(null!=e){var o,i=Tn;null!=kn[t]&&(i=kn[t]._config),e=C(i,e),o=new E(e),o.parentLocale=kn[t],kn[t]=o,Jt(t)}else null!=kn[t]&&(null!=kn[t].parentLocale?kn[t]=kn[t].parentLocale:null!=kn[t]&&delete kn[t]);return kn[t]}function te(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wn;if(!o(t)){if(e=Kt(t))return e;t=[t]}return Xt(t)}function ee(){return vi(kn)}function oe(t){var e,o=t._a;return o&&h(t).overflow===-2&&(e=o[Zi]<0||o[Zi]>11?Zi:o[Qi]<1||o[Qi]>it(o[Ji],o[Zi])?Qi:o[tn]<0||o[tn]>24||24===o[tn]&&(0!==o[en]||0!==o[on]||0!==o[nn])?tn:o[en]<0||o[en]>59?en:o[on]<0||o[on]>59?on:o[nn]<0||o[nn]>999?nn:-1,h(t)._overflowDayOfYear&&(e<Ji||e>Qi)&&(e=Qi),h(t)._overflowWeeks&&e===-1&&(e=rn),h(t)._overflowWeekday&&e===-1&&(e=sn),h(t).overflow=e),t}function ie(t){var e,o,i,n,r,s,a=t._i,l=Mn.exec(a)||Cn.exec(a);if(l){for(h(t).iso=!0,e=0,o=Dn.length;e<o;e++)if(Dn[e][1].exec(l[1])){n=Dn[e][0],i=Dn[e][2]!==!1;break}if(null==n)return void(t._isValid=!1);if(l[3]){for(e=0,o=_n.length;e<o;e++)if(_n[e][1].exec(l[3])){r=(l[2]||" ")+_n[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!En.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=n+(r||"")+(s||""),ue(t)}else t._isValid=!1}function ne(e){var o=Pn.exec(e._i);return null!==o?void(e._d=new Date(+o[1])):(ie(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function re(t,e,o){return null!=t?t:null!=e?e:o}function se(e){var o=new Date(t.now());return e._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()]}function ae(t){var e,o,i,n,r=[];if(!t._d){for(i=se(t),t._w&&null==t._a[Qi]&&null==t._a[Zi]&&le(t),t._dayOfYear&&(n=re(t._a[Ji],i[Ji]),t._dayOfYear>ft(n)&&(h(t)._overflowDayOfYear=!0),o=vt(n,0,t._dayOfYear),t._a[Zi]=o.getUTCMonth(),t._a[Qi]=o.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[tn]&&0===t._a[en]&&0===t._a[on]&&0===t._a[nn]&&(t._nextDay=!0,t._a[tn]=0),t._d=(t._useUTC?vt:mt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tn]=24)}}function le(t){var e,o,i,n,r,s,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,s=4,o=re(e.GG,t._a[Ji],St(me(),1,4).year),i=re(e.W,1),n=re(e.E,1),(n<1||n>7)&&(l=!0)):(r=t._locale._week.dow,s=t._locale._week.doy,o=re(e.gg,t._a[Ji],St(me(),r,s).year),i=re(e.w,1),null!=e.d?(n=e.d,(n<0||n>6)&&(l=!0)):null!=e.e?(n=e.e+r,(e.e<0||e.e>6)&&(l=!0)):n=r),i<1||i>xt(o,r,s)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=wt(o,i,n,r,s),t._a[Ji]=a.year,t._dayOfYear=a.dayOfYear)}function ue(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],h(e).empty=!0;var o,i,n,r,s,a=""+e._i,l=a.length,u=0;for(n=X(e._f,e._locale).match(Di)||[],o=0;o<n.length;o++)r=n[o],i=(a.match(J(r,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),ji[r]?(i?h(e).empty=!1:h(e).unusedTokens.push(r),ot(r,i,e)):e._strict&&!i&&h(e).unusedTokens.push(r);h(e).charsLeftOver=l-u,a.length>0&&h(e).unusedInput.push(a),e._a[tn]<=12&&h(e).bigHour===!0&&e._a[tn]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[tn]=pe(e._locale,e._a[tn],e._meridiem),ae(e),oe(e)}function pe(t,e,o){var i;return null==o?e:null!=t.meridiemHour?t.meridiemHour(e,o):null!=t.isPM?(i=t.isPM(o),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function he(t){var e,o,i,n,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],ue(e),c(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==i||r<i)&&(i=r,o=e));l(t,o||e)}function ce(t){if(!t._d){var e=O(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function de(t){var e=new g(oe(fe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function fe(t){var e=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===e||void 0===i&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new g(oe(e)):(o(i)?he(t):r(e)?t._d=e:i?ue(t):ye(t),c(t)||(t._d=null),t))}function ye(e){var i=e._i;void 0===i?e._d=new Date(t.now()):r(i)?e._d=new Date(i.valueOf()):"string"==typeof i?ne(e):o(i)?(e._a=s(i.slice(0),function(t){return parseInt(t,10)}),ae(e)):"object"==typeof i?ce(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function ge(t,e,r,s,a){var l={};return"boolean"==typeof r&&(s=r,r=void 0),(i(t)&&n(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=t,l._f=e,l._strict=s,de(l)}function me(t,e,o,i){return ge(t,e,o,i,!1)}function ve(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return me();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function be(){var t=[].slice.call(arguments,0);return ve("isBefore",t)}function we(){var t=[].slice.call(arguments,0);return ve("isAfter",t)}function Se(t){var e=O(t),o=e.year||0,i=e.quarter||0,n=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,p=e.millisecond||0;this._milliseconds=+p+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+n+3*i+12*o,this._data={},this._locale=te(),this._bubble()}function xe(t){return t instanceof Se}function Te(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ke(t,e){U(t,0,0,function(){var t=this.utcOffset(),o="+";return t<0&&(t=-t,o="-"),o+Y(~~(t/60),2)+e+Y(~~t%60,2)})}function Me(t,e){var o=(e||"").match(t)||[],i=o[o.length-1]||[],n=(i+"").match(Fn)||["-",0,0],r=+(60*n[1])+b(n[2]);return"+"===n[0]?r:-r}function Ce(e,o){var i,n;return o._isUTC?(i=o.clone(),n=(m(e)||r(e)?e.valueOf():me(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),t.updateOffset(i,!1),i):me(e).local()}function Ee(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function De(e,o){var i,n=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Me(Vi,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&o&&(i=Ee(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!o||this._changeInProgress?Ye(this,Ne(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Ee(this):null!=e?this:NaN}function _e(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Pe(t){return this.utcOffset(0,t)}function je(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ee(this),"m")),this}function Re(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Me(Ui,this._i);0===t?this.utcOffset(0,!0):this.utcOffset(Me(Ui,this._i))}return this}function Ae(t){return!!this.isValid()&&(t=t?me(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Fe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ie(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),t=fe(t),t._a){var e=t._isUTC?u(t._a):me(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Oe(){return!!this.isValid()&&!this._isUTC}function Le(){return!!this.isValid()&&this._isUTC}function He(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ne(t,e){var o,i,n,r=t,s=null;return xe(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(s=In.exec(t))?(o="-"===s[1]?-1:1,r={y:0,d:b(s[Qi])*o,h:b(s[tn])*o,m:b(s[en])*o,s:b(s[on])*o,ms:b(Te(1e3*s[nn]))*o}):(s=On.exec(t))?(o="-"===s[1]?-1:1,r={y:We(s[2],o),M:We(s[3],o),w:We(s[4],o),d:We(s[5],o),h:We(s[6],o),m:We(s[7],o),s:We(s[8],o)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(n=Ge(me(r.from),me(r.to)),r={},r.ms=n.milliseconds,r.M=n.months),i=new Se(r),xe(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function We(t,e){var o=t&&parseFloat(t.replace(",","."));return(isNaN(o)?0:o)*e}function Be(t,e){var o={milliseconds:0,months:0};return o.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(o.months,"M").isAfter(e)&&--o.months,o.milliseconds=+e-+t.clone().add(o.months,"M"),o}function Ge(t,e){var o;return t.isValid()&&e.isValid()?(e=Ce(e,t),t.isBefore(e)?o=Be(t,e):(o=Be(e,t),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function ze(t,e){return function(o,i){var n,r;return null===i||isNaN(+i)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=o,o=i,i=r),o="string"==typeof o?+o:o,n=Ne(o,i),Ye(this,n,t),this}}function Ye(e,o,i,n){var r=o._milliseconds,s=Te(o._days),a=Te(o._months);e.isValid()&&(n=null==n||n,r&&e._d.setTime(e._d.valueOf()+r*i),s&&B(e,"Date",W(e,"Date")+s*i),a&&lt(e,W(e,"Month")+a*i),n&&t.updateOffset(e,s||a))}function Ue(t,e){var o=t.diff(e,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function Ve(e,o){var i=e||me(),n=Ce(i,this).startOf("day"),r=t.calendarFormat(this,n)||"sameElse",s=o&&(k(o[r])?o[r].call(this,i):o[r]);return this.format(s||this.localeData().calendar(r,this,me(i)))}function qe(){return new g(this)}function $e(t,e){var o=m(t)?t:me(t);return!(!this.isValid()||!o.isValid())&&(e=I(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(e).valueOf())}function Xe(t,e){var o=m(t)?t:me(t);return!(!this.isValid()||!o.isValid())&&(e=I(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<o.valueOf():this.clone().endOf(e).valueOf()<o.valueOf())}function Ke(t,e,o,i){return i=i||"()",("("===i[0]?this.isAfter(t,o):!this.isBefore(t,o))&&(")"===i[1]?this.isBefore(e,o):!this.isAfter(e,o))}function Je(t,e){var o,i=m(t)?t:me(t);return!(!this.isValid()||!i.isValid())&&(e=I(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(o=i.valueOf(),this.clone().startOf(e).valueOf()<=o&&o<=this.clone().endOf(e).valueOf()))}function Ze(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Qe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function to(t,e,o){var i,n,r,s;return this.isValid()?(i=Ce(t,this),i.isValid()?(n=6e4*(i.utcOffset()-this.utcOffset()),e=I(e),"year"===e||"month"===e||"quarter"===e?(s=eo(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(r=this-i,s="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-n)/864e5:"week"===e?(r-n)/6048e5:r),o?s:v(s)):NaN):NaN}function eo(t,e){var o,i,n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return e-r<0?(o=t.clone().add(n-1,"months"),i=(e-r)/(r-o)):(o=t.clone().add(n+1,"months"),i=(e-r)/(o-r)),-(n+i)||0}function oo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function io(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():$(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
}function no(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var o=$(this,e);return this.localeData().postformat(o)}function ro(t,e){return this.isValid()&&(m(t)&&t.isValid()||me(t).isValid())?Ne({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function so(t){return this.from(me(),t)}function ao(t,e){return this.isValid()&&(m(t)&&t.isValid()||me(t).isValid())?Ne({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function lo(t){return this.to(me(),t)}function uo(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function po(){return this._locale}function ho(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function co(t){return t=I(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function fo(){return this._d.valueOf()-6e4*(this._offset||0)}function yo(){return Math.floor(this.valueOf()/1e3)}function go(){return new Date(this.valueOf())}function mo(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function vo(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function bo(){return this.isValid()?this.toISOString():null}function wo(){return c(this)}function So(){return l({},h(this))}function xo(){return h(this).overflow}function To(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ko(t,e){U(0,[t,t.length],0,e)}function Mo(t){return _o.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Co(t){return _o.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Eo(){return xt(this.year(),1,4)}function Do(){var t=this.localeData()._week;return xt(this.year(),t.dow,t.doy)}function _o(t,e,o,i,n){var r;return null==t?St(this,i,n).year:(r=xt(t,i,n),e>r&&(e=r),Po.call(this,t,e,o,i,n))}function Po(t,e,o,i,n){var r=wt(t,e,o,i,n),s=vt(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function jo(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ro(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Ao(t,e){e[nn]=b(1e3*("0."+t))}function Fo(){return this._isUTC?"UTC":""}function Io(){return this._isUTC?"Coordinated Universal Time":""}function Oo(t){return me(1e3*t)}function Lo(){return me.apply(null,arguments).parseZone()}function Ho(t){return t}function No(t,e,o,i){var n=te(),r=u().set(i,e);return n[o](r,t)}function Wo(t,e,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return No(t,e,o,"month");var i,n=[];for(i=0;i<12;i++)n[i]=No(t,i,o,"month");return n}function Bo(t,e,o,i){"boolean"==typeof t?("number"==typeof e&&(o=e,e=void 0),e=e||""):(e=t,o=e,t=!1,"number"==typeof e&&(o=e,e=void 0),e=e||"");var n=te(),r=t?n._week.dow:0;if(null!=o)return No(e,(o+r)%7,i,"day");var s,a=[];for(s=0;s<7;s++)a[s]=No(e,(s+r)%7,i,"day");return a}function Go(t,e){return Wo(t,e,"months")}function zo(t,e){return Wo(t,e,"monthsShort")}function Yo(t,e,o){return Bo(t,e,o,"weekdays")}function Uo(t,e,o){return Bo(t,e,o,"weekdaysShort")}function Vo(t,e,o){return Bo(t,e,o,"weekdaysMin")}function qo(){var t=this._data;return this._milliseconds=$n(this._milliseconds),this._days=$n(this._days),this._months=$n(this._months),t.milliseconds=$n(t.milliseconds),t.seconds=$n(t.seconds),t.minutes=$n(t.minutes),t.hours=$n(t.hours),t.months=$n(t.months),t.years=$n(t.years),this}function $o(t,e,o,i){var n=Ne(e,o);return t._milliseconds+=i*n._milliseconds,t._days+=i*n._days,t._months+=i*n._months,t._bubble()}function Xo(t,e){return $o(this,t,e,1)}function Ko(t,e){return $o(this,t,e,-1)}function Jo(t){return t<0?Math.floor(t):Math.ceil(t)}function Zo(){var t,e,o,i,n,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Jo(ti(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=v(r/1e3),l.seconds=t%60,e=v(t/60),l.minutes=e%60,o=v(e/60),l.hours=o%24,s+=v(o/24),n=v(Qo(s)),a+=n,s-=Jo(ti(n)),i=v(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function Qo(t){return 4800*t/146097}function ti(t){return 146097*t/4800}function ei(t){var e,o,i=this._milliseconds;if(t=I(t),"month"===t||"year"===t)return e=this._days+i/864e5,o=this._months+Qo(e),"month"===t?o:o/12;switch(e=this._days+Math.round(ti(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function oi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function ii(t){return function(){return this.as(t)}}function ni(t){return t=I(t),this[t+"s"]()}function ri(t){return function(){return this._data[t]}}function si(){return v(this.days()/7)}function ai(t,e,o,i,n){return n.relativeTime(e||1,!!o,t,i)}function li(t,e,o){var i=Ne(t).abs(),n=pr(i.as("s")),r=pr(i.as("m")),s=pr(i.as("h")),a=pr(i.as("d")),l=pr(i.as("M")),u=pr(i.as("y")),p=n<hr.s&&["s",n]||r<=1&&["m"]||r<hr.m&&["mm",r]||s<=1&&["h"]||s<hr.h&&["hh",s]||a<=1&&["d"]||a<hr.d&&["dd",a]||l<=1&&["M"]||l<hr.M&&["MM",l]||u<=1&&["y"]||["yy",u];return p[2]=e,p[3]=+t>0,p[4]=o,ai.apply(null,p)}function ui(t){return void 0===t?pr:"function"==typeof t&&(pr=t,!0)}function pi(t,e){return void 0!==hr[t]&&(void 0===e?hr[t]:(hr[t]=e,!0))}function hi(t){var e=this.localeData(),o=li(this,!t,e);return t&&(o=e.pastFuture(+this,o)),e.postformat(o)}function ci(){var t,e,o,i=cr(this._milliseconds)/1e3,n=cr(this._days),r=cr(this._months);t=v(i/60),e=v(t/60),i%=60,t%=60,o=v(r/12),r%=12;var s=o,a=r,l=n,u=e,p=t,h=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||p||h?"T":"")+(u?u+"H":"")+(p?p+"M":"")+(h?h+"S":""):"P0D"}var di,fi;fi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),o=e.length>>>0,i=0;i<o;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var yi=t.momentProperties=[],gi=!1,mi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var vi;vi=Object.keys?Object.keys:function(t){var e,o=[];for(e in t)a(t,e)&&o.push(e);return o};var bi,wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Si={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xi="Invalid date",Ti="%d",ki=/\d{1,2}/,Mi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ci={},Ei={},Di=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pi={},ji={},Ri=/\d/,Ai=/\d\d/,Fi=/\d{3}/,Ii=/\d{4}/,Oi=/[+-]?\d{6}/,Li=/\d\d?/,Hi=/\d\d\d\d?/,Ni=/\d\d\d\d\d\d?/,Wi=/\d{1,3}/,Bi=/\d{1,4}/,Gi=/[+-]?\d{1,6}/,zi=/\d+/,Yi=/[+-]?\d+/,Ui=/Z|[+-]\d\d:?\d\d/gi,Vi=/Z|[+-]\d\d(?::?\d\d)?/gi,qi=/[+-]?\d+(\.\d{1,3})?/,$i=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xi={},Ki={},Ji=0,Zi=1,Qi=2,tn=3,en=4,on=5,nn=6,rn=7,sn=8;bi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),F("month","M"),L("month",8),K("M",Li),K("MM",Li,Ai),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Zi]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,o,i){var n=o._locale.monthsParse(t,i,o._strict);null!=n?e[Zi]=n:h(o).invalidMonth=t});var an=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ln="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),un="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pn=$i,hn=$i;U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),F("year","y"),L("year",1),K("Y",Yi),K("YY",Li,Ai),K("YYYY",Bi,Ii),K("YYYYY",Gi,Oi),K("YYYYYY",Gi,Oi),tt(["YYYYY","YYYYYY"],Ji),tt("YYYY",function(e,o){o[Ji]=2===e.length?t.parseTwoDigitYear(e):b(e)}),tt("YY",function(e,o){o[Ji]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[Ji]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var cn=N("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),L("week",5),L("isoWeek",5),K("w",Li),K("ww",Li,Ai),K("W",Li),K("WW",Li,Ai),et(["w","ww","W","WW"],function(t,e,o,i){e[i.substr(0,1)]=b(t)});var dn={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),K("d",Li),K("e",Li),K("E",Li),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,o,i){var n=o._locale.weekdaysParse(t,i,o._strict);null!=n?e.d=n:h(o).invalidWeekday=t}),et(["d","e","E"],function(t,e,o,i){e[i]=b(t)});var fn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mn=$i,vn=$i,bn=$i;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Gt),U("k",["kk",2],0,zt),U("hmm",0,0,function(){return""+Gt.apply(this)+Y(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Gt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),F("hour","h"),L("hour",13),K("a",Ut),K("A",Ut),K("H",Li),K("h",Li),K("HH",Li,Ai),K("hh",Li,Ai),K("hmm",Hi),K("hmmss",Ni),K("Hmm",Hi),K("Hmmss",Ni),tt(["H","HH"],tn),tt(["a","A"],function(t,e,o){o._isPm=o._locale.isPM(t),o._meridiem=t}),tt(["h","hh"],function(t,e,o){e[tn]=b(t),h(o).bigHour=!0}),tt("hmm",function(t,e,o){var i=t.length-2;e[tn]=b(t.substr(0,i)),e[en]=b(t.substr(i)),h(o).bigHour=!0}),tt("hmmss",function(t,e,o){var i=t.length-4,n=t.length-2;e[tn]=b(t.substr(0,i)),e[en]=b(t.substr(i,2)),e[on]=b(t.substr(n)),h(o).bigHour=!0}),tt("Hmm",function(t,e){var o=t.length-2;e[tn]=b(t.substr(0,o)),e[en]=b(t.substr(o))}),tt("Hmmss",function(t,e){var o=t.length-4,i=t.length-2;e[tn]=b(t.substr(0,o)),e[en]=b(t.substr(o,2)),e[on]=b(t.substr(i))});var wn,Sn=/[ap]\.?m?\.?/i,xn=N("Hours",!0),Tn={calendar:wi,longDateFormat:Si,invalidDate:xi,ordinal:Ti,ordinalParse:ki,relativeTime:Mi,months:ln,monthsShort:un,week:dn,weekdays:fn,weekdaysMin:gn,weekdaysShort:yn,meridiemParse:Sn},kn={},Mn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Cn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,En=/Z|[+-]\d\d(?::?\d\d)?/,Dn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_n=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var jn=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:d()}),Rn=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),An=function(){return Date.now?Date.now():+new Date};ke("Z",":"),ke("ZZ",""),K("Z",Vi),K("ZZ",Vi),tt(["Z","ZZ"],function(t,e,o){o._useUTC=!0,o._tzm=Me(Vi,t)});var Fn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var In=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,On=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ne.fn=Se.prototype;var Ln=ze(1,"add"),Hn=ze(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Nn=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ko("gggg","weekYear"),ko("ggggg","weekYear"),ko("GGGG","isoWeekYear"),ko("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),K("G",Yi),K("g",Yi),K("GG",Li,Ai),K("gg",Li,Ai),K("GGGG",Bi,Ii),K("gggg",Bi,Ii),K("GGGGG",Gi,Oi),K("ggggg",Gi,Oi),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,o,i){e[i.substr(0,2)]=b(t)}),et(["gg","GG"],function(e,o,i,n){o[n]=t.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),F("quarter","Q"),L("quarter",7),K("Q",Ri),tt("Q",function(t,e){e[Zi]=3*(b(t)-1)}),U("D",["DD",2],"Do","date"),F("date","D"),L("date",9),K("D",Li),K("DD",Li,Ai),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Qi),tt("Do",function(t,e){e[Qi]=b(t.match(Li)[0],10)});var Wn=N("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),L("dayOfYear",4),K("DDD",Wi),K("DDDD",Fi),tt(["DDD","DDDD"],function(t,e,o){o._dayOfYear=b(t)}),U("m",["mm",2],0,"minute"),F("minute","m"),L("minute",14),K("m",Li),K("mm",Li,Ai),tt(["m","mm"],en);var Bn=N("Minutes",!1);U("s",["ss",2],0,"second"),F("second","s"),L("second",15),K("s",Li),K("ss",Li,Ai),tt(["s","ss"],on);var Gn=N("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),L("millisecond",16),K("S",Wi,Ri),K("SS",Wi,Ai),K("SSS",Wi,Fi);var zn;for(zn="SSSS";zn.length<=9;zn+="S")K(zn,zi);for(zn="S";zn.length<=9;zn+="S")tt(zn,Ao);var Yn=N("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Un=g.prototype;Un.add=Ln,Un.calendar=Ve,Un.clone=qe,Un.diff=to,Un.endOf=co,Un.format=no,Un.from=ro,Un.fromNow=so,Un.to=ao,Un.toNow=lo,Un.get=G,Un.invalidAt=xo,Un.isAfter=$e,Un.isBefore=Xe,Un.isBetween=Ke,Un.isSame=Je,Un.isSameOrAfter=Ze,Un.isSameOrBefore=Qe,Un.isValid=wo,Un.lang=Nn,Un.locale=uo,Un.localeData=po,Un.max=Rn,Un.min=jn,Un.parsingFlags=So,Un.set=z,Un.startOf=ho,Un.subtract=Hn,Un.toArray=mo,Un.toObject=vo,Un.toDate=go,Un.toISOString=io,Un.toJSON=bo,Un.toString=oo,Un.unix=yo,Un.valueOf=fo,Un.creationData=To,Un.year=cn,Un.isLeapYear=gt,Un.weekYear=Mo,Un.isoWeekYear=Co,Un.quarter=Un.quarters=jo,Un.month=ut,Un.daysInMonth=pt,Un.week=Un.weeks=Ct,Un.isoWeek=Un.isoWeeks=Et,Un.weeksInYear=Do,Un.isoWeeksInYear=Eo,Un.date=Wn,Un.day=Un.days=It,Un.weekday=Ot,Un.isoWeekday=Lt,Un.dayOfYear=Ro,Un.hour=Un.hours=xn,Un.minute=Un.minutes=Bn,Un.second=Un.seconds=Gn,Un.millisecond=Un.milliseconds=Yn,Un.utcOffset=De,Un.utc=Pe,Un.local=je,Un.parseZone=Re,Un.hasAlignedHourOffset=Ae,Un.isDST=Fe,Un.isLocal=Oe,Un.isUtcOffset=Le,Un.isUtc=He,Un.isUTC=He,Un.zoneAbbr=Fo,Un.zoneName=Io,Un.dates=x("dates accessor is deprecated. Use date instead.",Wn),Un.months=x("months accessor is deprecated. Use month instead",ut),Un.years=x("years accessor is deprecated. Use year instead",cn),Un.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_e),Un.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ie);var Vn=Un,qn=E.prototype;qn.calendar=D,qn.longDateFormat=_,qn.invalidDate=P,qn.ordinal=j,qn.preparse=Ho,qn.postformat=Ho,qn.relativeTime=R,qn.pastFuture=A,qn.set=M,qn.months=nt,qn.monthsShort=rt,qn.monthsParse=at,qn.monthsRegex=ct,qn.monthsShortRegex=ht,qn.week=Tt,qn.firstDayOfYear=Mt,qn.firstDayOfWeek=kt,qn.weekdays=Pt,qn.weekdaysMin=Rt,qn.weekdaysShort=jt,qn.weekdaysParse=Ft,qn.weekdaysRegex=Ht,qn.weekdaysShortRegex=Nt,qn.weekdaysMinRegex=Wt,qn.isPM=Vt,qn.meridiem=qt,Jt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,o=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+o}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",te);var $n=Math.abs,Xn=ii("ms"),Kn=ii("s"),Jn=ii("m"),Zn=ii("h"),Qn=ii("d"),tr=ii("w"),er=ii("M"),or=ii("y"),ir=ri("milliseconds"),nr=ri("seconds"),rr=ri("minutes"),sr=ri("hours"),ar=ri("days"),lr=ri("months"),ur=ri("years"),pr=Math.round,hr={s:45,m:45,h:22,d:26,M:11},cr=Math.abs,dr=Se.prototype;dr.abs=qo,dr.add=Xo,dr.subtract=Ko,dr.as=ei,dr.asMilliseconds=Xn,dr.asSeconds=Kn,dr.asMinutes=Jn,dr.asHours=Zn,dr.asDays=Qn,dr.asWeeks=tr,dr.asMonths=er,dr.asYears=or,dr.valueOf=oi,dr._bubble=Zo,dr.get=ni,dr.milliseconds=ir,dr.seconds=nr,dr.minutes=rr,dr.hours=sr,dr.days=ar,dr.weeks=si,dr.months=lr,dr.years=ur,dr.humanize=hi,dr.toISOString=ci,dr.toString=ci,dr.toJSON=ci,dr.locale=uo,dr.localeData=po,dr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),dr.lang=Nn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),K("x",Yi),K("X",qi),tt("X",function(t,e,o){o._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,o){o._d=new Date(b(t))}),t.version="2.15.1",e(me),t.fn=Vn,t.min=be,t.max=we,t.now=An,t.utc=u,t.unix=Oo,t.months=Go,t.isDate=r,t.locale=Jt,t.invalid=d,t.duration=Ne,t.isMoment=m,t.weekdays=Yo,t.parseZone=Lo,t.localeData=te,t.isDuration=xe,t.monthsShort=zo,t.weekdaysMin=Vo,t.defineLocale=Zt,t.updateLocale=Qt,t.locales=ee,t.weekdaysShort=Uo,t.normalizeUnits=I,t.relativeTimeRounding=ui,t.relativeTimeThreshold=pi,t.calendarFormat=Ue,t.prototype=Vn;var fr=t;return fr}),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function o(t){return G(t,zt)}function i(e){var o,i={views:e.views||{}};return t.each(e,function(e,n){"views"!=e&&(t.isPlainObject(n)&&!/(time|duration|interval)$/i.test(e)&&t.inArray(e,zt)==-1?(o=null,t.each(n,function(t,n){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=n):(o||(o={}),o[t]=n)}),o&&(i[e]=o)):i[e]=n)}),i}function n(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function s(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,o,i){var n=Math.floor(o/e.length),r=Math.floor(o-n*(e.length-1)),s=[],a=[],l=[],p=0;u(e),e.each(function(o,i){var u=o===e.length-1?r:n,h=t(i).outerHeight(!0);h<u?(s.push(i),a.push(h),l.push(t(i).height())):p+=h}),i&&(o-=p,n=Math.floor(o/s.length),r=Math.floor(o-n*(s.length-1))),t(s).each(function(e,o){var i=e===s.length-1?r:n,u=a[e],p=l[e],h=i-(u-p);u<i&&t(o).height(h)})}function u(t){t.height("")}function p(e){var o=0;return e.find("> span").each(function(e,i){var n=t(i).outerWidth();n>o&&(o=n)}),o++,e.width(o),o}function h(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(c(t),!1)}function c(t){t.height("").removeClass("fc-scroller")}function d(e){var o=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==o&&i.length?i:t(e[0].ownerDocument||document)}function f(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function y(t){var e=t.offset(),o=m(t),i=e.left+w(t,"border-left-width")+o.left,n=e.top+w(t,"border-top-width")+o.top;return{left:i,right:i+t[0].clientWidth,top:n,bottom:n+t[0].clientHeight}}function g(t){var e=t.offset(),o=e.left+w(t,"border-left-width")+w(t,"padding-left"),i=e.top+w(t,"border-top-width")+w(t,"padding-top");return{left:o,right:o+t.width(),top:i,bottom:i+t.height()}}function m(t){var e=t.innerWidth()-t[0].clientWidth,o={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return v()&&"rtl"==t.css("direction")?o.left=e:o.right=e,o}function v(){return null===Yt&&(Yt=b()),Yt}function b(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),o=e.children(),i=o.offset().left>e.offset().left;return e.remove(),i}function w(t,e){return parseFloat(t.css(e))||0}function S(t){return 1==t.which&&!t.ctrlKey}function x(t,e){var o={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return o.left<o.right&&o.top<o.bottom&&o}function T(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function k(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function M(t,e){return{left:t.left-e.left,top:t.top-e.top}}function C(e){var o,i,n=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:t.isArray(e)&&(r=e),o=0;o<r.length;o++)i=r[o],"string"==typeof i?n.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&n.push({func:i});return n}function E(t,e,o){var i,n;for(i=0;i<o.length;i++)if(n=D(t,e,o[i]))return n;return 0}function D(t,e,o){return o.func?o.func(t,e):_(t[o.field],e[o.field])*(o.order||1)}function _(e,o){return e||o?null==o?-1:null==e?1:"string"===t.type(e)||"string"===t.type(o)?String(e).localeCompare(String(o)):e-o:0}function P(t,e){var o,i,n,r,s=t.start,a=t.end,l=e.start,u=e.end;if(a>l&&s<u)return s>=l?(o=s.clone(),n=!0):(o=l.clone(),n=!1),a<=u?(i=a.clone(),r=!0):(i=u.clone(),r=!1),{start:o,end:i,isStart:n,isEnd:r}}function j(t,o){return e.duration({days:t.clone().stripTime().diff(o.clone().stripTime(),"days"),ms:t.time()-o.time()})}function R(t,o){return e.duration({days:t.clone().stripTime().diff(o.clone().stripTime(),"days")})}function A(t,o,i){return e.duration(Math.round(t.diff(o,i,!0)),i)}function F(t,e){var o,i,n;for(o=0;o<Vt.length&&(i=Vt[o],n=I(i,t,e),!(n>=1&&et(n)));o++);return i}function I(t,o,i){return null!=i?i.diff(o,t,!0):e.isDuration(o)?o.as(t):o.end.diff(o.start,t,!0)}function O(t,e,o){var i;return N(o)?(e-t)/o:(i=o.asMonths(),Math.abs(i)>=1&&et(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/o.asDays())}function L(t,e){var o,i;return N(t)||N(e)?t/e:(o=t.asMonths(),i=e.asMonths(),Math.abs(o)>=1&&et(o)&&Math.abs(i)>=1&&et(i)?o/i:t.asDays()/e.asDays())}function H(t,o){var i;return N(t)?e.duration(t*o):(i=t.asMonths(),Math.abs(i)>=1&&et(i)?e.duration({months:i*o}):e.duration({days:t.asDays()*o}))}function N(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function W(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function B(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function G(t,e){var o,i,n,r,s,a,l={};if(e)for(o=0;o<e.length;o++){for(i=e[o],n=[],r=t.length-1;r>=0;r--)if(s=t[r][i],"object"==typeof s)n.unshift(s);else if(void 0!==s){l[i]=s;break}n.length&&(l[i]=G(n))}for(o=t.length-1;o>=0;o--){a=t[o];for(i in a)i in l||(l[i]=a[i])}return l}function z(t){var e=function(){};return e.prototype=t,new e}function Y(t,e){for(var o in t)V(t,o)&&(e[o]=t[o])}function U(t,e){var o,i,n=["constructor","toString","valueOf"];for(o=0;o<n.length;o++)i=n[o],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function V(t,e){return Kt.call(t,e)}function q(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function $(e,o,i){if(t.isFunction(e)&&(e=[e]),e){var n,r;for(n=0;n<e.length;n++)r=e[n].apply(o,i)||r;return r}}function X(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function K(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function J(t){return t.replace(/&.*?;/g,"")}function Z(e){var o=[];return t.each(e,function(t,e){null!=e&&o.push(t+":"+e)}),o.join(";")}function Q(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1===0}function ot(t,e){var o=t[e];return function(){return o.apply(t,arguments)}}function it(t,e){var o,i,n,r,s=function(){var a=+new Date-r;a<e&&a>0?o=setTimeout(s,e-a):(o=null,t.apply(n,i),o||(n=i=null))};return function(){n=this,i=arguments,r=+new Date,o||(o=setTimeout(s,e))}}function nt(o,i,n){var r,s,a,l,u=o[0],p=1==o.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,o),st(u,l)):W(u)||void 0===u?l=e.apply(null,o):(r=!1,s=!1,p?Jt.test(u)?(u+="-01",o=[u],r=!0,s=!0):(a=Zt.exec(u))&&(r=!a[5],s=!0):t.isArray(u)&&(s=!0),l=i||r?e.utc.apply(e,o):e.apply(null,o),r?(l._ambigTime=!0,l._ambigZone=!0):n&&(s?l._ambigZone=!0:p&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function rt(t,o){var i,n,r=!1,s=!1,a=t.length,l=[];for(i=0;i<a;i++)n=t[i],e.isMoment(n)||(n=Bt.moment.parseZone(n)),r=r||n._ambigTime,s=s||n._ambigZone,l.push(n);for(i=0;i<a;i++)n=l[i],o||!r||n._ambigTime?s&&!n._ambigZone&&(l[i]=n.clone().stripZone()):l[i]=n.clone().stripTime();return l}function st(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function lt(t,e){return te.format.call(t,e)}function ut(t,e){return pt(t,yt(e))}function pt(t,e){var o,i="";for(o=0;o<e.length;o++)i+=ht(t,e[o]);return i}function ht(t,e){var o,i;return"string"==typeof e?e:(o=e.token)?ee[o]?ee[o](t):lt(t,o):e.maybe&&(i=pt(t,e.maybe),i.match(/[1-9]/))?i:""}function ct(t,e,o,i,n){var r;return t=Bt.moment.parseZone(t),e=Bt.moment.parseZone(e),r=(t.localeData||t.lang).call(t),o=r.longDateFormat(o)||o,i=i||" - ",dt(t,e,yt(o),i,n)}function dt(t,e,o,i,n){var r,s,a,l,u=t.clone().stripZone(),p=e.clone().stripZone(),h="",c="",d="",f="",y="";for(s=0;s<o.length&&(r=ft(t,e,u,p,o[s]),r!==!1);s++)h+=r;for(a=o.length-1;a>s&&(r=ft(t,e,u,p,o[a]),r!==!1);a--)c=r+c;for(l=s;l<=a;l++)d+=ht(t,o[l]),f+=ht(e,o[l]);return(d||f)&&(y=n?f+i+d:d+i+f),h+y+c}function ft(t,e,o,i,n){var r,s;return"string"==typeof n?n:!!((r=n.token)&&(s=oe[r.charAt(0)],s&&o.isSame(i,s)))&&lt(t,r)}function yt(t){return t in ie?ie[t]:ie[t]=gt(t)}function gt(t){for(var e,o=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?o.push(e[1]):e[2]?o.push({maybe:gt(e[2])}):e[3]?o.push({token:e[3]}):e[5]&&o.push(e[5]);return o}function mt(){}function vt(t,e){var o;return V(e,"constructor")&&(o=e.constructor),"function"!=typeof o&&(o=e.constructor=function(){t.apply(this,arguments)}),o.prototype=z(t.prototype),Y(e,o.prototype),U(e,o.prototype),Y(t,o),o}function bt(t,e){Y(e.prototype||e,t.prototype)}function wt(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&St(t,e)&&St(e,t))}function St(t,e){for(var o in t)if(!/^(component|left|right|top|bottom)$/.test(o)&&t[o]!==e[o])return!1;return!0}function xt(t){var e=kt(t);return"background"===e||"inverse-background"===e}function Tt(t){return"inverse-background"===kt(t)}function kt(t){return X((t.source||{}).rendering,t.rendering)}function Mt(t){var e,o,i={};for(e=0;e<t.length;e++)o=t[e],(i[o._id]||(i[o._id]=[])).push(o);return i}function Ct(t,e){return t.start-e.start}function Et(o){var i,n,r,s,a=Bt.dataAttrPrefix;return a&&(a+="-"),i=o.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},n=i.start,null==n&&(n=i.time),r=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==n&&(n=o.data(a+"start")),null==n&&(n=o.data(a+"time")),null==r&&(r=o.data(a+"duration")),null==s&&(s=o.data(a+"stick")),n=null!=n?e.duration(n):null,r=null!=r?e.duration(r):null,s=Boolean(s),{eventProps:i,startTime:n,duration:r,stick:s}}function Dt(t,e){var o,i;for(o=0;o<e.length;o++)if(i=e[o],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function _t(t,e){return t.leftCol-e.leftCol}function Pt(t){var e,o,i,n=[];for(e=0;e<t.length;e++){for(o=t[e],i=0;i<n.length&&At(o,n[i]).length;i++);o.level=i,(n[i]||(n[i]=[])).push(o)}return n}function jt(t){var e,o,i,n,r;for(e=0;e<t.length;e++)for(o=t[e],i=0;i<o.length;i++)for(n=o[i],n.forwardSegs=[],r=e+1;r<t.length;r++)At(n,t[r],n.forwardSegs)}function Rt(t){var e,o,i=t.forwardSegs,n=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)o=i[e],Rt(o),n=Math.max(n,1+o.forwardPressure);t.forwardPressure=n}}function At(t,e,o){o=o||[];for(var i=0;i<e.length;i++)Ft(t,e[i])&&o.push(e[i]);return o}function Ft(t,e){return t.bottom>e.top&&t.top<e.bottom}function It(o,i){function n(){V?a()&&(p(),l()):r()}function r(){q=W.theme?"ui":"fc",o.addClass("fc"),W.isRTL?o.addClass("fc-rtl"):o.addClass("fc-ltr"),W.theme?o.addClass("ui-widget"):o.addClass("fc-unthemed"),V=t("<div class='fc-view-container'/>").prependTo(o),Y=N.header=new Ht(N,W),U=Y.render(),U&&o.prepend(U),l(W.defaultView),W.handleWindowResize&&(K=it(c,W.windowResizeDelay),t(window).resize(K))}function s(){$&&$.removeElement(),Y.removeElement(),V.remove(),o.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),K&&t(window).unbind("resize",K)}function a(){return o.is(":visible")}function l(e){ot++,$&&e&&$.type!==e&&(Y.deactivateButton($.type),A(),$.removeElement(),$=N.view=null),!$&&e&&($=N.view=et[e]||(et[e]=N.instantiateView(e)),$.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(V)),Y.activateButton(e)),$&&(J=$.massageCurrentDate(J),$.displaying&&J.isWithin($.intervalStart,$.intervalEnd)||a()&&($.display(J),F(),w(),S(),g())),F(),ot--}function u(t){if(a())return t&&h(),ot++,$.updateSize(!0),ot--,!0}function p(){a()&&h()}function h(){X="number"==typeof W.contentHeight?W.contentHeight:"number"==typeof W.height?W.height-(U?U.outerHeight(!0):0):Math.round(V.width()/Math.max(W.aspectRatio,.5))}function c(t){!ot&&t.target===window&&$.start&&u(!0)&&$.trigger("windowResize",tt)}function d(){y(),m()}function f(){a()&&(A(),$.displayEvents(nt),F())}function y(){A(),$.clearEvents(),F()}function g(){!W.lazyFetching||Z($.start,$.end)?m():f();
}function m(){Q($.start,$.end)}function v(t){nt=t,f()}function b(){f()}function w(){Y.updateTitle($.title)}function S(){var t=N.getNow();t.isWithin($.intervalStart,$.intervalEnd)?Y.disableButton("today"):Y.enableButton("today")}function x(){$.select(N.buildSelectSpan.apply(N,arguments))}function T(){$&&$.unselect()}function k(){J=$.computePrevDate(J),l()}function M(){J=$.computeNextDate(J),l()}function C(){J.add(-1,"years"),l()}function E(){J.add(1,"years"),l()}function D(){J=N.getNow(),l()}function _(t){J=N.moment(t).stripZone(),l()}function P(t){J.add(e.duration(t)),l()}function j(t,e){var o;e=e||"day",o=N.getViewSpec(e)||N.getUnitViewSpec(e),J=t.clone(),l(o?o.type:null)}function R(){return N.applyTimezone(J)}function A(){V.css({width:"100%",height:V.height(),overflow:"hidden"})}function F(){V.css({width:"",height:"",overflow:""})}function I(){return N}function O(){return $}function L(t,e){return void 0===e?W[t]:void("height"!=t&&"contentHeight"!=t&&"aspectRatio"!=t||(W[t]=e,u(!0)))}function H(t,e){var o=Array.prototype.slice.call(arguments,2);if(e=e||tt,this.triggerWith(t,e,o),W[t])return W[t].apply(e,o)}var N=this;N.initOptions(i||{});var W=this.options;N.render=n,N.destroy=s,N.refetchEvents=d,N.reportEvents=v,N.reportEventChange=b,N.rerenderEvents=f,N.changeView=l,N.select=x,N.unselect=T,N.prev=k,N.next=M,N.prevYear=C,N.nextYear=E,N.today=D,N.gotoDate=_,N.incrementDate=P,N.zoomTo=j,N.getDate=R,N.getCalendar=I,N.getView=O,N.option=L,N.trigger=H;var B=z(Lt(W.lang));if(W.monthNames&&(B._months=W.monthNames),W.monthNamesShort&&(B._monthsShort=W.monthNamesShort),W.dayNames&&(B._weekdays=W.dayNames),W.dayNamesShort&&(B._weekdaysShort=W.dayNamesShort),null!=W.firstDay){var G=z(B._week);G.dow=W.firstDay,B._week=G}B._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(W.weekNumberCalculation),N.defaultAllDayEventDuration=e.duration(W.defaultAllDayEventDuration),N.defaultTimedEventDuration=e.duration(W.defaultTimedEventDuration),N.moment=function(){var t;return"local"===W.timezone?(t=Bt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===W.timezone?Bt.moment.utc.apply(null,arguments):Bt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=B:t._lang=B,t},N.getIsAmbigTimezone=function(){return"local"!==W.timezone&&"UTC"!==W.timezone},N.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,o=N.moment(t.toArray()),i=t.time()-o.time();return i&&(e=o.clone().add(i),t.time()-e.time()===0&&(o=e)),o},N.getNow=function(){var t=W.now;return"function"==typeof t&&(t=t()),N.moment(t).stripZone()},N.getEventEnd=function(t){return t.end?t.end.clone():N.getDefaultEventEnd(t.allDay,t.start)},N.getDefaultEventEnd=function(t,e){var o=e.clone();return t?o.stripTime().add(N.defaultAllDayEventDuration):o.add(N.defaultTimedEventDuration),N.getIsAmbigTimezone()&&o.stripZone(),o},N.humanizeDuration=function(t){return(t.locale||t.lang).call(t,W.lang).humanize()},Nt.call(N,W);var Y,U,V,q,$,X,K,J,Z=N.isFetchNeeded,Q=N.fetchEvents,tt=o[0],et={},ot=0,nt=[];J=null!=W.defaultDate?N.moment(W.defaultDate).stripZone():N.getNow(),N.getSuggestedViewHeight=function(){return void 0===X&&p(),X},N.isHeightAuto=function(){return"auto"===W.contentHeight||"auto"===W.height},N.freezeContentHeight=A,N.unfreezeContentHeight=F,N.initialize()}function Ot(e){t.each(be,function(t,o){null==e[t]&&(e[t]=o(e))})}function Lt(t){var o=e.localeData||e.langData;return o.call(e,t)||o.call(e,"en")}function Ht(e,o){function i(){var e=o.header;if(d=o.theme?"ui":"fc",e)return f=t("<div class='fc-toolbar'/>").append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>')}function n(){f.remove(),f=t()}function r(i){var n=t('<div class="fc-'+i+'"/>'),r=o.header[i];return r&&t.each(r.split(" "),function(){var i,r=t(),s=!0;t.each(this.split(","),function(i,n){var a,l,u,p,h,c,f,g,m,v;"title"==n?(r=r.add(t("<h2>&nbsp;</h2>")),s=!1):((a=(e.options.customButtons||{})[n])?(u=function(t){a.click&&a.click.call(v[0],t)},p="",h=a.text):(l=e.getViewSpec(n))?(u=function(){e.changeView(n)},y.push(n),p=l.buttonTextOverride,h=l.buttonTextDefault):e[n]&&(u=function(){e[n]()},p=(e.overrides.buttonText||{})[n],h=o.buttonText[n]),u&&(c=a?a.themeIcon:o.themeButtonIcons[n],f=a?a.icon:o.buttonIcons[n],g=p?K(p):c&&o.theme?"<span class='ui-icon ui-icon-"+c+"'></span>":f&&!o.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":K(h),m=["fc-"+n+"-button",d+"-button",d+"-state-default"],v=t('<button type="button" class="'+m.join(" ")+'">'+g+"</button>").click(function(t){v.hasClass(d+"-state-disabled")||(u(t),(v.hasClass(d+"-state-active")||v.hasClass(d+"-state-disabled"))&&v.removeClass(d+"-state-hover"))}).mousedown(function(){v.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-down")}).mouseup(function(){v.removeClass(d+"-state-down")}).hover(function(){v.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-hover")},function(){v.removeClass(d+"-state-hover").removeClass(d+"-state-down")}),r=r.add(v)))}),s&&r.first().addClass(d+"-corner-left").end().last().addClass(d+"-corner-right").end(),r.length>1?(i=t("<div/>"),s&&i.addClass("fc-button-group"),i.append(r),n.append(i)):n.append(r)}),n}function s(t){f.find("h2").text(t)}function a(t){f.find(".fc-"+t+"-button").addClass(d+"-state-active")}function l(t){f.find(".fc-"+t+"-button").removeClass(d+"-state-active")}function u(t){f.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(d+"-state-disabled")}function p(t){f.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(d+"-state-disabled")}function h(){return y}var c=this;c.render=i,c.removeElement=n,c.updateTitle=s,c.activateButton=a,c.deactivateButton=l,c.disableButton=u,c.enableButton=p,c.getViewsWithButtons=h;var d,f=t(),y=[]}function Nt(o){function i(t,e){return!L||t<L||e>H}function n(t,e){L=t,H=e,U=[];var o=++z,i=G.length;Y=i;for(var n=0;n<i;n++)r(G[n],o)}function r(e,o){s(e,function(i){var n,r,s,a=t.isArray(e.events);if(o==z){if(i)for(n=0;n<i.length;n++)r=i[n],s=a?r:v(r,e),s&&U.push.apply(U,x(s));Y--,Y||N(U)}})}function s(e,i){var n,r,a=Bt.sourceFetchers;for(n=0;n<a.length;n++){if(r=a[n].call(O,e,L.clone(),H.clone(),o.timezone,i),r===!0)return;if("object"==typeof r)return void s(r,i)}var l=e.events;if(l)t.isFunction(l)?(O.pushLoading(),l.call(O,L.clone(),H.clone(),o.timezone,function(t){i(t),O.popLoading()})):t.isArray(l)?i(l):i();else{var u=e.url;if(u){var p,h=e.success,c=e.error,d=e.complete;p=t.isFunction(e.data)?e.data():e.data;var f=t.extend({},p||{}),y=X(e.startParam,o.startParam),g=X(e.endParam,o.endParam),m=X(e.timezoneParam,o.timezoneParam);y&&(f[y]=L.format()),g&&(f[g]=H.format()),o.timezone&&"local"!=o.timezone&&(f[m]=o.timezone),O.pushLoading(),t.ajax(t.extend({},we,e,{data:f,success:function(e){e=e||[];var o=$(h,this,arguments);t.isArray(o)&&(e=o),i(e)},error:function(){$(c,this,arguments),i()},complete:function(){$(d,this,arguments),O.popLoading()}}))}else i()}}function a(t){var e=l(t);e&&(G.push(e),Y++,r(e,z))}function l(e){var o,i,n=Bt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?o={events:e}:"string"==typeof e?o={url:e}:"object"==typeof e&&(o=t.extend({},e)),o){for(o.className?"string"==typeof o.className&&(o.className=o.className.split(/\s+/)):o.className=[],t.isArray(o.events)&&(o.origArray=o.events,o.events=t.map(o.events,function(t){return v(t,o)})),i=0;i<n.length;i++)n[i].call(O,o);return o}}function u(e){G=t.grep(G,function(t){return!p(t,e)}),U=t.grep(U,function(t){return!p(t.source,e)}),N(U)}function p(t,e){return t&&e&&h(t)==h(e)}function h(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function c(t){t.start=O.moment(t.start),t.end?t.end=O.moment(t.end):t.end=null,T(t,d(t)),N(U)}function d(e){var o={};return t.each(e,function(t,e){f(t)&&void 0!==e&&q(e)&&(o[t]=e)}),o}function f(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function y(t,e){var o,i,n,r=v(t);if(r){for(o=x(r),i=0;i<o.length;i++)n=o[i],n.source||(e&&(W.events.push(n),n.source=W),U.push(n));return N(U),o}return[]}function g(e){var o,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(o=e+"",e=function(t){return t._id==o}),U=t.grep(U,e,!0),i=0;i<G.length;i++)t.isArray(G[i].events)&&(G[i].events=t.grep(G[i].events,e,!0));N(U)}function m(e){return t.isFunction(e)?t.grep(U,e):null!=e?(e+="",t.grep(U,function(t){return t._id==e})):U}function v(i,n){var r,s,a,l={};if(o.eventDataTransform&&(i=o.eventDataTransform(i)),n&&n.eventDataTransform&&(i=n.eventDataTransform(i)),t.extend(l,i),n&&(l.source=n),l._id=i._id||(void 0===i.id?"_fc"+Se++:i.id+""),i.className?"string"==typeof i.className?l.className=i.className.split(/\s+/):l.className=i.className:l.className=[],r=i.start||i.date,s=i.end,B(r)&&(r=e.duration(r)),B(s)&&(s=e.duration(s)),i.dow||e.isDuration(r)||e.isDuration(s))l.start=r?e.duration(r):null,l.end=s?e.duration(s):null,l._recurring=!0;else{if(r&&(r=O.moment(r),!r.isValid()))return!1;s&&(s=O.moment(s),s.isValid()||(s=null)),a=i.allDay,void 0===a&&(a=X(n?n.allDayDefault:void 0,o.allDayDefault)),b(r,s,a,l)}return l}function b(t,e,o,i){i.start=t,i.end=e,i.allDay=o,w(i),Wt(i)}function w(t){S(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(o.forceEventDuration?t.end=O.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function S(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=O.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=O.applyTimezone(t.end.time(0))))}function x(e,o,i){var n,r,s,a,l,u,p,h,c,d=[];if(o=o||L,i=i||H,e)if(e._recurring){if(r=e.dow)for(n={},s=0;s<r.length;s++)n[r[s]]=!0;for(a=o.clone().stripTime();a.isBefore(i);)n&&!n[a.day()]||(l=e.start,u=e.end,p=a.clone(),h=null,l&&(p=p.time(l)),u&&(h=a.clone().time(u)),c=t.extend({},e),b(p,h,!l&&!u,c),d.push(c)),a.add(1,"days")}else d.push(e);return d}function T(e,o,i){function n(t,e){return i?A(t,e,i):o.allDay?R(t,e):j(t,e)}var r,s,a,l,u,p,h={};return o=o||{},o.start||(o.start=e.start.clone()),void 0===o.end&&(o.end=e.end?e.end.clone():null),null==o.allDay&&(o.allDay=e.allDay),w(o),r={start:e._start.clone(),end:e._end?e._end.clone():O.getDefaultEventEnd(e._allDay,e._start),allDay:o.allDay},w(r),s=null!==e._end&&null===o.end,a=n(o.start,r.start),o.end?(l=n(o.end,r.end),u=l.subtract(a)):u=null,t.each(o,function(t,e){f(t)&&void 0!==e&&(h[t]=e)}),p=k(m(e._id),s,o.allDay,a,u,h),{dateDelta:a,durationDelta:u,undo:p}}function k(e,o,i,n,r,s){var a=O.getIsAmbigTimezone(),l=[];return n&&!n.valueOf()&&(n=null),r&&!r.valueOf()&&(r=null),t.each(e,function(e,u){var p,h;p={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(s,function(t){p[t]=u[t]}),h={start:u._start,end:u._end,allDay:i},w(h),o?h.end=null:r&&!h.end&&(h.end=O.getDefaultEventEnd(h.allDay,h.start)),n&&(h.start.add(n),h.end&&h.end.add(n)),r&&h.end.add(r),a&&!h.allDay&&(n||r)&&(h.start.stripZone(),h.end&&h.end.stripZone()),t.extend(u,s,h),Wt(u),l.push(function(){t.extend(u,p),Wt(u)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function M(e){var i,n=o.businessHours,r={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},s=O.getView();return n&&(i=t.extend({},r,"object"==typeof n?n:{})),i?(e&&(i.start=null,i.end=null),x(v(i),s.start,s.end)):[]}function C(t,e){var i=e.source||{},n=X(e.constraint,i.constraint,o.eventConstraint),r=X(e.overlap,i.overlap,o.eventOverlap);return _(t,n,r,e)}function E(e,o,i){var n,r;return i&&(n=t.extend({},i,o),r=x(v(n))[0]),r?C(e,r):D(e)}function D(t){return _(t,o.selectConstraint,o.selectOverlap)}function _(t,e,o,i){var n,r,s,a,l,u;if(null!=e){for(n=P(e),r=!1,a=0;a<n.length;a++)if(F(n[a],t)){r=!0;break}if(!r)return!1}for(s=O.getPeerEvents(t,i),a=0;a<s.length;a++)if(l=s[a],I(l,t)){if(o===!1)return!1;if("function"==typeof o&&!o(l,i))return!1;if(i){if(u=X(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(i,l))return!1}}return!0}function P(t){return"businessHours"===t?M():"object"==typeof t?x(v(t)):m(t)}function F(t,e){var o=t.start.clone().stripZone(),i=O.getEventEnd(t).stripZone();return e.start>=o&&e.end<=i}function I(t,e){var o=t.start.clone().stripZone(),i=O.getEventEnd(t).stripZone();return e.start<i&&e.end>o}var O=this;O.isFetchNeeded=i,O.fetchEvents=n,O.addEventSource=a,O.removeEventSource=u,O.updateEvent=c,O.renderEvent=y,O.removeEvents=g,O.clientEvents=m,O.mutateEvent=T,O.normalizeEventDates=w,O.normalizeEventTimes=S;var L,H,N=O.reportEvents,W={events:[]},G=[W],z=0,Y=0,U=[];t.each((o.events?[o.events]:[]).concat(o.eventSources||[]),function(t,e){var o=l(e);o&&G.push(o)}),O.getBusinessHoursEvents=M,O.isEventSpanAllowed=C,O.isExternalSpanAllowed=E,O.isSelectionSpanAllowed=D,O.getEventCache=function(){return U}}function Wt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Bt=t.fullCalendar={version:"2.6.1",internalApiVersion:3},Gt=Bt.views={};t.fn.fullCalendar=function(e){var o=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(n,r){var s,a=t(r),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(s=l[e].apply(l,o),n||(i=s),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new ye(a,e),a.data("fullCalendar",l),l.render())}),i};var zt=["header","buttonText","buttonIcons","themeButtonIcons"];Bt.intersectRanges=P,Bt.applyAll=$,Bt.debounce=it,Bt.isInt=et,Bt.htmlEscape=K,Bt.cssToStr=Z,Bt.proxy=ot,Bt.capitaliseFirstLetter=Q,Bt.getOuterRect=f,Bt.getClientRect=y,Bt.getContentRect=g,Bt.getScrollbarWidths=m;var Yt=null;Bt.intersectRects=x,Bt.parseFieldSpecs=C,Bt.compareByFieldSpecs=E,Bt.compareByFieldSpec=D,Bt.flexibleCompare=_,Bt.computeIntervalUnit=F,Bt.divideRangeByDuration=O,Bt.divideDurationByDuration=L,Bt.multiplyDuration=H,Bt.durationHasTime=N;var Ut=["sun","mon","tue","wed","thu","fri","sat"],Vt=["year","month","week","day","hour","minute","second","millisecond"];Bt.log=function(){var t=window.console;if(t&&t.log)return t.log.apply(t,arguments)},Bt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Bt.log.apply(Bt,arguments)};var qt,$t,Xt,Kt={}.hasOwnProperty,Jt=/^\s*\d{4}-\d\d$/,Zt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Qt=e.fn,te=t.extend({},Qt);Bt.moment=function(){return nt(arguments)},Bt.moment.utc=function(){var t=nt(arguments,!0);return t.hasTime()&&t.utc(),t},Bt.moment.parseZone=function(){return nt(arguments,!0,!0)},Qt.clone=function(){var t=te.clone.apply(this,arguments);return st(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Qt.week=Qt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Qt.time=function(t){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var o=0;return e.isDuration(t)&&(o=24*Math.floor(t.asDays())),this.hours(o+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Qt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),$t(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Qt.hasTime=function(){return!this._ambigTime},Qt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),$t(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Qt.hasZone=function(){return!this._ambigZone},Qt.local=function(){var t=this.toArray(),e=this._ambigZone;return te.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Xt(this,t),this},Qt.utc=function(){return te.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){te[e]&&(Qt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),te[e].apply(this,arguments)})}),Qt.format=function(){return this._fullCalendar&&arguments[0]?ut(this,arguments[0]):this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Qt.toISOString=function(){return this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)},Qt.isWithin=function(t,e){var o=rt([this,t,e]);return o[0]>=o[1]&&o[0]<o[2]},Qt.isSame=function(t,e){var o;return this._fullCalendar?e?(o=rt([this,t],!0),te.isSame.call(o[0],o[1],e)):(t=Bt.moment.parseZone(t),te.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):te.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Qt[e]=function(t,o){var i;return this._fullCalendar?(i=rt([this,t]),te[e].call(i[0],i[1],o)):te[e].apply(this,arguments)}}),qt="_d"in e()&&"updateOffset"in e,$t=qt?function(t,o){t._d.setTime(Date.UTC.apply(Date,o)),e.updateOffset(t,!1)}:at,Xt=qt?function(t,o){t._d.setTime(+new Date(o[0]||0,o[1]||0,o[2]||0,o[3]||0,o[4]||0,o[5]||0,o[6]||0)),e.updateOffset(t,!1)}:at;var ee={t:function(t){return lt(t,"a").charAt(0)},T:function(t){return lt(t,"A").charAt(0)}};Bt.formatRange=ct;var oe={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ie={};Bt.Class=mt,mt.extend=function(){var t,e,o=arguments.length;for(t=0;t<o;t++)e=arguments[t],t<o-1&&bt(this,e);return vt(this,e||{})},mt.mixin=function(t){bt(this,t)};var ne=Bt.Emitter=mt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,o){var i=this.getCallbacks(t);return i.fireWith(e,o),this},getCallbacks:function(e){var o;return this.callbackHash||(this.callbackHash={}),o=this.callbackHash[e],o||(o=this.callbackHash[e]=t.Callbacks()),o}}),re=mt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,o=this.options;this.el=t('<div class="fc-popover"/>').addClass(o.className||"").css({top:0,left:0}).append(o.content).appendTo(o.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),o.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=ot(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,o,i,n,r,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),p=t(window),h=d(this.el);n=s.top||0,r=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,h.is(window)||h.is(document)?(h=p,e=0,o=0):(i=h.offset(),e=i.top,o=i.left),e+=p.scrollTop(),o+=p.scrollLeft(),s.viewportConstrain!==!1&&(n=Math.min(n,e+h.outerHeight()-u-this.margin),n=Math.max(n,e+this.margin),r=Math.min(r,o+h.outerWidth()-l-this.margin),r=Math.max(r,o+this.margin)),this.el.css({top:n-a.top,left:r-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),se=Bt.CoordCache=mt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=d(this.els.eq(0));if(!t.is(document))return y(t)},buildElHorizontals:function(){var e=[],o=[];this.els.each(function(i,n){var r=t(n),s=r.offset().left,a=r.outerWidth();e.push(s),o.push(s+a)}),this.lefts=e,this.rights=o},buildElVerticals:function(){var e=[],o=[];this.els.each(function(i,n){var r=t(n),s=r.offset().top,a=r.outerHeight();e.push(s),o.push(s+a)}),this.tops=e,this.bottoms=o},getHorizontalIndex:function(t){this.ensureBuilt();var e,o=this.boundingRect,i=this.lefts,n=this.rights,r=i.length;if(!o||t>=o.left&&t<o.right)for(e=0;e<r;e++)if(t>=i[e]&&t<n[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,o=this.boundingRect,i=this.tops,n=this.bottoms,r=i.length;if(!o||t>=o.top&&t<o.bottom)for(e=0;e<r;e++)if(t>=i[e]&&t<n[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ae=Bt.DragListener=mt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){S(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var o;this.isListening||(e&&this.options.scroll&&(o=d(t(e.target)),o.is(window)||o.is(document)||(this.scrollEl=o,this.scrollHandlerProxy=it(ot(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=ot(this,"mousemove")).on("mouseup",this.mouseupProxy=ot(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,o,i=t.pageX-this.originX,n=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,o=i*i+n*n,o>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,n,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,o){this.trigger("drag",t,e,o),this.updateScroll(o)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?f(t):null},updateScroll:function(t){var e,o,i,n,r=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(r-(t.pageY-s.top))/r,o=(r-(s.bottom-t.pageY))/r,i=(r-(t.pageX-s.left))/r,n=(r-(s.right-t.pageX))/r,e>=0&&e<=1?a=e*this.scrollSpeed*-1:o>=0&&o<=1&&(a=o*this.scrollSpeed),i>=0&&i<=1?l=i*this.scrollSpeed*-1:n>=0&&n<=1&&(l=n*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ot(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),le=ae.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ae.call(this,e),this.component=t},listenStart:function(t){var e,o,i,n=this.subjectEl;ae.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(o={left:t.pageX,top:t.pageY},i=o,n&&(e=f(n),i=T(i,e)),this.origHit=this.queryHit(i.left,i.top),n&&this.options.subjectCenter&&(this.origHit&&(e=x(this.origHit,e)||e),i=k(e)),this.coordAdjust=M(i,o)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(t){var e;ae.prototype.dragStart.apply(this,arguments),e=this.queryHit(t.pageX,t.pageY),e&&this.hitOver(e)},drag:function(t,e,o){var i;ae.prototype.drag.apply(this,arguments),i=this.queryHit(o.pageX,o.pageY),wt(i,this.hit)||(this.hit&&this.hitOut(),i&&this.hitOver(i))},dragStop:function(){this.hitDone(),ae.prototype.dragStop.apply(this,arguments)},hitOver:function(t){var e=wt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){ae.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){ae.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ue=mt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,o){this.options=o=o||{},this.sourceEl=e,this.parentEl=o.parentEl?t(o.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=ot(this,"mousemove")))},stop:function(e,o){function i(){this.isAnimating=!1,n.removeElement(),this.top0=this.left0=null,o&&o()}var n=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),pe=Bt.Grid=mt.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=ot(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,o=this.view;this.eventTimeFormat=o.opt("eventTimeFormat")||o.opt("timeFormat")||this.computeEventTimeFormat(),t=o.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=o.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(){},diffDates:function(t,e){return this.largeUnit?A(t,e,this.largeUnit):j(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(e){var o=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||o.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,o,i=this,n=this.view,r=n.opt("selectable"),l=new le(this,{scroll:n.opt("dragScroll"),dragStart:function(){n.unselect()},hitOver:function(t,n,a){a&&(e=n?t:null,r&&(o=i.computeSelection(i.getHitSpan(a),i.getHitSpan(t)),o?i.renderSelection(o):o===!1&&s()))},hitOut:function(){e=null,o=null,i.unrenderSelection(),a()},listenStop:function(t){e&&n.triggerDayClick(i.getHitSpan(e),i.getHitEl(e),t),o&&n.reportSelection(o,t),a()}});l.mousedown(t)},renderEventLocationHelper:function(t,e){var o=this.fabricateHelperEvent(t,e);this.renderHelper(o,e)},fabricateHelperEvent:function(t,e){var o=e?z(e.event):{};return o.start=t.start.clone(),o.end=t.end?t.end.clone():null,o.allDay=null,this.view.calendar.normalizeEventDates(o),o.className=(o.className||[]).concat("fc-helper"),e||(o.editable=!1),o},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var o=this.computeSelectionSpan(t,e);return!(o&&!this.view.calendar.isSelectionSpanAllowed(o))&&o},computeSelectionSpan:function(t,e){var o=[t.start,t.end,e.start,e.end];return o.sort(tt),{start:o[0].clone(),end:o[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){
return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,o){var i,n=this,r=this[e+"SegEl"],s="",a=[];if(o.length){for(i=0;i<o.length;i++)s+=this.fillSegHtml(e,o[i]);t(s).each(function(e,i){var s=o[e],l=t(i);r&&(l=r.call(n,s,l)),l&&(l=t(l),l.is(n.fillSegTag)&&(s.el=l,a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var o=this[t+"SegClasses"],i=this[t+"SegCss"],n=o?o.call(this,e):[],r=Z(i?i.call(this,e):{});return"<"+this.fillSegTag+(n.length?' class="'+n.join(" ")+'"':"")+(r?' style="'+r+'"':"")+" />"},getDayClasses:function(t){var e=this.view,o=e.calendar.getNow(),i=["fc-"+Ut[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(o,"day")?i.push("fc-today",e.highlightStateClass):t<o?i.push("fc-past"):i.push("fc-future"),i}});pe.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,o=[],i=[];for(e=0;e<t.length;e++)(xt(t[e])?o:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(o),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(e,o){var i,n=this.view,r="",s=[];if(e.length){for(i=0;i<e.length;i++)r+=this.fgSegHtml(e[i],o);t(r).each(function(o,i){var r=e[o],a=n.resolveEventEl(r.event,t(i));a&&(a.data("fc-seg",r),r.el=a,s.push(r))})}return s},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,o=e.source||{};return["fc-bgevent"].concat(e.className,o.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,o=this.view;t.each({mouseenter:function(t,o){e.triggerSegMouseover(t,o)},mouseleave:function(t,o){e.triggerSegMouseout(t,o)},click:function(t,e){return o.trigger("eventClick",this,t.event,e)},mousedown:function(i,n){t(n.target).is(".fc-resizer")&&o.isEventResizable(i.event)?e.segResizeMousedown(i,n,t(n.target).is(".fc-start-resizer")):o.isEventDraggable(i.event)&&e.segDragMousedown(i,n)}},function(o,i){e.el.on(o,".fc-event-container > *",function(o){var n=t(this).data("fc-seg");if(n&&!e.isDraggingSeg&&!e.isResizingSeg)return i.call(this,n,o)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var o,i=this,n=this.view,r=n.calendar,l=t.el,u=t.event,p=new ue(t.el,{parentEl:n.el,opacity:n.opt("dragOpacity"),revertDuration:n.opt("dragRevertDuration"),zIndex:2}),h=new le(n,{distance:5,scroll:n.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){p.hide(),p.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),n.hideEvent(u)},hitOver:function(e,a,l){t.hit&&(l=t.hit),o=i.computeEventDrop(l.component.getHitSpan(l),e.component.getHitSpan(e),u),o&&!r.isEventSpanAllowed(i.eventToSpan(o),u)&&(s(),o=null),o&&n.renderDrag(o,t)?p.hide():p.show(),a&&(o=null)},hitOut:function(){n.unrenderDrag(),p.show(),o=null},hitDone:function(){a()},dragStop:function(e){p.stop(!o,function(){n.unrenderDrag(),n.showEvent(u),i.segDragStop(t,e),o&&n.reportEventDrop(u,o,this.largeUnit,l,e)})},listenStop:function(){p.stop()}});h.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,o){var i,n,r=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),o.allDay&&N(i)?(n={start:o.start.clone(),end:r.getEventEnd(o),allDay:!1},r.normalizeEventTimes(n)):n={start:o.start.clone(),end:o.end?o.end.clone():null,allDay:o.allDay},n.start.add(i),n.end&&n.end.add(i)):n={start:a.clone(),end:null,allDay:!a.hasTime()},n},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,o){o.style.opacity=e})},externalDragStart:function(e,o){var i,n,r=this.view;r.opt("droppable")&&(i=t((o?o.item:null)||e.target),n=r.opt("dropAccept"),(t.isFunction(n)?n.call(i[0],i):i.is(n))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,o)))},listenToExternalDrag:function(t,e,o){var i,n=this,r=this.view.calendar,l=Et(t),u=new le(this,{listenStart:function(){n.isDraggingExternal=!0},hitOver:function(t){i=n.computeExternalDrop(t.component.getHitSpan(t),l),i&&!r.isExternalSpanAllowed(n.eventToSpan(i),i,l.eventProps)&&(s(),i=null),i&&n.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){a(),n.unrenderDrag()},dragStop:function(){i&&n.view.reportExternalDrop(l,i,t,e,o)},listenStop:function(){n.isDraggingExternal=!1}});u.startDrag(e)},computeExternalDrop:function(t,e){var o=this.view.calendar,i={start:o.applyTimezone(t.start),end:null};return e.startTime&&!i.start.hasTime()&&i.start.time(e.startTime),e.duration&&(i.end=i.start.clone().add(e.duration)),i},renderDrag:function(){},unrenderDrag:function(){},segResizeMousedown:function(t,e,o){var i,n=this,r=this.view,l=r.calendar,u=t.el,p=t.event,h=l.getEventEnd(p),c=new le(this,{distance:5,scroll:r.opt("dragScroll"),subjectEl:u,dragStart:function(e){n.triggerSegMouseout(t,e),n.segResizeStart(t,e)},hitOver:function(e,a,u){var c=n.getHitSpan(u),d=n.getHitSpan(e);i=o?n.computeEventStartResize(c,d,p):n.computeEventEndResize(c,d,p),i&&(l.isEventSpanAllowed(n.eventToSpan(i),p)?i.start.isSame(p.start)&&i.end.isSame(h)&&(i=null):(s(),i=null)),i&&(r.hideEvent(p),n.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){n.unrenderEventResize(),r.showEvent(p),a()},dragStop:function(e){n.segResizeStop(t,e),i&&r.reportEventResize(p,i,this.largeUnit,u,e)}});c.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,o){return this.computeEventResize("start",t,e,o)},computeEventEndResize:function(t,e,o){return this.computeEventResize("end",t,e,o)},computeEventResize:function(t,e,o,i){var n,r,s=this.view.calendar,a=this.diffDates(o[t],e[t]);return n={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay},n.allDay&&N(a)&&(n.allDay=!1,s.normalizeEventTimes(n)),n[t].add(a),n.start.isBefore(n.end)||(r=this.minResizeDuration||(i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),"start"==t?n.start=n.end.clone().subtract(r):n.end=n.start.clone().add(r)),n},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(t,e,o){return null==e&&(e=this.eventTimeFormat),null==o&&(o=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?o&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,o){var i=t.event,n=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&n.push("fc-draggable"),o&&n.push("fc-resizable"),n},getSegSkinCss:function(t){var e=t.event,o=this.view,i=e.source||{},n=e.color,r=i.color,s=o.opt("eventColor");return{"background-color":e.backgroundColor||n||i.backgroundColor||r||o.opt("eventBackgroundColor")||s,"border-color":e.borderColor||n||i.borderColor||r||o.opt("eventBorderColor")||s,color:e.textColor||i.textColor||o.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,o){var i=this,n=Mt(e),r=[];return t.each(n,function(t,e){var n,s=[];for(n=0;n<e.length;n++)s.push(i.eventToRange(e[n]));if(Tt(e[0]))for(s=i.invertRanges(s),n=0;n<s.length;n++)r.push.apply(r,i.eventRangeToSegs(s[n],e[0],o));else for(n=0;n<s.length;n++)r.push.apply(r,i.eventRangeToSegs(s[n],e[n],o))}),r},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,o){var i,n=this.eventRangeToSpans(t,e),r=[];for(i=0;i<n.length;i++)r.push.apply(r,this.eventSpanToSegs(n[i],e,o));return r},eventRangeToSpans:function(e){return[t.extend({},e)]},eventSpanToSegs:function(t,e,o){var i,n,r=o?o(t):this.spanToSegs(t);for(i=0;i<r.length;i++)n=r[i],n.event=e,n.eventStartMS=+t.start,n.eventDurationMS=t.end-t.start;return r},invertRanges:function(t){var e,o,i=this.view,n=i.start.clone(),r=i.end.clone(),s=[],a=n;for(t.sort(Ct),e=0;e<t.length;e++)o=t[e],o.start>a&&s.push({start:a,end:o.start}),a=o.end;return a<r&&s.push({start:a,end:r}),s},sortEventSegs:function(t){t.sort(ot(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||E(t.event,e.event,this.view.eventOrderSpecs)}}),Bt.isBgEvent=xt,Bt.dataAttrPrefix="";var he=Bt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,o,i=this.view,n=this.start.clone(),r=-1,s=[],a=[];n.isBefore(this.end);)i.isHiddenDay(n)?s.push(r+.5):(r++,s.push(r),a.push(n.clone())),n.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);o=Math.ceil(a.length/t)}else o=1,t=a.length;this.dayDates=a,this.dayIndices=s,this.daysPerRow=t,this.rowCnt=o,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var o=this.getCellDate(t,e),i=o.clone().add(1,"days");return{start:o,end:i}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,o=t.diff(this.start,"days");return o<0?e[0]-1:o>=e.length?e[e.length-1]+1:e[o]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,o,i,n,r,s=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),u=this.getDateDayIndex(a.end.clone().subtract(1,"days")),p=[];for(e=0;e<this.rowCnt;e++)o=e*s,i=o+s-1,n=Math.max(l,o),r=Math.min(u,i),n=Math.ceil(n),r=Math.floor(r),n<=r&&p.push({row:e,firstRowDayIndex:n-o,lastRowDayIndex:r-o,isStart:n===l,isEnd:r===u});return p},sliceRangeByDay:function(t){var e,o,i,n,r,s,a=this.daysPerRow,l=this.view.computeDayRange(t),u=this.getDateDayIndex(l.start),p=this.getDateDayIndex(l.end.clone().subtract(1,"days")),h=[];for(e=0;e<this.rowCnt;e++)for(o=e*a,i=o+a-1,n=o;n<=i;n++)r=Math.max(u,n),s=Math.min(p,n),r=Math.ceil(r),s=Math.floor(s),r<=s&&h.push({row:e,firstRowDayIndex:r-o,lastRowDayIndex:s-o,isStart:r===u,isEnd:s===p});return h},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,o=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),o.push(this.renderHeadDateCellHtml(e));return o.join("")},renderHeadDateCellHtml:function(t,e,o){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Ut[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(o?" "+o:"")+">"+K(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,o,i=[];for(e=0;e<this.colCnt;e++)o=this.getCellDate(t,e),i.push(this.renderBgCellHtml(o));return i.join("")},renderBgCellHtml:function(t,e){var o=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",o.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},ce=Bt.DayGrid=pe.extend(he,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,o,i=this.view,n=this.rowCnt,r=this.colCnt,s="";for(e=0;e<n;e++)s+=this.renderDayRowHtml(e,t);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new se({els:this.rowEls,isVertical:!0}),this.colCoordCache=new se({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;e<n;e++)for(o=0;o<r;o++)i.trigger("dayRender",null,this.getCellDate(e,o),this.getCellEl(e,o))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},renderDayRowHtml:function(t,e){var o=this.view,i=["fc-row","fc-week",o.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,o,i=[];for(e=0;e<this.colCnt;e++)o=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(o));return i.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,o,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)o=i[e],this.isRTL?(o.leftCol=this.daysPerRow-1-o.lastRowDayIndex,o.rightCol=this.daysPerRow-1-o.firstRowDayIndex):(o.leftCol=o.firstRowDayIndex,o.rightCol=o.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var o=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);if(null!=i&&null!=o)return this.getCellHit(i,o)},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){if(this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length)return this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,o){var i,n=[],r=this.eventToSegs(e);r=this.renderFgSegEls(r),i=this.renderSegRows(r),this.rowEls.each(function(e,r){var s,a=t(r),l=t('<div class="fc-helper-skeleton"><table/></div>');s=o&&o.row===e?o.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(i[e].tbodyEl),a.append(l),n.push(l[0])}),this.helperEls=t(n)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,o,i){var n,r,s,a=[];for(o=this.renderFillSegEls(e,o),n=0;n<o.length;n++)r=o[n],s=this.renderFillRow(e,r,i),this.rowEls.eq(r.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),o},renderFillRow:function(e,o,i){var n,r,s=this.colCnt,a=o.leftCol,l=o.rightCol+1;return i=i||e.toLowerCase(),n=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),r=n.find("tr"),a>0&&r.append('<td colspan="'+a+'"/>'),r.append(o.el.attr("colspan",l-a)),l<s&&r.append('<td colspan="'+(s-l)+'"/>'),this.bookendCells(r),n}});ce.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),pe.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return pe.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var o=t.grep(e,function(t){return t.event.allDay});return pe.prototype.renderBgSegs.call(this,o)},renderFgSegs:function(e){var o;return e=this.renderFgSegEls(e),o=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(o[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,o,i=[];for(e=this.groupSegRows(t),o=0;o<e.length;o++)i.push(this.renderSegRow(o,e[o]));return i},fgSegHtml:function(t,e){var o,i,n=this.view,r=t.event,s=n.isEventDraggable(r),a=!e&&r.allDay&&t.isStart&&n.isEventResizableFromStart(r),l=!e&&r.allDay&&t.isEnd&&n.isEventResizableFromEnd(r),u=this.getSegClasses(t,s,a||l),p=Z(this.getSegSkinCss(t)),h="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(o=this.getEventTimeText(r),o&&(h='<span class="fc-time">'+K(o)+"</span>")),i='<span class="fc-title">'+(K(r.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(r.url?' href="'+K(r.url)+'"':"")+(p?' style="'+p+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+h:h+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,o){function i(e){for(;s<e;)p=(m[n-1]||[])[s],p?p.attr("rowspan",parseInt(p.attr("rowspan")||1,10)+1):(p=t("<td/>"),a.append(p)),g[n][s]=p,m[n][s]=p,s++}var n,r,s,a,l,u,p,h=this.colCnt,c=this.buildSegLevels(o),d=Math.max(1,c.length),f=t("<tbody/>"),y=[],g=[],m=[];for(n=0;n<d;n++){if(r=c[n],s=0,a=t("<tr/>"),y.push([]),g.push([]),m.push([]),r)for(l=0;l<r.length;l++){for(u=r[l],i(u.leftCol),p=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?p.attr("colspan",u.rightCol-u.leftCol+1):m[n][s]=p;s<=u.rightCol;)g[n][s]=p,y[n][s]=u,s++;a.append(p)}i(h),this.bookendCells(a),f.append(a)}return{row:e,tbodyEl:f,cellMatrix:g,segMatrix:y,segLevels:c,segs:o}},buildSegLevels:function(t){var e,o,i,n=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(o=t[e],i=0;i<n.length&&Dt(o,n[i]);i++);o.level=i,(n[i]||(n[i]=[])).push(o)}for(i=0;i<n.length;i++)n[i].sort(_t);return n},groupSegRows:function(t){var e,o=[];for(e=0;e<this.rowCnt;e++)o.push([]);for(e=0;e<t.length;e++)o[t[e].row].push(t[e]);return o}}),ce.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,o,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),o=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)),o!==!1&&this.limitRow(e,o)},computeRowLevelLimit:function(e){function o(e,o){r=Math.max(r,t(o).outerHeight())}var i,n,r,s=this.rowEls.eq(e),a=s.height(),l=this.rowStructs[e].tbodyEl.children();for(i=0;i<l.length;i++)if(n=l.eq(i).removeClass("fc-limited"),r=0,n.find("> td > :first-child").each(o),n.position().top+r>a)return i;return!1},limitRow:function(e,o){function i(i){for(;x<i;)u=b.getCellSegs(e,x,o),u.length&&(c=r[o-1][x],v=b.renderMoreLink(e,x,u),m=t("<div/>").append(v),c.append(m),S.push(m[0])),x++}var n,r,s,a,l,u,p,h,c,d,f,y,g,m,v,b=this,w=this.rowStructs[e],S=[],x=0;if(o&&o<w.segLevels.length){for(n=w.segLevels[o-1],r=w.cellMatrix,s=w.tbodyEl.children().slice(o).addClass("fc-limited").get(),a=0;a<n.length;a++){for(l=n[a],i(l.leftCol),h=[],p=0;x<=l.rightCol;)u=this.getCellSegs(e,x,o),h.push(u),p+=u.length,x++;if(p){for(c=r[o-1][l.leftCol],d=c.attr("rowspan")||1,f=[],y=0;y<h.length;y++)g=t('<td class="fc-more-cell"/>').attr("rowspan",d),u=h[y],v=this.renderMoreLink(e,l.leftCol+y,[l].concat(u)),m=t("<div/>").append(v),g.append(m),f.push(g[0]),S.push(g[0]);c.addClass("fc-limited").after(t(f)),s.push(c[0])}}i(this.colCnt),w.moreEls=t(S),w.limitedEls=t(s)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,o,i){var n=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(s){var a=r.opt("eventLimitClick"),l=n.getCellDate(e,o),u=t(this),p=n.getCellEl(e,o),h=n.getCellSegs(e,o),c=n.resliceDaySegs(h,l),d=n.resliceDaySegs(i,l);"function"==typeof a&&(a=r.trigger("eventLimitClick",null,{date:l,dayEl:p,moreEl:u,segs:c,hiddenSegs:d},s)),"popover"===a?n.showSegPopover(e,o,u,c):"string"==typeof a&&r.calendar.zoomTo(l,a)})},showSegPopover:function(t,e,o,i){var n,r,s=this,a=this.view,l=o.parent();n=1==this.rowCnt?a.el:this.rowEls.eq(t),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.el,top:n.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new re(r),this.segPopover.show()},renderSegPopoverContent:function(e,o,i){var n,r=this.view,s=r.opt("theme"),a=this.getCellDate(e,o).format(r.opt("dayPopoverFormat")),l=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+K(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,n=0;n<i.length;n++)this.prepareHits(),i[n].hit=this.getCellHit(e,o),this.releaseHits(),u.append(i[n].el);return l},resliceDaySegs:function(e,o){var i=t.map(e,function(t){return t.event}),n=o.clone(),r=n.clone().add(1,"days"),s={start:n,end:r};return e=this.eventsToSegs(i,function(t){var e=P(t,s);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,o){for(var i,n=this.rowStructs[t].segMatrix,r=o||0,s=[];r<n.length;)i=n[r][e],i&&s.push(i),r++;return s}});var de=Bt.TimeGrid=pe.extend(he,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){pe.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new se({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new se({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,o,i,n=this.view,r=this.isRTL,s="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),o=et(L(a,this.labelInterval)),i='<td class="fc-axis fc-time '+n.widgetContentClass+'" '+n.axisStyleAttr()+">"+(o?"<span>"+K(t.format(this.labelFormat))+"</span>":"")+"</td>",s+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(o?"":' class="fc-minor"')+">"+(r?"":i)+'<td class="'+n.widgetContentClass+'"/>'+(r?i:"")+"</tr>",a.add(this.slotDuration);return s},processOptions:function(){var o,i=this.view,n=i.opt("slotDuration"),r=i.opt("snapDuration");n=e.duration(n),r=r?e.duration(r):n,this.slotDuration=n,this.snapDuration=r,this.snapsPerSlot=n/r,this.minResizeDuration=r,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),o=i.opt("slotLabelFormat"),t.isArray(o)&&(o=o[o.length-1]),this.labelFormat=o||i.opt("axisFormat")||i.opt("smallTimeFormat"),o=i.opt("slotLabelInterval"),this.labelInterval=o?e.duration(o):this.computeLabelInterval(n)},computeLabelInterval:function(t){var o,i,n;for(o=_e.length-1;o>=0;o--)if(i=e.duration(_e[o]),n=L(i,t),et(n)&&n>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var o=this.snapsPerSlot,i=this.colCoordCache,n=this.slatCoordCache,r=i.getHorizontalIndex(t),s=n.getVerticalIndex(e);if(null!=r&&null!=s){var a=n.getTopOffset(s),l=n.getHeight(s),u=(e-a)/l,p=Math.floor(u*o),h=s*o+p,c=a+p/o*l,d=a+(p+1)/o*l;return{col:r,snap:h,component:this,left:i.getLeftOffset(r),right:i.getRightOffset(r),top:c,bottom:d}}},getHitSpan:function(t){var e,o=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return o.time(i),e=o.clone().add(this.snapDuration),{start:o,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,o=this.sliceRangeByTimes(t);for(e=0;e<o.length;e++)this.isRTL?o[e].col=this.daysPerRow-1-o[e].dayIndex:o[e].col=o[e].dayIndex;return o},sliceRangeByTimes:function(t){var e,o,i,n,r=[];for(o=0;o<this.daysPerRow;o++)i=this.dayDates[o].clone(),n={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=P(t,n),e&&(e.dayIndex=o,r.push(e));return r},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(t,o){return this.computeTimeTop(e.duration(t-o.clone().stripTime()))},computeTimeTop:function(t){var e,o,i=this.slatEls.length,n=(t-this.minTime)/this.slotDuration;return n=Math.max(0,n),n=Math.min(i,n),e=Math.floor(n),e=Math.min(e,i-1),o=n-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*o},renderDrag:function(t,e){if(e){this.renderEventLocationHelper(t,e);for(var o=0;o<this.helperSegs.length;o++)this.applyDragOpacity(this.helperSegs[o].el);return!0}this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var o,i=this.spanToSegs({start:e,end:e}),n=this.computeDateTop(e,e),r=[];for(o=0;o<i.length;o++)r.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",n).appendTo(this.colContainerEls.eq(i[o].col))[0]);i.length>0&&r.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",n).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(r)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});de.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,o,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';o=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=o.find(".fc-content-col"),this.helperContainerEls=o.find(".fc-helper-container"),this.fgContainerEls=o.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=o.find(".fc-bgevent-container"),this.highlightContainerEls=o.find(".fc-highlight-container"),this.businessContainerEls=o.find(".fc-business-container"),this.bookendCells(o.find("tr")),this.el.append(o)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,e){var o,i,n;for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),o=0;o<t.length;o++)i=t[o],e&&e.col===i.col&&(n=e.el,i.el.css({left:n.css("left"),right:n.css("right"),"margin-left":n.css("margin-left"),"margin-right":n.css("margin-right")}));this.helperSegs=t},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,o=[];for(e=0;e<this.colCnt;e++)o.push([]);for(e=0;e<t.length;e++)o[t[e].col].push(t[e]);return o},attachSegsByCol:function(t,e){var o,i,n;for(o=0;o<this.colCnt;o++)for(i=t[o],n=0;n<i.length;n++)e.eq(o).append(i[n].el)},unrenderNamedSegs:function(t){var e,o=this[t];if(o){for(e=0;e<o.length;e++)o[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var o,i;for(t=this.renderFgSegEls(t),o=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(o[i]);return this.attachSegsByCol(o,e),t},fgSegHtml:function(t,e){var o,i,n,r=this.view,s=t.event,a=r.isEventDraggable(s),l=!e&&t.isStart&&r.isEventResizableFromStart(s),u=!e&&t.isEnd&&r.isEventResizableFromEnd(s),p=this.getSegClasses(t,a,l||u),h=Z(this.getSegSkinCss(t));
return p.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(o=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),n=this.getEventTimeText(t,null,!1)):(o=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),n=this.getEventTimeText(s,null,!1)),'<a class="'+p.join(" ")+'"'+(s.url?' href="'+K(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(o?'<div class="fc-time" data-start="'+K(n)+'" data-full="'+K(i)+'"><span>'+K(o)+"</span></div>":"")+(s.title?'<div class="fc-title">'+K(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,o;for(e=0;e<t.length;e++)o=t[e],o.top=this.computeDateTop(o.start,o.start),o.bottom=this.computeDateTop(o.end,o.start)},assignSegVerticals:function(t){var e,o;for(e=0;e<t.length;e++)o=t[e],o.el.css(this.generateSegVerticalCss(o))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,o,i;if(this.sortEventSegs(t),e=Pt(t),jt(e),o=e[0]){for(i=0;i<o.length;i++)Rt(o[i]);for(i=0;i<o.length;i++)this.computeFgSegForwardBack(o[i],0,0)}},computeFgSegForwardBack:function(t,e,o){var i,n=t.forwardSegs;if(void 0===t.forwardCoord)for(n.length?(this.sortForwardSegs(n),this.computeFgSegForwardBack(n[0],e+1,o),t.forwardCoord=n[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-o)/(e+1),i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(ot(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,o;for(e=0;e<t.length;e++)o=t[e],o.el.css(this.generateFgSegHorizontalCss(o)),o.bottom-o.top<30&&o.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,o,i=this.view.opt("slotEventOverlap"),n=t.backwardCoord,r=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(r=Math.min(1,n+2*(r-n))),this.isRTL?(e=1-r,o=n):(e=n,o=1-r),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*o+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s}});var fe=Bt.View=mt.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,o,i,n){this.calendar=t,this.type=this.name=o,this.options=i,this.intervalDuration=n||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=C(this.opt("eventOrder")),this.documentMousedownProxy=ot(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var o=this.calendar;return o.trigger.apply(o,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,o,i=F(this.intervalDuration),n=t.clone().startOf(i),r=n.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(n.stripTime(),r.stripTime()):(n.hasTime()||(n=this.calendar.time(0)),r.hasTime()||(r=this.calendar.time(0))),e=n.clone(),e=this.skipHiddenDays(e),o=r.clone(),o=this.skipHiddenDays(o,-1,!0),{intervalUnit:i,intervalStart:n,intervalEnd:r,start:e,end:o}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,o){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),ct(t.start,i,e,o,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var o=this,i=null;return this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return o.displaying=t.when(o.displayView(e)).then(function(){o.forceScroll(o.computeInitialScroll(i)),o.calendar.unfreezeContentHeight(),o.triggerRender()})})},clear:function(){var e=this,o=this.displaying;return o?o.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,o,i,n=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(o=ot(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){n.nowIndicatorTimeoutID=null,o(),i=+e.duration(1,t),i=Math.max(100,i),n.nowIndicatorIntervalID=setInterval(o,i)},i)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,o,i=this.scrollerEl;return e=this.el.add(i),e.css({position:"relative",left:-1}),o=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-o},computeInitialScroll:function(){return 0},queryScroll:function(){if(this.scrollerEl)return this.scrollerEl.scrollTop()},setScroll:function(t){if(this.scrollerEl)return this.scrollerEl.scrollTop(t)},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,o){var i=this.trigger("eventRender",e,e,o);return i===!1?o=null:i&&i!==!0&&(o=t(i)),o},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var o,i=this.getEventSegs();for(o=0;o<i.length;o++)e&&i[o].event._id!==e._id||i[o].el&&t.call(this,i[o])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return X(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,o,i,n){var r=this.calendar,s=r.mutateEvent(t,e,o),a=function(){s.undo(),r.reportEventChange()};this.triggerEventDrop(t,s.dateDelta,a,i,n),r.reportEventChange()},triggerEventDrop:function(t,e,o,i,n){this.trigger("eventDrop",i[0],t,e,o,n,{})},reportExternalDrop:function(e,o,i,n,r){var s,a,l=e.eventProps;l&&(s=t.extend({},l,o),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,o,i,n,r)},triggerExternalDrop:function(t,e,o,i,n){this.trigger("drop",o[0],e.start,i,n),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return X(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,o,i,n){var r=this.calendar,s=r.mutateEvent(t,e,o),a=function(){s.undo(),r.reportEventChange()};this.triggerEventResize(t,s.durationDelta,a,i,n),r.reportEventChange()},triggerEventResize:function(t,e,o,i,n){this.trigger("eventResize",i[0],t,e,o,n,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(e){var o;this.isSelected&&this.opt("unselectAuto")&&S(e)&&(o=this.opt("unselectCancel"),o&&t(e.target).closest(o).length||this.unselect(e))},triggerDayClick:function(t,e,o){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),o)},initHiddenDays:function(){var e,o=this.opt("hiddenDays")||[],i=[],n=0;for(this.opt("weekends")===!1&&o.push(0,6),e=0;e<7;e++)(i[e]=t.inArray(e,o)!==-1)||n++;if(!n)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,o){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(o?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,o=t.start.clone().stripTime(),i=t.end,n=null;return i&&(n=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&n.add(1,"days")),(!i||n<=o)&&(n=o.clone().add(1,"days")),{start:o,end:n}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ye=Bt.Calendar=mt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:It,initialize:function(){},initOptions:function(t){var e,n,r,s;t=i(t),e=t.lang,n=ge[e],n||(e=ye.defaults.lang,n=ge[e]||{}),r=X(t.isRTL,n.isRTL,ye.defaults.isRTL),s=r?ye.rtlDefaults:{},this.dirDefaults=s,this.langDefaults=n,this.overrides=t,this.options=o([ye.defaults,s,n,t]),Ot(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var o,i,n;if(t.inArray(e,Vt)!=-1)for(o=this.header.getViewsWithButtons(),t.each(Bt.views,function(t){o.push(t)}),i=0;i<o.length;i++)if(n=this.getViewSpec(o[i]),n&&n.singleUnit==e)return n},buildViewSpec:function(t){for(var i,n,r,s,a=this.overrides.views||{},l=[],u=[],p=[],h=t;h;)i=Gt[h],n=a[h],h=null,"function"==typeof i&&(i={"class":i}),i&&(l.unshift(i),u.unshift(i.defaults||{}),r=r||i.duration,h=h||i.type),n&&(p.unshift(n),r=r||n.duration,h=h||n.type);return i=G(l),i.type=t,!!i["class"]&&(r&&(r=e.duration(r),r.valueOf()&&(i.duration=r,s=F(r),1===r.as(s)&&(i.singleUnit=s,p.unshift(a[s]||{})))),i.defaults=o(u),i.overrides=o(p),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i)},buildViewSpecOptions:function(t){t.options=o([ye.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),Ot(t.options)},buildViewSpecButtonText:function(t,e){function o(o){var i=o.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=o(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=o(this.langDefaults)||o(this.dirDefaults)||t.defaults.buttonText||o(ye.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var o,i=this.moment(t).stripZone();return o=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:o}}});ye.mixin(ne),ye.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ye.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ye.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ge=Bt.langs={};Bt.datepickerLang=function(e,o,i){var n=ge[e]||(ge[e]={});n.isRTL=i.isRTL,n.weekNumberTitle=i.weekHeader,t.each(me,function(t,e){n[t]=e(i)}),t.datepicker&&(t.datepicker.regional[o]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Bt.lang=function(e,i){var n,r;n=ge[e]||(ge[e]={}),i&&(n=ge[e]=o([n,i])),r=Lt(e),t.each(ve,function(t,e){null==n[t]&&(n[t]=e(r,n))}),ye.defaults.lang=e};var me={buttonText:function(t){return{prev:J(t.prevText),next:J(t.nextText),today:J(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},ve={dayOfMonthFormat:function(t,e){var o=t.longDateFormat("l");return o=o.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?o+=" ddd":o="ddd "+o,o},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},be={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Bt.lang("en",ye.englishDefaults),Bt.sourceNormalizers=[],Bt.sourceFetchers=[];var we={dataType:"json",cache:!1},Se=1;ye.prototype.getPeerEvents=function(t,e){var o,i,n=this.getEventCache(),r=[];for(o=0;o<n.length;o++)i=n[o],e&&e._id===i._id||r.push(i);return r};var xe=Bt.BasicView=fe.extend({dayGridClass:ce,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Te);return new t(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=fe.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=p(this.el.find(".fc-week-number")))},setHeight:function(t,e){var o,i=this.opt("eventLimit");c(this.scrollerEl),r(this.headRowEl),this.dayGrid.removeSegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),o=this.computeScrollerHeight(t),this.setGridHeight(o,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&h(this.scrollerEl,o)&&(n(this.headRowEl,m(this.scrollerEl)),o=this.computeScrollerHeight(t),this.scrollerEl.height(o))},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Te={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+K(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},ke=Bt.MonthView=xe.extend({computeRange:function(t){var e,o=xe.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(o.end.diff(o.start,"weeks",!0)),o.end.add(6-e,"weeks")),o},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Gt.basic={"class":xe},Gt.basicDay={type:"basic",duration:{days:1}},Gt.basicWeek={type:"basic",duration:{weeks:1}},Gt.month={"class":ke,duration:{months:1},defaults:{fixedWeekCount:!0}};var Me=Bt.AgendaView=fe.extend({timeGridClass:de,timeGrid:null,dayGridClass:ce,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(Ce);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Ee);return new t(this)},setRange:function(t){fe.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),fe.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=p(this.el.find(".fc-axis"))},setHeight:function(t,e){var o,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),c(this.scrollerEl),r(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),o=this.opt("eventLimit"),o&&"number"!=typeof o&&(o=De),o&&this.dayGrid.limitRows(o)),e||(i=this.computeScrollerHeight(t),h(this.scrollerEl,i)?(n(this.noScrollRowEls,m(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),o=this.timeGrid.computeTimeTop(t);return o=Math.ceil(o),o&&o++,o},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var o=this.timeGrid.queryHit(t,e);return!o&&this.dayGrid&&(o=this.dayGrid.queryHit(t,e)),o},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,o,i=[],n=[],r=[];for(o=0;o<t.length;o++)t[o].allDay?i.push(t[o]):n.push(t[o]);e=this.timeGrid.renderEvents(n),this.dayGrid&&(r=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Ce={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+K(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Ee={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||K(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},De=5,_e=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Gt.agenda={"class":Me,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Gt.agendaDay={type:"agenda",duration:{days:1}},Gt.agendaWeek={type:"agenda",duration:{weeks:1}},Bt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e,s,a,l,u){function p(o,i){var r=i||[{message:o}];(e.googleCalendarError||t.noop).apply(u,r),(u.options.googleCalendarError||t.noop).apply(u,r),n.warn.apply(null,[o].concat(i||[]))}var h,c,d=i+"/"+encodeURIComponent(e.googleCalendarId)+"/events?callback=?",f=e.googleCalendarApiKey||u.options.googleCalendarApiKey,y=e.success;return f?(s.hasZone()||(s=s.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),l&&"local"!=l&&(c=l.replace(" ","_")),h=t.extend({},e.data||{},{key:f,timeMin:s.format(),timeMax:a.format(),timeZone:c,singleEvents:!0,maxResults:9999}),t.extend({},e,{googleCalendarId:null,url:d,data:h,startParam:!1,endParam:!1,timezoneParam:!1,success:function(e){var i,n,s=[];if(e.error)p("Google Calendar API: "+e.error.message,e.error.errors);else if(e.items&&(t.each(e.items,function(t,e){var i=e.htmlLink;c&&(i=o(i,"ctz="+c)),s.push({id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:i,location:e.location,description:e.description})}),i=[s].concat(Array.prototype.slice.call(arguments,1)),n=r(y,this,i),t.isArray(n)))return n;return s}})):(p("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function o(t,e){return t.replace(/(\?.*?)?(#|$)/,function(t,o,i){return(o?o+"&":"?")+e+i})}var i="https://www.googleapis.com/calendar/v3/calendars",n=t.fullCalendar,r=n.applyAll;n.sourceNormalizers.push(function(t){var e,o=t.googleCalendarId,i=t.url;!o&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?o=i:((e=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(e=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(o=decodeURIComponent(e[1])),o&&(t.googleCalendarId=o)),o&&(null==t.editable&&(t.editable=!1),t.url=o)}),n.sourceFetchers.push(function(t,o,i,n){if(t.googleCalendarId)return e(t,o,i,n,this)})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){!function(){"use strict";var t=(e.defineLocale||e.lang).call(e,"ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t){return 12>t?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return t}(),t.fullCalendar.datepickerLang("ja","ja",{
closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"}),t.fullCalendar.lang("ja",{buttonText:{month:"\u6708",week:"\u9031",day:"\u65e5",list:"\u4e88\u5b9a\u30ea\u30b9\u30c8"},allDayText:"\u7d42\u65e5",eventLimitText:function(t){return"\u4ed6 "+t+" \u4ef6"}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){var o,i,n,r,s,a,l,u,p,h,c,d,f,y,g,m,v,b,w,S,x,T,k,M,C,E,D,_,P,j,R,A,F,I,O,L,H,N,W,B,G,z,Y,U,V,q,$,X,K,J,Z,Q,tt,et,ot,it,nt,rt,st,at,lt,ut,pt,ht,ct,dt,ft,yt,gt,mt,vt,bt,wt,St,xt,Tt,kt,Mt,Ct,Et,Dt,_t,Pt,jt,Rt,At,Ft,It,Ot,Lt,Ht=[].slice,Nt=function(t,e){function o(){this.constructor=t}for(var i in e)Wt.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},Wt={}.hasOwnProperty;return h=t.fullCalendar,h.schedulerVersion="1.2.1",3!==h.internalApiVersion?void h.warn("v"+h.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+h.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(i=h.Calendar,r=h.Class,U=h.View,c=h.Grid,yt=h.intersectRanges,tt=h.debounce,vt=h.isInt,ht=h.getScrollbarWidths,l=h.DragListener,ft=h.htmlEscape,X=h.computeIntervalUnit,Pt=h.proxy,q=h.capitaliseFirstLetter,V=h.applyAll,u=h.Emitter,rt=h.durationHasTime,nt=h.divideRangeByDuration,it=h.divideDurationByDuration,St=h.multiplyDuration,Dt=h.parseFieldSpecs,$=h.compareByFieldSpecs,st=h.flexibleCompare,gt=h.intersectRects,s=h.CoordCache,at=function(t){return t.find("> td").filter(function(t,e){return e.rowSpan<=1})},Rt=null,xt=function(t,e){var o,i;if(o=t.css("direction"),i=t[0],null!=e){if("rtl"===o)switch(Rt){case"positive":e=e-i.clientWidth+i.scrollWidth;break;case"reverse":e=-e}return i.scrollLeft=e,t}if(e=i.scrollLeft,"rtl"===o)switch(Rt){case"positive":e=e+i.clientWidth-i.scrollWidth;break;case"reverse":e=-e}return e},pt=function(t){var e,o,i;if(e=t.css("direction"),o=t[0],i=o.scrollLeft,"rtl"===e)switch(Rt){case"negative":i=i-o.clientWidth+o.scrollWidth;break;case"reverse":i=-i-o.clientWidth+o.scrollWidth}return i},et=function(){var e,o,i;return e=t('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),o=e[0],i=o.scrollLeft>0?"positive":(o.scrollLeft=1,e.scrollLeft>0?"reverse":"negative"),e.remove(),i},t(function(){return Rt=et()}),N=function(){function e(e,o){this.overflowX=null!=e?e:"auto",this.overflowY=null!=o?o:"auto",this.el=t('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",Pt(this,"handleScroll")).on("scroll",tt(Pt(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return e.prototype.el=null,e.prototype.innerEl=null,e.prototype.contentEl=null,e.prototype.bgEl=null,e.prototype.overflowX=null,e.prototype.overflowY=null,e.prototype.isScrolling=!1,e.prototype.handlers=null,e.prototype.height=null,e.prototype.contentWidth=null,e.prototype.contentMinWidth=null,e.prototype.gutters=null,e.prototype.update=function(){var t,e,o,i,n,r,s;return r=this.scrollEl,i=this.overflowX,n=this.overflowY,e="invisible-scroll"===i,o="invisible-scroll"===n,r.toggleClass("fc-no-scrollbars",(e||"hidden"===i)&&(o||"hidden"===n)&&!dt(r)),r.css({overflowX:e?"scroll":i,overflowY:o?"scroll":n}),t={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(e||o)&&(s=ht(r),e&&(t.marginTop=-s.top,t.marginBottom=-s.bottom),o&&(t.marginLeft=-s.left,t.marginRight=-s.right)),r.css(t)},e.prototype.getScrollbarWidths=function(){var t;return t=ht(this.scrollEl),"invisible-scroll"===this.overflowX&&(t.top=0,t.bottom=0),"invisible-scroll"===this.overflowY&&(t.left=0,t.right=0),t},e.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},e.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},e.prototype.setHeight=function(t){return this.height=t,this.updateCss()},e.prototype.getHeight=function(){var t;return null!=(t=this.height)?t:this.scrollEl.height()},e.prototype.setContentWidth=function(t){return this.contentWidth=t,this.updateCss()},e.prototype.setContentMinWidth=function(t){return this.contentMinWidth=t,this.updateCss()},e.prototype.setGutters=function(e){return e?t.extend(this.gutters,e):this.gutters={},this.updateCss()},e.prototype.updateCss=function(){var t;return this.scrollEl.height(this.height),t=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(t.left||0)+(t.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(t.left||0)+(t.right||0):void 0,paddingLeft:t.left||"",paddingRight:t.right||"",paddingTop:t.top||"",paddingBottom:t.bottom||""}),this.bgEl.css({left:t.left||"",right:t.right||"",top:t.top||"",bottom:t.bottom||""})},e.prototype.append=function(t){return this.contentEl.append(t)},e.prototype.scrollTop=function(t){return this.scrollEl.scrollTop(t)},e.prototype.scrollLeft=function(t){return this.scrollEl.scrollLeft(t)},e.prototype.on=function(t,e){var o;return((o=this.handlers)[t]||(o[t]=[])).push(e),this},e.prototype.trigger=function(){var t,e,o,i,n,r;for(o=arguments[0],t=2<=arguments.length?Ht.call(arguments,1):[],r=this.handlers[o]||[],i=0,n=r.length;n>i;i++)e=r[i],e.apply(this,t)},e}(),dt=function(t){var e;return e=ht(t),e.left||e.right||e.top||e.bottom},H=function(){function t(t,e){var o,i,n,r;for(this.axis=t,this.scrollers=e,n=this.scrollers,o=0,i=n.length;i>o;o++)r=n[o],this.initScroller(r)}return t.prototype.axis=null,t.prototype.scrollers=null,t.prototype.masterScroller=null,t.prototype.enabled=!0,t.prototype.enable=function(){return this.enabled=!0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.initScroller=function(t){return t.on("scrollStart",function(e){return function(){e.masterScroller||(e.masterScroller=t)}}(this)).on("scroll",function(e){return function(o,i){var n,r,s,a;if(t===e.masterScroller)for(a=e.scrollers,n=0,r=a.length;r>n;n++)if(s=a[n],s!==e.masterScroller)switch(e.axis){case"horizontal":s.scrollLeft(i);break;case"vertical":s.scrollTop(o)}}}(this)).on("scrollStop",function(e){return function(){t===e.masterScroller&&(e.masterScroller=null)}}(this))},t.prototype.update=function(){var t,e,o,i,n,r,s,a,l,u,p,h,c;for(t=function(){var t,e,o,i;for(o=this.scrollers,i=[],t=0,e=o.length;e>t;t++)h=o[t],i.push(h.getScrollbarWidths());return i}.call(this),a=l=u=s=0,o=0,n=t.length;n>o;o++)c=t[o],a=Math.max(a,c.left),l=Math.max(l,c.right),u=Math.max(u,c.top),s=Math.max(s,c.bottom);for(p=this.scrollers,e=i=0,r=p.length;r>i;e=++i)h=p[e],c=t[e],h.setGutters("horizontal"===this.axis?{left:a-c.left,right:l-c.right}:{top:u-c.top,bottom:s-c.bottom})},t}(),O=function(){function e(t){this.scroller=t,this.sprites=[],this.scroller.on("scrollStart",function(t){return function(){return t.shouldRequeryDimensions?t.cacheDimensions():void 0}}(this)),this.scroller.on("scroll",function(t){return function(){var e,o,i;return o=t.scroller.scrollEl,e=pt(o),i=o.scrollTop(),t.viewportRect={left:e,right:e+o[0].clientWidth,top:i,bottom:i+o[0].clientHeight},t.updatePositions()}}(this))}return e.prototype.scroller=null,e.prototype.scrollbarWidths=null,e.prototype.sprites=null,e.prototype.viewportRect=null,e.prototype.contentOffset=null,e.prototype.isHFollowing=!0,e.prototype.isVFollowing=!1,e.prototype.containOnNaturalLeft=!1,e.prototype.containOnNaturalRight=!1,e.prototype.shouldRequeryDimensions=!1,e.prototype.minTravel=0,e.prototype.isForcedAbsolute=!1,e.prototype.isForcedRelative=!1,e.prototype.setSprites=function(e){var o,i,n;if(this.clearSprites(),e instanceof t)return this.sprites=function(){var o,i,r;for(r=[],o=0,i=e.length;i>o;o++)n=e[o],r.push(new L(t(n),this));return r}.call(this);for(o=0,i=e.length;i>o;o++)n=e[o],n.follower=this;return this.sprites=e},e.prototype.clearSprites=function(){var t,e,o,i;for(o=this.sprites,t=0,e=o.length;e>t;t++)i=o[t],i.clear();return this.sprites=[]},e.prototype.cacheDimensions=function(){var t,e,o,i,n,r,s;for(n=this.scroller.scrollEl,e=pt(n),s=n.scrollTop(),this.viewportRect={left:e,right:e+n[0].clientWidth,top:s,bottom:s+n[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),i=this.sprites,t=0,o=i.length;o>t;t++)r=i[t],r.cacheDimensions()},e.prototype.forceAbsolute=function(){var t,e,o,i,n;for(this.isForcedAbsolute=!0,o=this.sprites,i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(n.doAbsolute?void 0:n.assignPosition());return i},e.prototype.forceRelative=function(){var t,e,o,i,n;for(this.isForcedRelative=!0,o=this.sprites,i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(n.doAbsolute?n.assignPosition():void 0);return i},e.prototype.clearForce=function(){var t,e,o,i,n;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,o=this.sprites,i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(n.assignPosition());return i},e.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},e.prototype.updatePositions=function(){var t,e,o,i;for(o=this.sprites,t=0,e=o.length;e>t;t++)i=o[t],i.updatePosition()},e.prototype.getContentRect=function(t){var e,o,i;return o=t.offset(),e=o.left+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.left,i=o.top+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.top,{left:e,right:e+t.width(),top:i,bottom:i+t.height()}},e.prototype.getBoundingRect=function(t){var e,o,i;return o=t.offset(),e=o.left-this.contentOffset.left,i=o.top-this.contentOffset.top,{left:e,right:e+t.outerWidth(),top:i,bottom:i+t.outerHeight()}},e}(),L=function(){function t(t,e){this.el=t,this.follower=null!=e?e:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return t.prototype.follower=null,t.prototype.el=null,t.prototype.absoluteEl=null,t.prototype.naturalRect=null,t.prototype.parentRect=null,t.prototype.containerRect=null,t.prototype.isEnabled=!0,t.prototype.isHFollowing=!1,t.prototype.isVFollowing=!1,t.prototype.doAbsolute=!1,t.prototype.isAbsolute=!1,t.prototype.isCentered=!1,t.prototype.rect=null,t.prototype.isBlock=!1,t.prototype.naturalWidth=null,t.prototype.disable=function(){return this.isEnabled?(this.isEnabled=!1,this.resetPosition(),this.unabsolutize()):void 0},t.prototype.enable=function(){return this.isEnabled?void 0:(this.isEnabled=!0,this.assignPosition())},t.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},t.prototype.cacheDimensions=function(){var t,e,o,i,n,r,s,a;return i=!1,n=!1,o=!1,this.naturalWidth=this.el.width(),this.resetPosition(),e=this.follower,s=this.naturalRect=e.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=e.getBoundingRect(a),t=this.containerRect=wt(e.getContentRect(a),s),r=e.minTravel,e.containOnNaturalLeft&&(t.left=s.left),e.containOnNaturalRight&&(t.right=s.right),e.isHFollowing&&ut(t)-ut(s)>=r&&(o="center"===this.el.css("text-align"),i=!0),e.isVFollowing&&lt(t)-lt(s)>=r&&(n=!0),this.isHFollowing=i,this.isVFollowing=n,this.isCentered=o},t.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},t.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},t.prototype.computePosition=function(){var t,e,o,i,n,r,s,a;return s=this.follower.viewportRect,o=this.parentRect,t=this.containerRect,a=gt(s,o),i=null,e=!1,a&&(i=Z(this.naturalRect),r=gt(i,o),(this.isCentered&&!At(s,o)||r&&!At(s,r))&&(e=!0,this.isHFollowing&&(this.isCentered?(n=ut(i),i.left=(a.left+a.right)/2-n/2,i.right=i.left+n):ct(i,s)||(e=!1),ct(i,t)&&(e=!1)),this.isVFollowing&&(Lt(i,s)||(e=!1),Lt(i,t)&&(e=!1)),At(s,i)||(e=!1))),this.rect=i,this.doAbsolute=e},t.prototype.assignPosition=function(){var t,e;return this.isEnabled?this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(e=this.rect.top-this.naturalRect.top,t=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(e||t)).css({top:e,left:t})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize():void 0},t.prototype.absolutize=function(){return this.isAbsolute?void 0:(this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0)},t.prototype.unabsolutize=function(){return this.isAbsolute?(this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1):void 0},t.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},t}(),Z=function(t){return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},ut=function(t){return t.right-t.left},lt=function(t){return t.bottom-t.top},At=function(t,e){return Ft(t,e)&&It(t,e)},Ft=function(t,e){return e.left>=t.left&&e.right<=t.right},It=function(t,e){return e.top>=t.top&&e.bottom<=t.bottom},ct=function(t,e){return t.left<e.left?(t.right=e.left+ut(t),t.left=e.left,!0):t.right>e.right&&(t.left=e.right-ut(t),t.right=e.right,!0)},Lt=function(t,e){return t.top<e.top?(t.bottom=e.top+lt(t),t.top=e.top,!0):t.bottom>e.bottom&&(t.top=e.bottom-lt(t),t.bottom=e.bottom,!0)},wt=function(t,e){return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom)}},n=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.resourceManager=null,o.prototype.initialize=function(){return this.resourceManager=new C(this)},o.prototype.instantiateView=function(t){var e,o;return e=this.getViewSpec(t),o=e["class"],this.options.resources&&e.options.resources!==!1&&(e.queryResourceClass?o=e.queryResourceClass(e)||o:e.resourceClass&&(o=e.resourceClass)),new o(this,t,e.options,e.duration)},o.prototype.getResources=function(){return this.resourceManager.topLevelResources},o.prototype.addResource=function(t,e){var o;null==e&&(e=!1),o=this.resourceManager.addResource(t),e&&this.view.scrollToResource&&o.done(function(t){return function(e){return t.view.scrollToResource(e)}}(this))},o.prototype.removeResource=function(t){return this.resourceManager.removeResource(t)},o.prototype.refetchResources=function(){this.resourceManager.fetchResources()},o.prototype.rerenderResources=function(){this.resourceManager.resetResources()},o.prototype.getPeerEvents=function(t,e){var i,n,r,s,a,l,u,p,h,c,d,f,y,g;for(f=o.__super__.getPeerEvents.apply(this,arguments),c=t.resourceId?[t.resourceId]:e?this.getEventResourceIds(e):[],i=[],r=0,l=f.length;l>r;r++){if(d=f[r],n=!1,g=this.getEventResourceIds(d),g.length&&c.length){for(s=0,u=g.length;u>s;s++)for(y=g[s],a=0,p=c.length;p>a;a++)if(h=c[a],h===y){n=!0;break}}else n=!0;n&&i.push(d)}return i},o.prototype.buildSelectSpan=function(t,e,i){var n;return n=o.__super__.buildSelectSpan.apply(this,arguments),i&&(n.resourceId=i),n},o.prototype.getResourceById=function(t){return this.resourceManager.getResourceById(t)},o.prototype.getEventResourceId=function(t){return this.getEventResourceIds(t)[0]},o.prototype.getEventResourceIds=function(t){var e,o,i,n,r,s,a,l;if(l=String(null!=(r=null!=(s=t[this.getEventResourceField()])?s:t.resourceId)?r:""))return[l];if(t.resourceIds){for(n=[],a=t.resourceIds,e=0,o=a.length;o>e;e++)l=a[e],i=String(null!=l?l:""),i&&n.push(i);return n}return[]},o.prototype.setEventResourceId=function(t,e){return t[this.getEventResourceField()]=String(null!=e?e:"")},o.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},o.prototype.getResourceEvents=function(e){var o;return o="object"==typeof e?e:this.getResourceById(e),o?this.clientEvents(function(e){return function(i){return-1!==t.inArray(o.id,e.getEventResourceIds(i))}}(this)):[]},o.prototype.getEventResource=function(t){return this.getEventResources(t)[0]},o.prototype.getEventResources=function(t){var e,o,i,n,r,s,a;if(e="object"==typeof t?t:this.clientEvents(t)[0],a=[],e)for(n=this.getEventResourceIds(e),o=0,i=n.length;i>o;o++)s=n[o],r=this.getResourceById(s),r&&a.push(r);return a},o}(i),i.prototype=n.prototype,kt=U.prototype.displayView,Ct=U.prototype.renderSkeleton,Et=U.prototype.unrenderSkeleton,Tt=U.prototype.displayEvents,U.prototype.isResourcesBound=!1,U.prototype.settingResources=null,U.prototype.displayView=function(){return kt.apply(this,arguments),_t(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},U.prototype.unrenderSkeleton=function(){return Et.apply(this,arguments),this.unbindResources()},U.prototype.displayEvents=function(t){return this.whenResources(function(e){return function(){return Tt.call(e,t)}}(this))},U.prototype.bindResources=function(){var e;return this.isResourcesBound?void 0:(this.isResourcesBound=!0,this.settingResources=t.Deferred(),e=function(t){return function(e){return t.setResources(e),t.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=e).on("unset",this._unsetResources=Pt(this,"unsetResources")).on("reset",this._resetResources=Pt(this,"resetResources")).on("add",this._addResource=Pt(this,"addResource")).on("remove",this._removeResource=Pt(this,"removeResource")),this.calendar.resourceManager.hasFetched()?e(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources())},U.prototype.unbindResources=function(){return this.isResourcesBound?(this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1):void 0},U.prototype.whenResources=function(e){return"resolved"===this.settingResources.state()?t.when(e?e():void 0):e?this.settingResources.then(e):this.settingResources.promise()},U.prototype.setResources=function(){},U.prototype.unsetResources=function(){},U.prototype.resetResources=function(){return this.calendar.rerenderEvents()},U.prototype.addResource=function(){return this.resetResources(this.calendar.resourceManager.topLevelResources)},U.prototype.removeResource=function(){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Mt=c.prototype.getSegClasses,c.prototype.getSegClasses=function(t){var e,o,i,n,r;for(e=Mt.apply(this,arguments),n=this.getSegResources(t),o=0,i=n.length;i>o;o++)r=n[o],e=e.concat(r.eventClassName||[]);return e},c.prototype.getSegSkinCss=function(t){var e,o,i,n,r,s,a,l,u,p;return p=this.view,e=t.event,l=e.source||{},o=e.color,u=l.color,s=p.opt("eventColor"),a=this.getSegResources(t),i=function(){var t,e,o,i;for(i=null,e=0,o=a.length;o>e;e++)for(t=a[e];t&&!i;)i=t.eventBackgroundColor||t.eventColor,t=t._parent;return i},n=function(){var t,e,o,i;for(i=null,e=0,o=a.length;o>e;e++)for(t=a[e];t&&!i;)i=t.eventBorderColor||t.eventColor,t=t._parent;return i},r=function(){var t,e,o,i;for(i=null,e=0,o=a.length;o>e;e++)for(t=a[e];t&&!i;)i=t.eventTextColor,t=t._parent;return i},{"background-color":e.backgroundColor||o||i()||l.backgroundColor||u||p.opt("eventBackgroundColor")||s,"border-color":e.borderColor||o||n()||l.borderColor||u||p.opt("eventBorderColor")||s,color:e.textColor||r()||l.textColor||p.opt("eventTextColor")}},c.prototype.getSegResources=function(t){return t.resource?[t.resource]:this.view.calendar.getEventResources(t.event)},C=function(e){function o(t){this.calendar=t,this.initializeCache()}return Nt(o,e),o.mixin(u),o.resourceGuid=1,o.ajaxDefaults={dataType:"json",cache:!1},o.prototype.calendar=null,o.prototype.topLevelResources=null,o.prototype.resourcesById=null,o.prototype.fetching=null,o.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},o.prototype.getResources=function(){var e;return this.fetching?t.Deferred().resolve(this.topLevelResources).promise():(e=t.Deferred(),this.fetchResources().done(function(t){return e.resolve(t)}).fail(function(){return e.resolve([])}),e)},o.prototype.fetchResources=function(){var e;return e=this.fetching,t.when(e).then(function(t){return function(){return t.fetching=t.fetchResourceInputs().then(function(o){return t.setResources(o,Boolean(e)),t.topLevelResources})}}(this))},o.prototype.fetchResourceInputs=function(){var e,i,n;switch(e=t.Deferred(),n=this.calendar.options.resources,"string"===t.type(n)&&(n={url:n}),t.type(n)){case"function":n(function(){return function(t){return e.resolve(t)}}(this));break;case"object":i=t.ajax(t.extend({},o.ajaxDefaults,n));break;case"array":e.resolve(n);break;default:e.resolve([])}return i||(i=e.promise()),"pending"===!i.state()&&(this.calendar.pushLoading(),i.always(function(){return this.calendar.popLoading()})),i},o.prototype.resetResources=function(){return this.getResources().then(function(t){return function(){return t.trigger("reset",t.topLevelResources)}}(this))},o.prototype.getResourceById=function(t){return this.resourcesById[t]},o.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},o.prototype.setResources=function(t,e){var o,i,n,r,s,a;for(this.initializeCache(),s=function(){var e,o,i;for(i=[],e=0,o=t.length;o>e;e++)r=t[e],i.push(this.buildResource(r));return i}.call(this),a=function(){var t,e,o;for(o=[],t=0,e=s.length;e>t;t++)n=s[t],this.addResourceToIndex(n)&&o.push(n);return o}.call(this),o=0,i=a.length;i>o;o++)n=a[o],this.addResourceToTree(n);return e?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},o.prototype.addResource=function(e){return t.when(this.fetching).then(function(t){return function(){var o;return o=t.buildResource(e),!!t.addResourceToIndex(o)&&(t.addResourceToTree(o),t.trigger("add",o),o)}}(this))},o.prototype.addResourceToIndex=function(t){var e,o,i,n;if(this.resourcesById[t.id])return!1;for(this.resourcesById[t.id]=t,n=t.children,o=0,i=n.length;i>o;o++)e=n[o],this.addResourceToIndex(e);return!0},o.prototype.addResourceToTree=function(t){var e,o,i,n;if(!t.parent){if(o=String(null!=(i=t.parentId)?i:"")){if(e=this.resourcesById[o],!e)return!1;t.parent=e,n=e.children}else n=this.topLevelResources;n.push(t)}return!0},o.prototype.removeResource=function(e){var o;return o="object"==typeof e?e.id:e,t.when(this.fetching).then(function(t){return function(){var e;return e=t.removeResourceFromIndex(o),e&&(t.removeResourceFromTree(e),t.trigger("remove",e)),e}}(this))},o.prototype.removeResourceFromIndex=function(t){var e,o,i,n,r;if(r=this.resourcesById[t]){for(delete this.resourcesById[t],n=r.children,o=0,i=n.length;i>o;o++)e=n[o],this.removeResourceFromIndex(e.id);return r}return!1},o.prototype.removeResourceFromTree=function(t,e){var o,i,n,r;for(null==e&&(e=this.topLevelResources),o=i=0,n=e.length;n>i;o=++i){if(r=e[o],r===t)return t.parent=null,e.splice(o,1),!0;if(this.removeResourceFromTree(t,r.children))return!0}return!1},o.prototype.buildResource=function(e){var i,n,r,s,a;return a=t.extend({},e),a.id=String(null!=(s=e.id)?s:"_fc"+o.resourceGuid++),r=e.eventClassName,a.eventClassName=function(){switch(t.type(r)){case"string":return r.split(/\s+/);case"array":return r;default:return[]}}(),a.children=function(){var t,o,r,s,l;for(s=null!=(r=e.children)?r:[],l=[],t=0,o=s.length;o>t;t++)n=s[t],i=this.buildResource(n),i.parent=a,l.push(i);return l}.call(this),a},o}(r),R=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.resourceTextFunc=null,o.prototype.unsetResources=function(){return this.clearEvents()},o.prototype.resetResources=function(t){var e;return e=this.queryScroll(),this.unsetResources(),this.setResources(t),this.setScroll(e),this.calendar.rerenderEvents()},o.prototype.getResourceText=function(t){return this.getResourceTextFunc()(t)},o.prototype.getResourceTextFunc=function(){var t;return this.resourceTextFunc?this.resourceTextFunc:(t=this.opt("resourceText"),"function"!=typeof t&&(t=function(t){return t.title||t.id}),this.resourceTextFunc=t)},o.prototype.triggerDayClick=function(t,e,o){var i;return i=this.calendar.resourceManager,this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),o,this,i.getResourceById(t.resourceId))},o.prototype.triggerSelect=function(t,e){var o;return o=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e,this,o.getResourceById(t.resourceId))},o.prototype.triggerExternalDrop=function(t,e,o,i,n){return this.trigger("drop",o[0],e.start,i,n,e.resourceId),t?this.trigger("eventReceive",null,t):void 0},o.prototype.reportEventDrop=function(){var t,e,i;return e=arguments[0],t=arguments[1],i=3<=arguments.length?Ht.call(arguments,2):[],t=this.normalizeDropLocation(t),t.resourceId&&e.resourceIds&&(t.resourceIds=null),o.__super__.reportEventDrop.apply(this,[e,t].concat(Ht.call(i)))},o.prototype.reportExternalDrop=function(){var t,e,i;return e=arguments[0],t=arguments[1],i=3<=arguments.length?Ht.call(arguments,2):[],t=this.normalizeDropLocation(t),o.__super__.reportExternalDrop.apply(this,[e,t].concat(Ht.call(i)))},o.prototype.normalizeDropLocation=function(e){var o;return o=t.extend({},e),delete o.resourceId,this.calendar.setEventResourceId(o,e.resourceId),o},o}(U),M=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.allowCrossResource=!0,o.prototype.eventRangeToSpans=function(e,i){var n,r,s,a,l;if(a=this.view.calendar.getEventResourceIds(i),a.length){for(l=[],n=0,r=a.length;r>n;n++)s=a[n],l.push(t.extend({},e,{resourceId:s}));return l}return h.isBgEvent(i)?o.__super__.eventRangeToSpans.apply(this,arguments):[]},o.prototype.fabricateHelperEvent=function(t){var e;return e=o.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(e,t.resourceId),e},o.prototype.computeEventDrop=function(t,e){var i,n;return i=!0,i||t.resourceId===e.resourceId?(n=o.__super__.computeEventDrop.apply(this,arguments),n&&(n.resourceId=e.resourceId),n):null},o.prototype.computeExternalDrop=function(t){var e;return e=o.__super__.computeExternalDrop.apply(this,arguments),e&&(e.resourceId=t.resourceId),e},o.prototype.computeEventResize=function(t,e,i){var n;if(this.allowCrossResource||e.resourceId===i.resourceId)return n=o.__super__.computeEventResize.apply(this,arguments),n&&(n.resourceId=e.resourceId),n},o.prototype.computeSelectionSpan=function(t,e){var i;if(this.allowCrossResource||t.resourceId===e.resourceId)return i=o.__super__.computeSelectionSpan.apply(this,arguments),i&&(i.resourceId=t.resourceId),i},o}(c),k={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(t){return this.flattenedResources=this.flattenResources(t),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(t){var e,o,i,n;return o=this.view.opt("resourceOrder"),o?(e=Dt(o),n=function(t,o){return $(t,o,e)}):n=null,i=[],this.accumulateResources(t,n,i),i},accumulateResources:function(t,e,o){var i,n,r,s,a;for(e?(a=t.slice(0),a.sort(e)):a=t,s=[],i=0,n=a.length;n>i;i++)r=a[i],o.push(r),s.push(this.accumulateResources(r.children,e,o));return s},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),h.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?Math.floor(t/(this.resourceCnt||1)):t%this.daysPerRow},getColResource:function(t){return this.flattenedResources[this.getColResourceIndex(t)]},getColResourceIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?t%(this.resourceCnt||1):Math.floor(t/this.daysPerRow)},indicesToCol:function(t,e){var o;return o=this.datesAboveResources?e*(this.resourceCnt||1)+t:t*this.daysPerRow+e,this.isRTL&&(o=this.colCnt-1-o),o},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():h.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var t,e,o,i,n;for(n=[],o=this.flattenedResources,t=0,e=o.length;e>t;t++)i=o[t],n.push(this.renderHeadResourceCellHtml(i));return this.wrapTr(n,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var t,e,o,i,n,r,s,a,l,u;for(u=[],e=[],s=this.flattenedResources,i=0,r=s.length;r>i;i++)for(l=s[i],u.push(this.renderHeadResourceCellHtml(l,null,this.daysPerRow)),o=n=0,a=this.daysPerRow;a>n;o=n+=1)t=this.dayDates[o].clone(),e.push(this.renderHeadResourceDateCellHtml(t,l));return this.wrapTr(u,"renderHeadIntroHtml")+this.wrapTr(e,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var t,e,o,i,n,r,s,a,l,u;for(e=[],u=[],o=i=0,s=this.daysPerRow;s>i;o=i+=1)for(t=this.dayDates[o].clone(),e.push(this.renderHeadDateCellHtml(t,this.resourceCnt)),a=this.flattenedResources,n=0,r=a.length;r>n;n++)l=a[n],u.push(this.renderHeadResourceCellHtml(l,t));return this.wrapTr(e,"renderHeadIntroHtml")+this.wrapTr(u,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(t,e,o){return'<th class="fc-resource-cell" data-resource-id="'+t.id+'"'+(e?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(o>1?' colspan="'+o+'"':"")+">"+ft(this.view.getResourceText(t))+"</th>"},renderHeadResourceDateCellHtml:function(t,e,o){return this.renderHeadDateCellHtml(t,o,'data-resource-id="'+e.id+'"')},processHeadResourceEls:function(e){return e.find(".fc-resource-cell").each(function(e){return function(o,i){var n;return n=e.datesAboveResources?e.getColResource(o):e.flattenedResources[e.isRTL?e.flattenedResources.length-1-o:o],e.view.trigger("resourceRender",n,n,t(i),t())}}(this))},renderBgCellsHtml:function(t){var e,o,i,n,r,s;if(this.resourceCnt){for(i=[],e=n=0,r=this.colCnt;r>n;e=n+=1)o=this.getCellDate(t,e),s=this.getColResource(e),i.push(this.renderResourceBgCellHtml(o,s));return i.join("")}return h.DayTableMixin.renderBgCellsHtml.call(this,t)},renderResourceBgCellHtml:function(t,e){return this.renderBgCellHtml(t,'data-resource-id="'+e.id+'"')},wrapTr:function(t,e){return this.isRTL?(t.reverse(),"<tr>"+t.join("")+this[e]()+"</tr>"):"<tr>"+this[e]()+t.join("")+"</tr>"}},T=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.mixin(M),o.mixin(k),o.prototype.getHitSpan=function(t){var e;return e=o.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},o.prototype.spanToSegs=function(e){var o,i,n,r,s,a,l,u,p,h,c,d,f;if(p=this.resourceCnt,i=this.datesAboveResources?this.sliceRangeByDay(e):this.sliceRangeByRow(e),p){for(d=[],r=0,l=i.length;l>r;r++)for(f=i[r],h=s=0,u=p;u>s;h=s+=1)c=this.flattenedResources[h],e.resourceId&&e.resourceId!==c.id||(o=t.extend({},f),o.resource=c,this.isRTL?(o.leftCol=this.indicesToCol(h,f.lastRowDayIndex),o.rightCol=this.indicesToCol(h,f.firstRowDayIndex)):(o.leftCol=this.indicesToCol(h,f.firstRowDayIndex),
o.rightCol=this.indicesToCol(h,f.lastRowDayIndex)),d.push(o));return d}for(n=0,a=i.length;a>n;n++)f=i[n],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return i},o}(h.DayGrid),_=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.mixin(M),o.mixin(k),o.prototype.getHitSpan=function(t){var e;return e=o.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},o.prototype.spanToSegs=function(e){var o,i,n,r,s,a,l,u,p,h,c,d,f;if(p=this.resourceCnt,i=this.sliceRangeByTimes(e),p){for(d=[],r=0,l=i.length;l>r;r++)for(f=i[r],h=s=0,u=p;u>s;h=s+=1)c=this.flattenedResources[h],e.resourceId&&e.resourceId!==c.id||(o=t.extend({},f),o.resource=c,o.col=this.indicesToCol(h,f.dayIndex),d.push(o));return d}for(n=0,a=i.length;a>n;n++)f=i[n],f.col=f.dayIndex;return i},o}(h.TimeGrid),G=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nt(e,t),e.prototype.timeGrid=null,e.prototype.isScrolled=!1,e.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},e.prototype.instantiateGrid=function(){return new B(this)},e.prototype.setRange=function(t){return e.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(t)},e.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},e.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},e.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Pt(this,"handleBodyScroll"))},e.prototype.handleBodyScroll=function(t){if(t){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},e.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),e.__super__.unrenderSkeleton.apply(this,arguments)},e.prototype.renderDates=function(){return this.timeGrid.renderDates()},e.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},e.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},e.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.renderNowIndicator=function(t){return this.timeGrid.renderNowIndicator(t)},e.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},e.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},e.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},e.prototype.queryHit=function(t,e){return this.timeGrid.queryHit(t,e)},e.prototype.getHitSpan=function(t){return this.timeGrid.getHitSpan(t)},e.prototype.getHitEl=function(t){return this.timeGrid.getHitEl(t)},e.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},e.prototype.setHeight=function(t,e){var o;return o=e?"auto":t-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(o)},e.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},e.prototype.computeInitialScroll=function(t){return this.timeGrid.computeInitialScroll(t)},e.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},e.prototype.setScroll=function(t){return this.timeGrid.setScroll(t)},e.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.updateWidth()},e.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},e.prototype.renderDrag=function(t,e){return this.timeGrid.renderDrag(t,e)},e.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},e.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},e.prototype.renderSelection=function(t){return this.timeGrid.renderSelection(t)},e.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},e}(U),Q=h.cssToStr,B=function(o){function i(){var t;i.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=e.duration(this.opt("minTime")||"00:00"),this.maxTime=e.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(t=this.opt("snapDuration"))?e.duration(t):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=it(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Nt(i,o),i.prototype.slotDates=null,i.prototype.slotCnt=null,i.prototype.snapCnt=null,i.prototype.snapsPerSlot=null,i.prototype.snapDiffToIndex=null,i.prototype.snapIndexToDiff=null,i.prototype.headEl=null,i.prototype.slatContainerEl=null,i.prototype.slatEls=null,i.prototype.containerCoordCache=null,i.prototype.slatCoordCache=null,i.prototype.slatInnerCoordCache=null,i.prototype.headScroller=null,i.prototype.bodyScroller=null,i.prototype.joiner=null,i.prototype.follower=null,i.prototype.eventTitleFollower=null,i.prototype.minTime=null,i.prototype.maxTime=null,i.prototype.timeWindowMs=null,i.prototype.slotDuration=null,i.prototype.snapDuration=null,i.prototype.duration=null,i.prototype.labelInterval=null,i.prototype.headerFormats=null,i.prototype.isTimeScale=null,i.prototype.largeUnit=null,i.prototype.emphasizeWeeks=!1,i.prototype.titleFollower=null,i.prototype.segContainerEl=null,i.prototype.segContainerHeight=null,i.prototype.bgSegContainerEl=null,i.prototype.helperEls=null,i.prototype.innerEl=null,i.prototype.opt=function(t){return this.view.opt(t)},i.prototype.isValidDate=function(t){var e;return!this.view.isHiddenDay(t)&&(!this.isTimeScale||(e=t.time()-this.minTime,e=(e%864e5+864e5)%864e5,e<this.timeWindowMs))},i.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},i.prototype.computeDisplayEventEnd=function(){return!1},i.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},i.prototype.normalizeGridDate=function(t){var e;return this.isTimeScale?(e=t.clone(),e.hasTime()||e.time(0)):(e=t.clone().stripTime(),this.largeUnit&&e.startOf(this.largeUnit)),e},i.prototype.normalizeGridRange=function(t){var e,o;return this.isTimeScale?o={start:this.normalizeGridDate(t.start),end:this.normalizeGridDate(t.end)}:(o=this.view.computeDayRange(t),this.largeUnit&&(o.start.startOf(this.largeUnit),e=o.end.clone().startOf(this.largeUnit),e.isSame(o.end)&&e.isAfter(o.start)||e.add(this.slotDuration),o.end=e)),o},i.prototype.rangeUpdated=function(){var t,e;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),e=[],t=this.start.clone();t<this.end;)this.isValidDate(t)&&e.push(t.clone()),t.add(this.slotDuration);return this.slotDates=e,this.updateGridDates()},i.prototype.updateGridDates=function(){var t,e,o,i,n;for(i=-1,e=0,o=[],n=[],t=this.start.clone();t<this.end;)this.isValidDate(t)?(i++,o.push(i),n.push(e)):o.push(i+.5),t.add(this.snapDuration),e++;return this.snapDiffToIndex=o,this.snapIndexToDiff=n,this.snapCnt=i+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},i.prototype.spanToSegs=function(t){var e,o;return e=this.normalizeGridRange(t),this.computeDateSnapCoverage(t.start)<this.computeDateSnapCoverage(t.end)&&(o=yt(e,this))?(o.isStart&&!this.isValidDate(o.start)&&(o.isStart=!1),o.isEnd&&o.end&&!this.isValidDate(o.end.clone().subtract(1))&&(o.isEnd=!1),[o]):[]},i.prototype.prepareHits=function(){return this.buildCoords()},i.prototype.queryHit=function(t,e){var o,i,n,r,s,a,l,u,p,h,c,d;return d=this.snapsPerSlot,r=this.slatCoordCache,o=this.containerCoordCache,null!=o.getVerticalIndex(e)&&(s=r.getHorizontalIndex(t),null!=s)?(u=r.getWidth(s),this.isRTL?(l=r.getRightOffset(s),n=(l-t)/u,i=Math.floor(n*d),p=s*d+i,c=l-i/d*u,h=c-(i+1)/d*u):(a=r.getLeftOffset(s),n=(t-a)/u,i=Math.floor(n*d),p=s*d+i,h=a+i/d*u,c=a+(i+1)/d*u),{snap:p,component:this,left:h,right:c,top:o.getTopOffset(0),bottom:o.getBottomOffset(0)}):void 0},i.prototype.getHitSpan=function(t){return this.getSnapRange(t.snap)},i.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},i.prototype.getSnapRange=function(t){var e,o;return o=this.start.clone(),o.add(St(this.snapDuration,this.snapIndexToDiff[t])),e=o.clone().add(this.snapDuration),{start:o,end:e}},i.prototype.getSnapEl=function(t){return this.slatEls.eq(Math.floor(t/this.snapsPerSlot))},i.prototype.renderSkeleton=function(){return this.headScroller=new N("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new N,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=t('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=t('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new s({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new H("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new O(this.headScroller),this.eventTitleFollower=new O(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,i.__super__.renderSkeleton.apply(this,arguments)},i.prototype.headColEls=null,i.prototype.slatColEls=null,i.prototype.renderDates=function(){var t,e,o,i,n;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new s({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new s({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),n=this.slotDates,e=o=0,i=n.length;i>o;e=++o)t=n[e],this.view.trigger("dayRender",null,t,this.slatEls.eq(e));return this.follower?this.follower.setSprites(this.headEl.find("tr:not(:last-child) span")):void 0},i.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},i.prototype.renderHeadHtml=function(){var t,e,o,i,n,r,s,a,l,u,p,h,c,d,f,y,g,m,v,b,w,S,x,T,k,M,C,E,D,_,P,j,R,A,F,I,O;for(y=this.labelInterval,r=this.headerFormats,e=function(){var t,e,o;for(o=[],t=0,e=r.length;e>t;t++)n=r[t],o.push([]);return o}(),g=null,D=null,F=this.slotDates,A=[],c=0,m=F.length;m>c;c++){for(o=F[c],O=o.week(),h=this.emphasizeWeeks&&null!==D&&D!==O,P=d=0,v=r.length;v>d;P=++d)n=r[P],j=e[P],g=j[j.length-1],p=r.length>1&&P<r.length-1,C=null,p?(I=o.format(n),i=o.format(),g&&g.text===I?g.colspan+=1:C={text:I,dateData:i,colspan:1}):!g||vt(nt(this.start,o,y))?(I=o.format(n),i=o.format(),C={text:I,dateData:i,colspan:1}):g.colspan+=1,C&&(C.weekStart=h,j.push(C));A.push({weekStart:h}),D=O}for(l=y>this.slotDuration,s="<table>",s+="<colgroup>",f=0,b=F.length;b>f;f++)o=F[f],s+="<col/>";for(s+="</colgroup>",s+="<tbody>",a=k=0,w=e.length;w>k;a=++k){for(j=e[a],u=a===e.length-1,s+="<tr"+(l&&u?' class="fc-chrono"':"")+">",M=0,S=j.length;S>M;M++)t=j[M],s+='<th class="'+this.view.widgetHeaderClass+" "+(t.weekStart?"fc-em-cell":"")+'" data-date="'+t.dateData+'"'+(t.colspan>1?' colspan="'+t.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+ft(t.text)+"</span></div></th>";s+="</tr>"}for(s+="</tbody></table>",R="<table>",R+="<colgroup>",E=0,x=A.length;x>E;E++)t=A[E],R+="<col/>";for(R+="</colgroup>",R+="<tbody><tr>",a=_=0,T=A.length;T>_;a=++_)t=A[a],o=F[a],R+=this.slatCellHtml(o,t.weekStart);return R+="</tr></tbody></table>",this._slatHtml=R,s},i.prototype.renderSlatHtml=function(){return this._slatHtml},i.prototype.slatCellHtml=function(t,e){var o;return this.isTimeScale?(o=[],o.push(vt(nt(this.start,t,this.labelInterval))?"fc-major":"fc-minor")):(o=this.getDayClasses(t),o.push("fc-day")),o.unshift(this.view.widgetContentClass),e&&o.push("fc-em-cell"),'<td class="'+o.join(" ")+'" data-date="'+t.format()+'"><div /></td>'},i.prototype.businessHourSegs=null,i.prototype.renderBusinessHours=function(){var t,e;return this.largeUnit?void 0:(t=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),e=this.businessHourSegs=this.eventsToSegs(t),this.renderFill("businessHours",e,"bgevent"))},i.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},i.prototype.nowIndicatorEls=null,i.prototype.getNowIndicatorUnit=function(){return this.isTimeScale?X(this.slotDuration):void 0},i.prototype.renderNowIndicator=function(e){var o,i,n;return n=[],e=this.normalizeGridDate(e),e>=this.start&&e<this.end&&(o=this.dateToCoord(e),i=this.isRTL?{right:-o}:{left:o},n.push(t("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(i).appendTo(this.headScroller.innerEl)[0]),n.push(t("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(i).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=t(n)},i.prototype.unrenderNowIndicator=function(){return this.nowIndicatorEls?(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null):void 0},i.prototype.explicitSlotWidth=null,i.prototype.defaultSlotWidth=null,i.prototype.updateWidth=function(){var t,e,o,i,n;return n=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),o=n*this.slotDates.length,e="",i=n,t=this.bodyScroller.scrollEl[0].clientWidth,t>o&&(e=t,o="",i=Math.floor(t/this.slotDates.length)),this.headScroller.setContentWidth(o),this.headScroller.setContentMinWidth(e),this.bodyScroller.setContentWidth(o),this.bodyScroller.setContentMinWidth(e),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(i),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower?this.eventTitleFollower.update():void 0},i.prototype.computeSlotWidth=function(){var e,o,i,n,r,s;return i=0,o=this.headEl.find("tr:last-child th span"),o.each(function(e,o){var n;return n=t(o).outerWidth(),i=Math.max(i,n)}),e=i+1,s=it(this.labelInterval,this.slotDuration),r=Math.ceil(e/s),n=this.headColEls.eq(0).css("min-width"),n&&(n=parseInt(n,10),n&&(r=Math.max(r,n))),r},i.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},i.prototype.computeDateSnapCoverage=function(t){var e,o,i;return o=nt(this.start,t,this.snapDuration),0>o?0:o>=this.snapDiffToIndex.length?this.snapCnt:(i=Math.floor(o),e=this.snapDiffToIndex[i],vt(e)?e+=o-i:e=Math.ceil(e),e)},i.prototype.dateToCoord=function(t){var e,o,i,n,r;return r=this.computeDateSnapCoverage(t),i=r/this.snapsPerSlot,n=Math.floor(i),n=Math.min(n,this.slotCnt-1),o=i-n,e=this.slatInnerCoordCache,this.isRTL?e.getRightPosition(n)-e.getWidth(n)*o-this.containerCoordCache.getWidth(0):e.getLeftPosition(n)+e.getWidth(n)*o},i.prototype.rangeToCoords=function(t){return this.isRTL?{right:this.dateToCoord(t.start),left:this.dateToCoord(t.end)}:{left:this.dateToCoord(t.start),right:this.dateToCoord(t.end)}},i.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},i.prototype.updateSegPositions=function(){var t,e,o,i,n;for(n=(this.segs||[]).concat(this.businessHourSegs||[]),e=0,o=n.length;o>e;e++)i=n[e],t=this.rangeToCoords(i),i.el.css({left:i.left=t.left,right:-(i.right=t.right)})},i.prototype.computeInitialScroll=function(){var t,o;return t=0,this.isTimeScale&&(o=this.opt("scrollTime"),o&&(o=e.duration(o),t=this.dateToCoord(this.start.clone().time(o)))),{left:t,top:0}},i.prototype.queryScroll=function(){return{left:xt(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},i.prototype.setScroll=function(t){return xt(this.headScroller.scrollEl,t.left),xt(this.bodyScroller.scrollEl,t.left),this.bodyScroller.scrollEl.scrollTop(t.top)},i.prototype.renderFgSegs=function(t){return t=this.renderFgSegEls(t),this.renderFgSegsInContainers([[this,t]]),this.updateSegFollowers(t),t},i.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},i.prototype.renderFgSegsInContainers=function(t){var e,o,i,n,r,s,a,l,u,p,h,c,d,f,y,g,m,v,b,w,S,x,T,k,M;for(i=0,s=t.length;s>i;i++)for(b=t[i],e=b[0],M=b[1],n=0,a=M.length;a>n;n++)k=M[n],o=this.rangeToCoords(k),k.el.css({left:k.left=o.left,right:-(k.right=o.right)});for(r=0,l=t.length;l>r;r++)for(w=t[r],e=w[0],M=w[1],f=0,u=M.length;u>f;f++)k=M[f],k.el.appendTo(e.segContainerEl);for(y=0,p=t.length;p>y;y++){for(S=t[y],e=S[0],M=S[1],g=0,h=M.length;h>g;g++)k=M[g],k.height=k.el.outerHeight(!0);this.buildSegLevels(M),e.segContainerHeight=J(M)}for(T=[],m=0,c=t.length;c>m;m++){for(x=t[m],e=x[0],M=x[1],v=0,d=M.length;d>v;v++)k=M[v],k.el.css("top",k.top);T.push(e.segContainerEl.height(e.segContainerHeight))}return T},i.prototype.buildSegLevels=function(t){var e,o,i,n,r,s,a,l,u,p,h,c,d,f;for(d=[],this.sortEventSegs(t),i=0,s=t.length;s>i;i++){for(f=t[i],f.above=[],u=0;u<d.length;){for(o=!1,h=d[u],n=0,a=h.length;a>n;n++)p=h[n],Ot(f,p)&&(f.above.push(p),o=!0);if(!o)break;u+=1}for((d[u]||(d[u]=[])).push(f),u+=1;u<d.length;){for(c=d[u],r=0,l=c.length;l>r;r++)e=c[r],Ot(f,e)&&e.above.push(f);u+=1}}return d},i.prototype.unrenderFgContainers=function(t){var e,o,i,n;for(n=[],o=0,i=t.length;i>o;o++)e=t[o],e.segContainerEl.empty(),e.segContainerEl.height(""),n.push(e.segContainerHeight=null);return n},i.prototype.fgSegHtml=function(t){var e,o,i,n,r,s;return o=t.event,i=this.view.isEventDraggable(o),r=t.isStart&&this.view.isEventResizableFromStart(o),n=t.isEnd&&this.view.isEventResizableFromEnd(o),e=this.getSegClasses(t,i,r||n),e.unshift("fc-timeline-event","fc-h-event"),s=this.getEventTimeText(o),'<a class="'+e.join(" ")+'" style="'+Q(this.getSegSkinCss(t))+'"'+(o.url?' href="'+ft(o.url)+'"':"")+'><div class="fc-content">'+(s?'<span class="fc-time">'+ft(s)+"</span>":"")+'<span class="fc-title">'+(o.title?ft(o.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(r?'<div class="fc-resizer fc-start-resizer"></div>':"")+(n?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},i.prototype.updateSegFollowers=function(t){var e,o,i,n,r;if(this.eventTitleFollower){for(n=[],e=0,o=t.length;o>e;e++)i=t[e],r=i.el.find(".fc-title"),r.length&&n.push(new L(r));return this.eventTitleFollower.setSprites(n)}},i.prototype.clearSegFollowers=function(){return this.eventTitleFollower?this.eventTitleFollower.clearSprites():void 0},i.prototype.segDragStart=function(){return i.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segDragEnd=function(){return i.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.segResizeStart=function(){return i.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segResizeEnd=function(){return i.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.renderHelper=function(t,e){var o;return o=this.eventToSegs(t),o=this.renderFgSegEls(o),this.renderHelperSegsInContainers([[this,o]],e)},i.prototype.renderHelperSegsInContainers=function(e,o){var i,n,r,s,a,l,u,p,h,c,d,f,y,g,m,v,b;for(s=[],a=0,p=e.length;p>a;a++)for(y=e[a],i=y[0],b=y[1],l=0,h=b.length;h>l;l++)v=b[l],n=this.rangeToCoords(v),v.el.css({left:v.left=n.left,right:-(v.right=n.right)}),o&&o.resourceId===(null!=(g=i.resource)?g.id:void 0)?v.el.css("top",o.el.css("top")):v.el.css("top",0);for(u=0,c=e.length;c>u;u++)for(m=e[u],i=m[0],b=m[1],r=t('<div class="fc-event-container fc-helper-container"/>').appendTo(i.innerEl),s.push(r[0]),f=0,d=b.length;d>f;f++)v=b[f],r.append(v.el);return this.helperEls=this.helperEls?this.helperEls.add(t(s)):t(s)},i.prototype.unrenderHelper=function(){return this.helperEls?(this.helperEls.remove(),this.helperEls=null):void 0},i.prototype.renderEventResize=function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},i.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},i.prototype.renderFill=function(t,e,o){return e=this.renderFillSegEls(t,e),this.renderFillInContainers(t,[[this,e]],o),e},i.prototype.renderFillInContainers=function(t,e,o){var i,n,r,s,a,l;for(a=[],n=0,r=e.length;r>n;n++)s=e[n],i=s[0],l=s[1],a.push(this.renderFillInContainer(t,i,l,o));return a},i.prototype.renderFillInContainer=function(e,o,i,n){var r,s,a,l,u;if(i.length){for(n||(n=e.toLowerCase()),r=t('<div class="fc-'+n+'-container" />').appendTo(o.bgSegContainerEl),a=0,l=i.length;l>a;a++)u=i[a],s=this.rangeToCoords(u),u.el.css({left:u.left=s.left,right:-(u.right=s.right)}),u.el.appendTo(r);return this.elsByFill[e]=this.elsByFill[e]?this.elsByFill[e].add(r):r}},i.prototype.renderDrag=function(t,e){return e?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(t)),!1)},i.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},i}(c),J=function(t){var e,o,i,n;for(i=0,e=0,o=t.length;o>e;e++)n=t[e],i=Math.max(i,K(n));return i},K=function(t){return null==t.top&&(t.top=J(t.above)),t.top+t.height},Ot=function(t,e){return t.left<e.right&&t.right>e.left},v=18,g=6,y=200,m=1e3,a={months:1},I=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],B.prototype.initScaleProps=function(){var e,o,i;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),e=this.opt("slotLabelFormat"),i=t.type(e),this.headerFormats="array"===i?e:"string"===i?[e]:this.computeHeaderFormats(),this.isTimeScale=rt(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(o=X(this.slotDuration),/year|month|week/.test(o)?o:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},B.prototype.queryDurationOption=function(t){var o,i;return i=this.opt(t),null!=i&&(o=e.duration(i),+o)?o:void 0},B.prototype.validateLabelAndSlot=function(){var t,e,o;return this.labelInterval&&(t=it(this.duration,this.labelInterval),t>m&&(h.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(e=it(this.duration,this.slotDuration),e>m&&(h.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(o=it(this.labelInterval,this.slotDuration),!vt(o)||1>o)?(h.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null):void 0},B.prototype.ensureGridDuration=function(){var t,o,i,n,r;if(t=this.duration,!t){if(t=this.view.intervalDuration,!t)if(this.labelInterval||this.slotDuration)for(r=this.ensureLabelInterval(),i=I.length-1;i>=0&&(o=I[i],t=e.duration(o),n=it(t,r),!(n>=v));i+=-1);else t=e.duration(a);this.duration=t}return t},B.prototype.ensureLabelInterval=function(){var t,o,i,n,r,s,a,l,u;if(r=this.labelInterval,!r){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(o=0,s=I.length;s>o;o++)if(t=I[o],u=e.duration(t),l=it(u,this.slotDuration),vt(l)&&g>=l){r=u;break}r||(r=this.slotDuration)}else for(i=0,a=I.length;a>i&&(t=I[i],r=e.duration(t),n=it(this.duration,r),!(n>=v));i++);this.labelInterval=r}return r},B.prototype.ensureSlotDuration=function(){var t,o,i,n,r,s,a,l;if(s=this.slotDuration,!s){for(i=this.ensureLabelInterval(),o=0,n=I.length;n>o;o++)if(t=I[o],l=e.duration(t),a=it(i,l),vt(a)&&a>1&&g>=a){s=l;break}s&&this.duration&&(r=it(this.duration,s),r>y&&(s=null)),s||(s=i),this.slotDuration=s}return s},B.prototype.computeHeaderFormats=function(){var t,e,o,i,n,r,s,a;switch(s=this.view,i=this.duration,n=this.labelInterval,r=X(n),a=this.opt("weekNumbers"),t=e=o=null,"week"!==r||a||(r="day"),r){case"year":t="YYYY";break;case"month":i.asYears()>1&&(t="YYYY"),e="MMM";break;case"week":i.asYears()>1&&(t="YYYY"),e=this.opt("shortWeekFormat");break;case"day":i.asYears()>1?t=this.opt("monthYearFormat"):i.asMonths()>1&&(t="MMMM"),a&&(e=this.opt("weekFormat")),o="dd D";break;case"hour":a&&(t=this.opt("weekFormat")),i.asDays()>1&&(e=this.opt("dayOfMonthFormat")),o=this.opt("smallTimeFormat");break;case"minute":n.asMinutes()/60>=g?(t=this.opt("hourFormat"),e="[:]mm"):t=this.opt("mediumTimeFormat");break;case"second":n.asSeconds()/60>=g?(t="LT",e="[:]ss"):t="LTS";break;case"millisecond":t="LTS",e="[.]SSS"}return[].concat(t||[],e||[],o||[])},h.views.timeline={"class":G,defaults:{eventResizableFromStart:!0}},h.views.timelineDay={type:"timeline",duration:{days:1}},h.views.timelineWeek={type:"timeline",duration:{weeks:1}},h.views.timelineMonth={type:"timeline",duration:{months:1}},h.views.timelineYear={type:"timeline",duration:{years:1}},j=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.mixin(R),o.prototype.resourceGrid=null,o.prototype.tbodyHash=null,o.prototype.joiner=null,o.prototype.dividerEls=null,o.prototype.superHeaderText=null,o.prototype.isVGrouping=null,o.prototype.isHGrouping=null,o.prototype.groupSpecs=null,o.prototype.colSpecs=null,o.prototype.orderSpecs=null,o.prototype.rowHierarchy=null,o.prototype.resourceRowHash=null,o.prototype.nestingCnt=0,o.prototype.isNesting=null,o.prototype.dividerWidth=null,o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new W(this),this.rowHierarchy=new F(this),this.resourceRowHash={}},o.prototype.instantiateGrid=function(){return new P(this)},o.prototype.processResourceOptions=function(){var t,e,o,i,n,r,s,a,l,u,p,h,c,d,f,y,g,m,v,b,w,S;for(t=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),i="Resources",S=null,t.length?S=f:t.push({labelText:f||i,text:this.getResourceTextFunc()}),b=[],n=[],s=[],p=!1,u=!1,h=0,y=t.length;y>h;h++)o=t[h],o.group?n.push(o):b.push(o);for(b[0].isMain=!0,n.length?(s=n,p=!0):(a=this.opt("resourceGroupField"),a&&(u=!0,s.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),e=Dt(this.opt("resourceOrder")),w=[],c=0,g=e.length;g>c;c++){for(v=e[c],l=!1,d=0,m=s.length;m>d;d++)if(r=s[d],r.field===v.field){r.order=v.order,l=!0;break}l||w.push(v)}return this.superHeaderText=S,this.isVGrouping=p,this.isHGrouping=u,this.groupSpecs=s,this.colSpecs=n.concat(b),this.orderSpecs=w},o.prototype.renderSkeleton=function(){return o.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new H("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},o.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},o.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},o.prototype.initDividerMoving=function(){var t;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(t=this.opt("resourceAreaWidth"))?t:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(t){return function(e){return t.dividerMousedown(e)}}(this))},o.prototype.dividerMousedown=function(t){var e,o,i,n,r;return o=this.opt("isRTL"),n=30,i=this.el.width()-30,r=this.getNaturalDividerWidth(),e=new l({dragStart:function(t){return function(){return t.dividerEls.addClass("fc-active")}}(this),drag:function(t){return function(e){var s;return s=o?r-e:r+e,s=Math.max(s,n),s=Math.min(s,i),t.dividerWidth=s,t.positionDivider(s),t.updateWidth()}}(this),dragStop:function(t){return function(){return t.dividerEls.removeClass("fc-active")}}(this)}),e.mousedown(t)},o.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},o.prototype.positionDivider=function(t){return this.el.find(".fc-resource-area").width(t)},o.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.syncRowHeights(),this.updateWidth()},o.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},o.prototype.updateWidth=function(){return o.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower?this.cellFollower.update():void 0},o.prototype.updateHeight=function(t){return o.__super__.updateHeight.apply(this,arguments),t?this.syncRowHeights():void 0},o.prototype.setHeight=function(t,e){var o,i;return i=this.syncHeadHeights(),o=e?"auto":t-i-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(o),this.resourceGrid.bodyScroller.setHeight(o)},o.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},o.prototype.syncHeadHeights=function(){var t;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),t=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(t),this.timeGrid.headHeight(t),t},o.prototype.scrollToResource=function(t){return this.timeGrid.scrollToResource(t)},o.prototype.setResources=function(t){var e,o,i;for(this.batchRows(),e=0,o=t.length;o>e;e++)i=t[e],this.insertResource(i);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},o.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},o.prototype.addResource=function(t){return this.insertResource(t),this.reinitializeCellFollowers()},o.prototype.removeResource=function(t){var e;return e=this.getResourceRow(t.id),e?(this.batchRows(),e.remove(),this.unbatchRows(),this.reinitializeCellFollowers()):void 0},o.prototype.cellFollower=null,o.prototype.reinitializeCellFollowers=function(){var e,o,i,n,r,s;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new O(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,n=[],r=this.rowHierarchy.getNodes(),o=0,i=r.length;i>o;o++)s=r[o],s instanceof Y&&s.groupTd&&(e=s.groupTd.find(".fc-cell-content"),e.length&&n.push(e[0]));return this.cellFollower.setSprites(t(n))},o.prototype.insertResource=function(t,e){var o,i,n,r,s,a,l;for(l=new D(this,t),null==e&&(r=t.parentId,r&&(e=this.getResourceRow(r))),e?this.insertRowAsChild(l,e):this.insertRow(l),s=t.children,a=[],i=0,n=s.length;n>i;i++)o=s[i],a.push(this.insertResource(o,l));return a},o.prototype.insertRow=function(t,e,o){var i;return null==e&&(e=this.rowHierarchy),null==o&&(o=this.groupSpecs),o.length?(i=this.ensureResourceGroup(t,e,o[0]),i instanceof d?this.insertRowAsChild(t,i):this.insertRow(t,i,o.slice(1))):this.insertRowAsChild(t,e)},o.prototype.insertRowAsChild=function(t,e){return e.addChild(t,this.computeChildRowPosition(t,e));
},o.prototype.computeChildRowPosition=function(t,e){var o,i,n,r,s,a;if(this.orderSpecs.length)for(s=e.children,i=n=0,r=s.length;r>n;i=++n)if(a=s[i],o=this.compareResources(a.resource||{},t.resource||{}),o>0)return i;return null},o.prototype.compareResources=function(t,e){return $(t,e,this.orderSpecs)},o.prototype.ensureResourceGroup=function(t,e,o){var i,n,r,s,a,l,u,p,h,c,f;if(r=(t.resource||{})[o.field],n=null,o.order)for(h=e.children,s=a=0,u=h.length;u>a;s=++a){if(f=h[s],i=st(f.groupValue,r)*o.order,0===i){n=f;break}if(i>0)break}else for(c=e.children,s=l=0,p=c.length;p>l;s=++l)if(f=c[s],f.groupValue===r){n=f;break}return n||(n=this.isVGrouping?new Y(this,o,r):new d(this,o,r),e.addChild(n,s)),n},o.prototype.pairSegsWithRows=function(t){var e,o,i,n,r,s,a,l;for(n=[],r={},e=0,o=t.length;o>e;e++)l=t[e],s=l.resourceId,s&&(a=this.getResourceRow(s),a&&(i=r[s],i||(i=[a,[]],n.push(i),r[s]=i),i[1].push(l)));return n},o.prototype.rowAdded=function(t){var e,o;return t instanceof D&&(this.resourceRowHash[t.resource.id]=t),o=this.isNesting,e=Boolean(this.nestingCnt+=t.depth?1:0),o!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},o.prototype.rowRemoved=function(t){var e,o;return t instanceof D&&delete this.resourceRowHash[t.resource.id],o=this.isNesting,e=Boolean(this.nestingCnt-=t.depth?1:0),o!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},o.prototype.batchRowDepth=0,o.prototype.shownRowBatch=null,o.prototype.hiddenRowBatch=null,o.prototype.batchRows=function(){return this.batchRowDepth++?void 0:(this.shownRowBatch=[],this.hiddenRowBatch=[])},o.prototype.unbatchRows=function(){return--this.batchRowDepth?void 0:(this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null)},o.prototype.rowShown=function(t){return this.shownRowBatch?this.shownRowBatch.push(t):this.rowsShown([t])},o.prototype.rowHidden=function(t){return this.hiddenRowBatch?this.hiddenRowBatch.push(t):this.rowsHidden([t])},o.prototype.rowsShown=function(t){return this.syncRowHeights(t),this.updateWidth()},o.prototype.rowsHidden=function(){return this.updateWidth()},o.prototype.syncRowHeights=function(t,e){var o,i,n,r,s,a,l,u,p,h;for(null==e&&(e=!1),null==t&&(t=this.getVisibleRows()),a=0,u=t.length;u>a;a++)h=t[a],h.setTrInnerHeight("");for(s=function(){var i,n,r;for(r=[],i=0,n=t.length;n>i;i++)h=t[i],o=h.getMaxTrInnerHeight(),e&&(o+=o%2),r.push(o);return r}(),r=l=0,p=t.length;p>l;r=++l)h=t[r],h.setTrInnerHeight(s[r]);return!e&&(i=this.resourceGrid.tbodyEl.height(),n=this.timeGrid.tbodyEl.height(),Math.abs(i-n)>1)?this.syncRowHeights(t,!0):void 0},o.prototype.getVisibleRows=function(){var t,e,o,i,n;for(o=this.rowHierarchy.getRows(),i=[],t=0,e=o.length;e>t;t++)n=o[t],n.isShown&&i.push(n);return i},o.prototype.getEventRows=function(){var t,e,o,i,n;for(o=this.rowHierarchy.getRows(),i=[],t=0,e=o.length;e>t;t++)n=o[t],n instanceof p&&i.push(n);return i},o.prototype.getResourceRow=function(t){return this.resourceRowHash[t]},o.prototype.setScroll=function(t){return o.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(t.top)},o}(G),P=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.mixin(M),o.prototype.eventRows=null,o.prototype.shownEventRows=null,o.prototype.tbodyEl=null,o.prototype.rowCoordCache=null,o.prototype.spanToSegs=function(t){var e,i,n,r,s,a;if(a=o.__super__.spanToSegs.apply(this,arguments),e=this.view.calendar,r=t.resourceId)for(i=0,n=a.length;n>i;i++)s=a[i],s.resource=e.getResourceById(r),s.resourceId=r;return a},o.prototype.prepareHits=function(){var t,e;return o.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var e,o,i,n;for(i=this.eventRows,n=[],e=0,o=i.length;o>e;e++)t=i[e],t.isShown&&n.push(t);return n}.call(this),e=function(){var e,o,i,n;for(i=this.shownEventRows,n=[],e=0,o=i.length;o>e;e++)t=i[e],n.push(t.getTr("event")[0]);return n}.call(this),this.rowCoordCache=new s({els:e,isVertical:!0}),this.rowCoordCache.build()},o.prototype.releaseHits=function(){return o.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},o.prototype.queryHit=function(t,e){var i,n;return n=o.__super__.queryHit.apply(this,arguments),n&&(i=this.rowCoordCache.getVerticalIndex(e),null!=i)?{resourceId:this.shownEventRows[i].resource.id,snap:n.snap,component:this,left:n.left,right:n.right,top:this.rowCoordCache.getTopOffset(i),bottom:this.rowCoordCache.getBottomOffset(i)}:void 0},o.prototype.getHitSpan=function(t){var e;return e=this.getSnapRange(t.snap),e.resourceId=t.resourceId,e},o.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},o.prototype.renderSkeleton=function(){var e;return o.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,e=t('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=e.find("tbody")},o.prototype.renderFgSegs=function(t){var e,o,i,n,r,s,a;for(t=this.renderFgSegEls(t),s=this.view.pairSegsWithRows(t),a=[],i=0,n=s.length;n>i;i++)r=s[i],e=r[0],o=r[1],e.fgSegs=o,e.isShown&&(e.isSegsRendered=!0,a.push(r));return this.renderFgSegsInContainers(a),this.updateSegFollowers(t),t},o.prototype.unrenderFgSegs=function(){var t,e,o,i;for(this.clearSegFollowers(),e=this.view.getEventRows(),o=0,i=e.length;i>o;o++)t=e[o],t.fgSegs=null,t.isSegsRendered=!1;return this.unrenderFgContainers(e)},o.prototype.renderFill=function(t,e,o){var i,n,r,s,a,l,u,p,h,c,d,f;for(e=this.renderFillSegEls(t,e),p=[],a=[],i=0,r=e.length;r>i;i++)d=e[i],d.resourceId?p.push(d):a.push(d);for(u=this.view.pairSegsWithRows(p),f=[],n=0,s=u.length;s>n;n++)l=u[n],h=l[0],c=l[1],"bgEvent"===t&&(h.bgSegs=c),h.isShown&&f.push(l);return a.length&&f.unshift([this,a]),this.renderFillInContainers(t,f,o),e},o.prototype.renderHelper=function(t,e){var o,i;return i=this.eventToSegs(t),i=this.renderFgSegEls(i),o=this.view.pairSegsWithRows(i),this.renderHelperSegsInContainers(o,e)},o.prototype.computeInitialScroll=function(t){var e;return e=o.__super__.computeInitialScroll.apply(this,arguments),t&&(e.resourceId=t.resourceId,e.bottom=t.bottom),e},o.prototype.queryScroll=function(){var t,e,i,n,r,s,a,l;for(l=o.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,r=this.view.getVisibleRows(),i=0,n=r.length;n>i;i++)if(s=r[i],s.resource&&(t=s.getTr("event"),e=t.offset().top+t.outerHeight(),e>a)){l.resourceId=s.resource.id,l.bottom=e-a;break}return l},o.prototype.setScroll=function(t){var e,i,n,r;return t.resourceId&&(r=this.view.getResourceRow(t.resourceId),r&&(e=r.getTr("event"),e&&(n=this.bodyScroller.innerEl.offset().top,i=e.offset().top+e.outerHeight(),t.top=i-t.bottom-n))),o.__super__.setScroll.call(this,t)},o.prototype.scrollToResource=function(t){var e,o,i,n;return i=this.view.getResourceRow(t.id),i&&(e=i.getTr("event"))?(o=this.bodyScroller.innerEl.offset().top,n=e.offset().top-o,this.bodyScroller.scrollEl.scrollTop(n)):void 0},o}(B),o=30,W=function(){function e(t){var e;this.view=t,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var t,o,i,n;for(i=this.view.colSpecs,n=[],t=0,o=i.length;o>t;t++)e=i[t],n.push(e.width);return n}.call(this)}return e.prototype.view=null,e.prototype.headEl=null,e.prototype.el=null,e.prototype.tbodyEl=null,e.prototype.headScroller=null,e.prototype.bodyScroller=null,e.prototype.joiner=null,e.prototype.colGroupHtml="",e.prototype.headTable=null,e.prototype.headColEls=null,e.prototype.headCellEls=null,e.prototype.bodyColEls=null,e.prototype.bodyTable=null,e.prototype.renderSkeleton=function(){return this.headScroller=new N("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new N("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new H("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},e.prototype.renderHeadHtml=function(){var t,e,o,i,n,r,s,a,l,u,p;for(e=this.view.colSpecs,o="<table>",t="<colgroup>",s=0,l=e.length;l>s;s++)p=e[s],t+=p.isMain?'<col class="fc-main-col"/>':"<col/>";for(t+="</colgroup>",this.colGroupHtml=t,o+=t,o+="<tbody>",this.view.superHeaderText&&(o+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+e.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+ft(this.view.superHeaderText)+"</span></div></th></tr>"),o+="<tr>",r=!0,i=a=0,u=e.length;u>a;i=++a)p=e[i],n=i===e.length-1,o+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(p.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+ft(p.labelText||"")+"</span></div>"+(n?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return o+="</tr>",o+="</tbody></table>"},e.prototype.givenColWidths=null,e.prototype.colWidths=null,e.prototype.colMinWidths=null,e.prototype.tableWidth=null,e.prototype.tableMinWidth=null,e.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(e){return function(o,i){return i=t(i),i.on("mousedown",function(t){return e.colResizeMousedown(o,t,i)})}}(this))},e.prototype.colResizeMousedown=function(t,e,i){var n,r,s,a;return n=this.colWidths=this.queryColWidths(),n.pop(),n.push(null),a=n[t],s=Math.min(this.colMinWidths[t],o),r=new l({dragStart:function(){return function(){return i.addClass("fc-active")}}(this),drag:function(e){return function(o){var i;return i=a+(e.isRTL?-o:o),i=Math.max(i,s),n[t]=i,e.applyColWidths()}}(this),dragStop:function(){return function(){return i.removeClass("fc-active")}}(this)}),r.mousedown(e)},e.prototype.applyColWidths=function(){var t,e,o,i,n,r,s,a,l,u,p,h,c,d,f,y,g;for(o=this.colMinWidths,n=this.colWidths,t=!0,e=!1,g=0,u=0,c=n.length;c>u;u++)i=n[u],"number"==typeof i?g+=i:(t=!1,i&&(e=!0));for(a=e&&!this.view.isHGrouping?"auto":"",s=function(){var t,e,o;for(o=[],l=t=0,e=n.length;e>t;l=++t)i=n[l],o.push(null!=i?i:a);return o}(),y=0,l=p=0,d=s.length;d>p;l=++p)r=s[l],y+="number"==typeof r?r:o[l];for(l=h=0,f=s.length;f>h;l=++h)r=s[l],this.headColEls.eq(l).width(r),this.bodyColEls.eq(l).width(r);return this.headScroller.setContentMinWidth(y),this.bodyScroller.setContentMinWidth(y),this.tableMinWidth=y,this.tableWidth=t?g:void 0},e.prototype.computeColMinWidths=function(){var t,e,i,n,r,s;for(n=this.givenColWidths,r=[],t=e=0,i=n.length;i>e;t=++e)s=n[t],r.push("number"==typeof s?s:parseInt(this.headColEls.eq(t).css("min-width"))||o);return r},e.prototype.queryColWidths=function(){var e,o,i,n,r;for(n=this.headCellEls,r=[],e=0,o=n.length;o>e;e++)i=n[e],r.push(t(i).outerWidth());return r},e.prototype.updateWidth=function(){return this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower?this.follower.update():void 0},e.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},e}(),F=function(){function e(e){this.view=e,this.children=[],this.trHash={},this.trs=t()}return e.prototype.view=null,e.prototype.parent=null,e.prototype.prevSibling=null,e.prototype.children=null,e.prototype.depth=0,e.prototype.hasOwnRow=!1,e.prototype.trHash=null,e.prototype.trs=null,e.prototype.isRendered=!1,e.prototype.isExpanded=!0,e.prototype.isShown=!1,e.prototype.addChild=function(t,e){var o,i,n,r,s;for(t.remove(),o=this.children,null!=e?o.splice(e,0,t):(e=o.length,o.push(t)),t.prevSibling=e>0?o[e-1]:null,e<o.length-1&&(o[e+1].prevSibling=t),t.parent=this,t.depth=this.depth+(this.hasOwnRow?1:0),s=t.getNodes(),i=0,n=s.length;n>i;i++)r=s[i],r.added();return this.isShown&&this.isExpanded?t.show():void 0},e.prototype.removeChild=function(t){var e,o,i,n,r,s,a,l,u,p;for(e=this.children,i=!1,o=n=0,s=e.length;s>n;o=++n)if(p=e[o],p===t){i=!0;break}if(i){for(o<e.length-1&&(e[o+1].prevSibling=t.prevSibling),e.splice(o,1),t.recursivelyUnrender(),l=t.getNodes(),r=0,a=l.length;a>r;r++)u=l[r],u.removed();return t.parent=null,t.prevSibling=null,t}return!1},e.prototype.removeChildren=function(){var t,e,o,i,n,r,s;for(r=this.children,e=0,i=r.length;i>e;e++)t=r[e],t.recursivelyUnrender();for(s=this.getDescendants(),o=0,n=s.length;n>o;o++)t=s[o],t.removed();return this.children=[]},e.prototype.remove=function(){return this.parent?this.parent.removeChild(this):void 0},e.prototype.getLastChild=function(){var t;return t=this.children,t[t.length-1]},e.prototype.getPrevRow=function(){var t,e;for(e=this;e;){if(e.prevSibling)for(e=e.prevSibling;t=e.getLastChild();)e=t;else e=e.parent;if(e&&e.hasOwnRow&&e.isShown)return e}return null},e.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},e.prototype.getRows=function(t){var e,o,i,n;for(null==t&&(t=[]),this.hasOwnRow&&t.push(this),n=this.children,o=0,i=n.length;i>o;o++)e=n[o],e.getRows(t);return t},e.prototype.getNodes=function(t){var e,o,i,n;for(null==t&&(t=[]),t.push(this),n=this.children,o=0,i=n.length;i>o;o++)e=n[o],e.getNodes(t);return t},e.prototype.getDescendants=function(){var t,e,o,i,n;for(t=[],n=this.children,o=0,i=n.length;i>o;o++)e=n[o],e.getNodes(t);return t},e.prototype.render=function(){var e,o,i,n,r,s,a;if(this.trHash={},s=[],this.hasOwnRow){e=this.getPrevRow(),o=this.view.tbodyHash;for(a in o)n=o[a],r=t("<tr/>"),this.trHash[a]=r,s.push(r[0]),i="render"+q(a)+"Content",this[i]&&this[i](r),e?e.trHash[a].after(r):n.prepend(r)}return this.trs=t(s).on("click",".fc-expander",Pt(this,"toggleExpanded")),this.isRendered=!0},e.prototype.unrender=function(){var e,o,i,n;if(this.isRendered){e=this.trHash;for(i in e)o=e[i],n="unrender"+q(i)+"Content",this[n]&&this[n](o);return this.trHash={},this.trs.remove(),this.trs=t(),this.isRendered=!1,this.isShown=!1,this.hidden()}},e.prototype.recursivelyUnrender=function(){var t,e,o,i,n;for(this.unrender(),i=this.children,n=[],e=0,o=i.length;o>e;e++)t=i[e],n.push(t.recursivelyUnrender());return n},e.prototype.getTr=function(t){return this.trHash[t]},e.prototype.show=function(){var t,e,o,i,n;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(i=this.children,n=[],e=0,o=i.length;o>e;e++)t=i[e],n.push(t.show());return n}},e.prototype.hide=function(){var t,e,o,i,n;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(i=this.children,n=[],e=0,o=i.length;o>e;e++)t=i[e],n.push(t.hide());return n}},e.prototype.expand=function(){var t,e,o,i;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),i=this.children,e=0,o=i.length;o>e;e++)t=i[e],t.show();return this.view.unbatchRows(),this.animateExpand()}},e.prototype.collapse=function(){var t,e,o,i;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),i=this.children,e=0,o=i.length;o>e;e++)t=i[e],t.hide();return this.view.unbatchRows()}},e.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},e.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},e.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},e.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},e.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},e.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},e.prototype.getCollapsedIcon=function(){var t;return t=this.view.isRTL?"left":"right","fc-icon-"+t+"-triangle"},e.prototype.animateExpand=function(){var t,e,o;return o=null!=(t=this.children[0])&&null!=(e=t.getLeadingRow())?e.trs:void 0,o?(o.addClass("fc-collapsed"),setTimeout(function(){return o.addClass("fc-transitioning"),o.removeClass("fc-collapsed")}),o.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return o.removeClass("fc-transitioning")})):void 0},e.prototype.getMaxTrInnerHeight=function(){var e;return e=0,t.each(this.trHash,function(){return function(t,o){var i;return i=at(o).find("> div:not(.fc-cell-content):first"),e=Math.max(i.height(),e)}}(this)),e},e.prototype.setTrInnerHeight=function(e){return t.each(this.trHash,function(){return function(t,o){return at(o).find("> div:not(.fc-cell-content):first").height(e)}}(this))},e.prototype.shown=function(){return this.hasOwnRow?this.rowShown(this):void 0},e.prototype.hidden=function(){return this.hasOwnRow?this.rowHidden(this):void 0},e.prototype.rowShown=function(t){return(this.parent||this.view).rowShown(t)},e.prototype.rowHidden=function(t){return(this.parent||this.view).rowHidden(t)},e.prototype.added=function(){return this.hasOwnRow?this.rowAdded(this):void 0},e.prototype.removed=function(){return this.hasOwnRow?this.rowRemoved(this):void 0},e.prototype.rowAdded=function(t){return(this.parent||this.view).rowAdded(t)},e.prototype.rowRemoved=function(t){return(this.parent||this.view).rowRemoved(t)},e}(),A=function(e){function o(t,e,i){this.groupSpec=e,this.groupValue=i,o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.groupSpec=null,o.prototype.groupValue=null,o.prototype.rowRemoved=function(t){return o.__super__.rowRemoved.apply(this,arguments),t===this||this.children.length?void 0:this.remove()},o.prototype.renderGroupContentEl=function(){var e,o;return e=t('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),o=this.groupSpec.render,"function"==typeof o&&(e=o(e,this.groupValue)||e),e},o.prototype.renderGroupTextEl=function(){var e,o;return o=this.groupValue||"",e=this.groupSpec.text,"function"==typeof e&&(o=e(o)||o),t('<span class="fc-cell-text" />').text(o)},o}(F),d=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.hasOwnRow=!0,o.prototype.renderSpreadsheetContent=function(e){var o;return o=this.renderGroupContentEl(),o.prepend('<span class="fc-icon fc-expander" />'),t('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(t("<div/>").append(o)).appendTo(e)},o.prototype.renderEventContent=function(t){return t.append('<td class="fc-divider"> <div/> </td>')},o}(A),Y=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.rowspan=0,o.prototype.leadingTr=null,o.prototype.groupTd=null,o.prototype.rowShown=function(){return this.rowspan+=1,this.renderRowspan(),o.__super__.rowShown.apply(this,arguments)},o.prototype.rowHidden=function(){return this.rowspan-=1,this.renderRowspan(),o.__super__.rowHidden.apply(this,arguments)},o.prototype.renderRowspan=function(){var e;return this.rowspan?(this.groupTd||(this.groupTd=t('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),e=this.getLeadingRow().getTr("spreadsheet"),e!==this.leadingTr?(e&&e.prepend(this.groupTd),this.leadingTr=e):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},o}(A),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nt(e,t),e.prototype.hasOwnRow=!0,e.prototype.segContainerEl=null,e.prototype.segContainerHeight=null,e.prototype.innerEl=null,e.prototype.bgSegContainerEl=null,e.prototype.isSegsRendered=!1,e.prototype.bgSegs=null,e.prototype.fgSegs=null,e.prototype.renderEventContent=function(t){return t.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=t.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=t.find("td > div"),this.ensureSegsRendered()},e.prototype.ensureSegsRendered=function(){return this.isSegsRendered?void 0:(this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0)},e.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},e}(F),D=function(e){function o(t,e){this.resource=e,o.__super__.constructor.apply(this,arguments)}return Nt(o,e),o.prototype.resource=null,o.prototype.rowAdded=function(t){return o.__super__.rowAdded.apply(this,arguments),t!==this&&this.isRendered&&1===this.children.length?(this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()):void 0},o.prototype.rowRemoved=function(t){return o.__super__.rowRemoved.apply(this,arguments),t!==this&&this.isRendered&&!this.children.length?this.disableExpanding():void 0},o.prototype.render=function(){return o.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},o.prototype.renderEventContent=function(t){return o.__super__.renderEventContent.apply(this,arguments),t.attr("data-resource-id",this.resource.id)},o.prototype.renderSpreadsheetContent=function(e){var o,i,n,r,s,a,l,u,p;for(l=this.resource,a=this.view.colSpecs,r=0,s=a.length;s>r;r++)o=a[r],o.group||(n=o.field?l[o.field]||null:l,p="function"==typeof o.text?o.text(l,n):n,i=t('<div class="fc-cell-content">'+(o.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(p?ft(p):"&nbsp;")+"</span></div>"),"function"==typeof o.render&&(i=o.render(l,i,n)||i),u=t('<td class="'+this.view.widgetContentClass+'"/>').append(i),o.isMain&&u.wrapInner("<div/>"),e.append(u));return e.attr("data-resource-id",l.id)},o.prototype.renderGutterHtml=function(){var t,e,o,i;for(t="",e=o=0,i=this.depth;i>o;e=o+=1)t+='<span class="fc-icon"/>';return t+='<span class="fc-icon fc-expander-space"/>'},o}(p),h.views.timeline.resourceClass=j,S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nt(e,t),e.mixin(R),e.prototype.timeGridClass=_,e.prototype.dayGridClass=T,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.timeGrid.setResources(t),this.dayGrid&&this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(h.AgendaView),h.views.agenda.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?S:void 0},x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nt(e,t),e.mixin(R),e.prototype.dayGridClass=T,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(h.BasicView),E=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nt(e,t),e.mixin(R),e.prototype.dayGridClass=T,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(h.MonthView),h.views.basic.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?x:void 0},h.views.month.queryResourceClass=function(t){return t.options.groupByResource||t.options.groupByDateAndResource?E:void 0},w="2016-02-18",z={years:1,weeks:1},f="http://fullcalendar.io/scheduler/license/",b=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],_t=function(t,e){return mt(window.location.href)||bt(t)||ot(e)?void 0:jt('Please use a valid license key. <a href="'+f+'">More Info</a>',e)},bt=function(o){var i,n,r,s;return-1!==t.inArray(o,b)||(n=(o||"").match(/^(\d+)\-fcs\-(\d+)$/),!!(n&&10===n[1].length&&(r=e.utc(1e3*parseInt(n[2])),s=e.utc(h.mockSchedulerReleaseDate||w),s.isValid()&&(i=s.clone().subtract(z),r.isAfter(i)))))},mt=function(t){return Boolean(t.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},jt=function(e,o){return o.append(t('<div class="fc-license-message" />').html(e))},void(ot=function(t){return t.find(".fc-license-message").length>=1}))}),function(){this.Gws_Popup=function(){function t(){}return t.init=null,t.render=function(t,e){var o;return this.init||(this.init=!0,$(window).resize(function(){return $(".gws-popup").remove()}),$(document).click(function(t){if(!$(t.target).closest(".gws-popup, .gws-popup-event").length)return $(".gws-popup").remove()})),$(".gws-popup").remove(),o=$("<div class='gws-popup'></div>").html($(e)),$("body").append(o),t.addClass("gws-popup-event"),this.renderPopup(t)},t.renderPopup=function(t){var e,o,i;return e=$(".gws-popup"),$(window).width()<1.5*e.outerWidth()&&e.css("max-width",$(window).width()/2),o=t.offset().left+t.outerWidth()/2-e.outerWidth()/2,i=t.offset().top-e.outerHeight()-20,o<0?(o=t.offset().left+t.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),o+e.outerWidth()>$(window).width()?(o=t.offset().left-e.outerWidth()+t.outerWidth()/2+20,e.addClass("right")):e.removeClass("right"),i<0?(i=t.offset().top+t.outerHeight(),e.addClass("top")):e.removeClass("top"),e.css({left:o,top:i}).animate({top:"+=10",opacity:1},50)},t}()}.call(this),function(){this.Gws_Member=function(){function t(){}return t.groups=null,t.users=null,t.render=function(){return $(".js-copy-groups").length<2&&($(".js-copy-groups").remove(),$(".js-paste-groups").remove()),$(".js-copy-groups").click(function(){return t.copyGroups($(this))}),$(".js-paste-groups").click(function(){return t.pasteGroups($(this))}),$(".js-copy-users").length<2&&($(".js-copy-users").remove(),$(".js-paste-users").remove()),$(".js-copy-users").click(function(){return t.copyUsers($(this))}),$(".js-paste-users").click(function(){return t.pasteUsers($(this))})},t.confirmReadableSetting=function(){return $(".save").on("click",function(){if(0===$(".gws-addon-readable-setting tbody tr").length)return confirm("\u95b2\u89a7\u8005\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u5168\u54e1\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")})},t.copyGroups=function(t){return this.groups=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.groups.length+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteGroups=function(t){var e;return e=this.pasteItems(t,this.groups),this.showLog(t,e+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.copyUsers=function(t){return this.users=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.users.length+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteUsers=function(t){var e;return e=this.pasteItems(t,this.users),this.showLog(t,e+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteItems=function(t,e){var o,i,n,r;return e&&0!==e.length?(o=t.closest("dl"),o.find("table").show(),r=o.find("tbody"),i=o.find(".hidden-ids").attr("name"),n=0,e.each(function(){var t;if(0===r.find("tr[data-id="+$(this).data("id")+"]").length)return t=$(this).clone(!0),t.find("input").attr("name",i),r.append(t),n+=1}),n):0},t.showLog=function(t,e){return $(".gws-member-log").remove(),$("<span class='gws-member-log'>"+e+"</span>").appendTo(t.parent()).hide().fadeIn(200)},t}()}.call(this),function(){this.Gws_Reminder=function(){function t(){}return t.renderAddon=function(t){var e,o;return null==t&&(t={}),e=$(".gws-addon-reminder"),o={data:{item:{item_id:e.find("#item_id").val(),model:e.find("#item_model").val(),name:e.find("#item_name").val()}},beforeSend:function(){return $(".gws-addon-reminder-label").html("")},success:function(t){return $(".gws-addon-reminder-label").html(t)},error:function(){return alert("Error")}},$.extend(!0,o,t),$("#gws-addon-reminder-set").click(function(){var t;return t={method:"post"},$.extend(!0,t,o),t.data.item.date=e.find("#item_date").val(),$.ajax(t)}),$("#gws-addon-reminder-unset").click(function(){var t;return t={method:"post"},$.extend(!0,t,o),t.data._method="delete",$.ajax(t)})},t.renderList=function(t){var e;return null==t&&(t={}),this.noticeTimer=null,e=function(t,e){switch(e){case"updating":return t.find(".updated").hide(),this.noticeTimer&&clearTimeout(this.noticeTimer),$("#notice").hide();case"updated":return t.find(".updated").show(),$("#notice")[0]||$("#page").append('<aside id="notice"><div class="wrap"></div></aside>'),$("#notice .wrap").html("\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002"),$("#notice").show(),this.noticeTimer=setTimeout(function(){return $("#notice").slideUp("fast")},1500);default:return t.find(".updated").hide()}},$(".list-item").each(function(){return $(this).find(".links").append('<a class="restore" href="#" style="display: none;">\u5143\u306b\u623b\u3059</a>')}),$(".list-item .delete").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{_method:"delete",item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").hide(),e.find(".restore").show(),e.find(".notification").hide(),!1},error:function(){return alert("Error")}})}),$(".list-item .restore").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").show(),e.find(".restore").hide(),e.find(".notification")[0]&&(e.find(".notification")[0].selectedIndex=0),e.find(".notification").show(),!1},error:function(){return alert("Error")}})}),$(".list-item .notification").change(function(){var o,i,n;return i=$(this).closest(".list-item"),o=this.selectedIndex,n=this.options[o].value,e(i,"updating"),$.ajax({url:t.url+"/notifications",method:"post",data:{item:{item_id:i.data("id"),model:i.data("model"),in_notify_before:n}},success:function(){return e(i,"updated"),!1},error:function(){return e(i,"none"),alert("Error")}})})},t}()}.call(this),function(){this.Gws_Schedule_View=function(){function t(){}return t.getCalendar=function(){var t;return t=$("#calendar-controller"),0===t.length&&(t=$("#calendar")),t.fullCalendar("getView").calendar?t:null},t.getCalendarDate=function(){var e;return e=t.getCalendar(),e?e.fullCalendar("getDate").format("YYYY-MM-DD"):null},t.renderTabs=function(e){return $(e).find("a").click(function(){var e,o;return!(e=t.getCalendarDate())||(o=$(this).attr("href"),o=o.replace(/(\?.*)?$/,"?calendar[date]="+e),$(this).attr("href",o),!0)})},t.renderSideCalendars=function(e){return $(e).find(".fc-toolbar h2").click(function(){var e,o;return o="gws-schedule-tool-calendars",e=t.getCalendarDate(),e=$.fullCalendar.moment(e),$("."+o).is(":hidden")&&$("."+o).remove(),0===$("."+o).length&&t.crenderSideCalendars(o,e),$("."+o).animate({width:"toggle"},"fast")})},t.crenderSideCalendars=function(t,e){var o,i,n;for(o="<div class='"+t+"'><div class='xdsoft_datetimepicker controller'><button type='button' class='xdsoft_prev' /><button type='button' class='xdsoft_next' /></div></div>",
$(".gws-schedule-box .calendar:first").before(o),i=n=0;n<=3;i=++n)i>0&&e.add(1,"months"),$("."+t).append("<div class='"+t+"-cal"+i+"'></div>"),$("."+t+"-cal"+i).datetimepicker({timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,scrollMonth:!1,inline:!0,defaultDate:e.format("YYYY-MM-DD"),defaultSelect:!1,todayButton:!1,onGenerate:function(){return $(this).find(".xdsoft_today").removeClass("xdsoft_today"),$(this).find(".xdsoft_current").removeClass("xdsoft_current")},onSelectDate:function(t){return e=sprintf("%d-%02d-%02d",t.getFullYear(),t.getMonth()+1,t.getDate()),$(".calendar").fullCalendar("gotoDate",e)}});return $("."+t).find(".xdsoft_month, .xdsoft_year").unbind("mousedown").find("i").remove(),$("."+t+" .xdsoft_datetimepicker").not(".controller.controller").find(".xdsoft_prev, .xdsoft_next").hide(),$("."+t+" .controller .xdsoft_prev").mousedown(function(){var e,o;for(o=[],i=e=1;e<=4;i=++e)o.push($("."+t+" .xdsoft_prev").not(this).mousedown().mouseup());return o}),$("."+t+" .controller .xdsoft_next").mousedown(function(){var e,o;for(o=[],i=e=1;e<=4;i=++e)o.push($("."+t+" .xdsoft_next").not(this).mousedown().mouseup());return o})},t}()}.call(this),function(){this.Gws_Schedule_Calendar=function(){function t(){}return t.messages={noPlan:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"},t.render=function(t,e,o){var i;return null==e&&(e={}),null==o&&(o={}),i=this.defaultParams(e),e.restUrl&&$.extend(!0,i,this.editableParams(e)),e.restUrl&&$.extend(!0,i,this.tapMenuParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),this.renderInitialize(t,o)},t.renderInitialize=function(t,e){return null==e&&(e={}),e.view&&$(t).fullCalendar("changeView",e.view),e.date&&$(t).fullCalendar("gotoDate",e.date),Gws_Schedule_View.renderSideCalendars(t)},t.defaultParams=function(){return{buttonText:{listMonth:"\u30ea\u30b9\u30c8"},columnFormat:{month:"ddd",week:"M/D [(]ddd[)]",day:"M/D [(]ddd[)]"},contentHeight:"auto",displayEventEnd:{basicWeek:!0},endParam:"s[end]",fixedWeekCount:!1,header:{left:"today prev next title",right:"month basicWeek agendaDay listMonth"},lang:"ja",nextDayThreshold:"00:00:00",schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",slotLabelFormat:"HH:mm",startParam:"s[start]",timeFormat:"HH:mm",titleFormat:{month:"YYYY\u5e74 M\u6708",week:"(YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09)",day:"YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09"},loading:function(t){return t?$(this).find(".fc-widget-content").eq(0).prepend('<span class="fc-loading">\u8aad\u307f\u8fbc\u307f\u4e2d</span>'):$(this).find(".fc-loading").remove()}}},t.tapMenuParams=function(t){var e;return e=t.restUrl,{dayClick:function(o,i,n){var r,s,a;if(t.tapMenu)return s=new Date,a=o.format()+"T"+s.getHours()+":00:00",r="<a href='"+e+"/new?start="+a+"' class='add-plan'>\u4e88\u5b9a\u3092\u4f5c\u6210</a>",$("body").append('<div class="tap-menu">'+r+"</div>"),$(".tap-menu").show().css("left",i.pageX-5).css("top",i.pageY-5).show(),$(".tap-menu a").click(function(){var t;if($(this).data("view"))return t=n.calendar.getCalendar(),t.changeView($(this).data("view")),t.gotoDate(o),$(".tap-menu").remove(),!1}),$(".tap-menu").mouseleave(function(){return $(".tap-menu").remove()})}}},t.editableParams=function(t){var e;return e=t.restUrl,{editable:!0,eventClick:function(t){var o;if(!t.noPopup)return o=$(this),Gws_Popup.render(o,"<div class='fc-popup'><span class='fc-loading'>\u8aad\u307f\u8fbc\u307f\u4e2d</span></div>"),$.ajax({url:e+"/"+t.id+"/popup",success:function(t){return $(".fc-popup").html(t),Gws_Popup.renderPopup(o)}})},eventDrop:function(t,o,i,n,r,s){var a;return a=null,t.end&&(a=t.end.format()),$.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"drop",api_start:t.start.format(),api_end:a}},success:function(){var t;return t=s.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+t).fullCalendar("refetchEvents")},error:function(t){return alert(t.responseJSON.join("\n")),i()}})},eventResize:function(t,o,i){return $.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"resize",api_start:t.start.format(),api_end:t.end.format()}},success:function(){var t;return t=view.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+t).fullCalendar("refetchEvents")},error:function(t){return alert(t.responseJSON.join("\n")),i()}})}}},t}()}.call(this);var FC=$.fullCalendar,View=FC.View;BasicHourView=FC.views.basicHour=FC.BasicView.extend({renderEvents:function(t){this.dayGrid.renderEvents(t),head='<tr><td class="fc-head-container fc-widget-header">',head+='<div class="fc-row fc-widget-header">',head+="<table><thead><tr>";for(i in[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])head+='<th class="fc-day-header fc-widget-header fc-hour-'+i+'">'+i+"</th>";head+="</tr></thead></table>",head+="</div>",head+="</td></tr>",this.el.find(".fc-head").html(head)}}),BasicHourView.eventRender=function(t,e,o){var i=BasicHourView.eventLeftPosition(t,o),n=BasicHourView.eventRightPosition(t,o),r=n-i;r<1&&(r=1),e.find(".fc-time").remove(),e.css({position:"absolute",top:"2px",width:r.toString()+"%","margin-left":i+"%"})},BasicHourView.eventLeftPosition=function(t,e){if(nums=BasicHourView.datesToNum(t.start,e.start),nums[0]<nums[1])return 0;var o=new Date(t.start._i);return.0694*(60*o.getHours()+o.getMinutes())},BasicHourView.eventRightPosition=function(t,e){if(!t.end)return 1;if(nums=BasicHourView.datesToNum(t.end,e.end),nums[0]==nums[1])return 99.5;var o=new Date(t.end._i);return.0694*(60*o.getHours()+o.getMinutes())},BasicHourView.datesToNum=function(t,e){return num1=1e4*t.year()+100*(t.month()+1)+t.date(),num2=1e4*e.year()+100*(e.month()+1)+e.date(),[num1,num2]};var FC=$.fullCalendar,View=FC.View,ListMonthView=FC.ListMonthView=FC.BasicView.extend({renderEvents:function(t){var e=this.calendar,o=$('<div class="fc-listMonth-view-container"></div>').appendTo(".fc-listMonth-view"),i=$('<div class="fc-listMonth-view-table"></div>');for(var n in t){var r=t[n];if(r.className.indexOf("fc-holiday")==-1){var s=$('<a class="fc-event fc-event-point"></a>').text(r.title);s.css({color:r.textColor,"background-color":r.backgroundColor}),s.bind("click",function(o){var i=$(this).data("eventNo");return e.view.trigger("eventClick",$(this),t[i],o)}).data("eventNo",n);var a=$('<div class="td info"></div>').append(s),l=$('<div class="td date"></div>').text(r.startDateLabel),u=$('<div class="td time"></div>').text(r.startTimeLabel);r.allDay&&u.text(r.allDayLabel),$('<div class="tr"></div>').appendTo(i).append(l).append(u).append(a),i.appendTo(o)}}if(0==$(".fc-event").length){var p=$('<div class="td">'+Gws_Schedule_Calendar.messages.noPlan+"</div>");$('<div class="tr"></div>').appendTo(i).append(p),i.appendTo(o)}}});FC.views.listMonth={"class":ListMonthView,duration:{months:1},defaults:{fixedWeekCount:!1}},function(){this.Gws_Schedule_Multiple_Calendar=function(){function t(){}return t.render=function(t,e,o){var i;return null==e&&(e={}),null==o&&(o={}),i=Gws_Schedule_Calendar.defaultParams(e),e.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.editableParams(e)),e.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.tapMenuParams(e)),$.extend(!0,i,this.defaultParams(e)),$.extend(!0,i,this.contentParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),Gws_Schedule_Calendar.renderInitialize(t,o),$(document).click(function(t){return $(".fc-event").not($(t.target).closest(".fc-event")).find(".fc-popup").remove()})},t.defaultParams=function(){return{defaultView:"basicWeek",header:{left:"today prev next title",right:"basicWeek timelineDay"},slotDuration:"01:00",slotLabelFormat:"H",views:{basicHour:{type:"day",buttonText:"\u65e5",contentHeight:25},timelineDay:{contentHeight:25,minTime:"08:00",maxTime:"22:00"}}}},t.controllerParams=function(){return{header:{left:"today prev next title",right:"basicWeek timelineDay"},eventSources:[],eventAfterAllRender:function(t){if("basicWeek"===t.name)return t.el.find(".fc-body").hide()}}},t.contentParams=function(){return{eventRender:function(t,e,o){if("basicHour"===o.name)return BasicHourView.eventRender(t,e,o)},eventAfterAllRender:function(){}}},t.renderController=function(t,e,o){var i,n;return null==e&&(e={}),null==o&&(o={}),n=Gws_Schedule_Calendar.defaultParams(e),$.extend(!0,n,this.defaultParams(e)),$.extend(!0,n,this.controllerParams(e)),$.extend(!0,n,e),$(t).fullCalendar(n),Gws_Schedule_Calendar.renderInitialize(t,o),i=$(t),i.find(".fc-today-button").click(function(){return $(".calendar.multiple .fc-today-button").click()}),i.find(".fc-prev-button").click(function(){return $(".calendar.multiple .fc-prev-button").click()}),i.find(".fc-next-button").click(function(){return $(".calendar.multiple .fc-next-button").click()}),i.find(".fc-basicWeek-button").click(function(){return $(".calendar.multiple .fc-basicWeek-button").click()}),i.find(".fc-timelineDay-button").click(function(){return $(".calendar.multiple .fc-timelineDay-button").click()}),i.find(".fc-basicHour-button").click(function(){return $(".calendar.multiple .fc-basicHour-button").click()})},t}()}.call(this),function(){this.Gws_Schedule_Plan=function(){function t(){}return t.diffOn=36e5,t.renderForm=function(t){return null==t&&(t={}),$("input.date").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,maxDate:t.maxDate}),$("input.datetime").datetimepicker({lang:"ja",roundTime:"ceil",step:30,maxDate:t.maxDate}),this.relateDateForm(),this.relateDateTimeForm()},t.renderAlldayForm=function(){return this.changeDateForm(),$("#item_allday").change(function(){return t.changeDateValue(),t.changeDateForm()})},t.changeDateValue=function(){var t,e;return $("#item_allday").prop("checked")?($("#item_start_on").val($("#item_start_at").val().replace(/ .*/,"")),$("#item_end_on").val($("#item_end_at").val().replace(/ .*/,""))):(e=$("#item_start_at").val().replace(/.* /,""),t=$("#item_end_at").val().replace(/.* /,""),""===e&&""!==$("#item_start_on").val()&&(e="00:00"),""===t&&""!==$("#item_end_on").val()&&(t="00:00"),$("#item_start_at").val($("#item_start_on").val()+(" "+e)),$("#item_end_at").val($("#item_end_on").val()+(" "+t)))},t.changeDateForm=function(){return $("#item_allday").prop("checked")?($(".dates-field").show(),$(".datetimes-field").hide()):($(".dates-field").hide(),$(".datetimes-field").show())},t.relateDateForm=function(e,o){if(null==e&&(e=".date.start"),null==o&&(o=".date.end"),$(e+", "+o).click(function(){return t.diffOn=t.diffDates($(e).val(),$(o).val())}),$(e).change(function(){var i,n,r;if(r=$(e).val(),r&&(r=new Date(r).getTime(),!isNaN(r)))return i=new Date,i.setTime(r+t.diffOn),n="%d/%02d/%02d",$(e).hasClass("datetime")&&(n="%d/%02d/%02d %02d:%02d"),$(o).val(sprintf(n,i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()))}),""===$(o).val())return $(e).change()},t.relateDateTimeForm=function(){return this.relateDateForm(".datetime.start",".datetime.end")},t.diffDates=function(t,e){var o;return t&&e?(o=new Date(e).getTime()-new Date(t).getTime(),o<0?0:o):36e5},t}()}.call(this),function(){this.Gws_Schedule_Repeat_Plan=function(){function t(){}return t.renderForm=function(){return this.changeRepeatForm(),this.relateDateForm(),$("#item_repeat_type").change(function(){return t.changeRepeatForm()})},t.changeRepeatForm=function(){var t;return t=$("#item_repeat_type").val(),""===t?$(".gws-schedule-repeat").hide():($(".gws-schedule-repeat").show(),$(".repeat-daily, .repeat-weekly, .repeat-monthly").hide(),$(".repeat-"+t).show())},t.relateDateForm=function(){return Gws_Schedule_Plan.relateDateForm(".date.repeat_start",".date.repeat_end")},t.renderSubmitButtons=function(){var t,e,o,i,n,r;return n=$("#main form"),r='<span class="gws-schedule-btn-space"></span>',t=$('<input type="button" class="btn" value="\u4eca\u56de\u306e\u307f" />'),e=$('<input type="button" class="btn" value="\u4ee5\u964d\u3059\u3079\u3066" />'),o=$('<input type="button" class="btn" value="\u4e00\u9023\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3059\u3079\u3066" />'),t.bind("click",function(){return n.append('<input type="hidden" name="item[edit_range]" value="one" />').submit()}),e.bind("click",function(){return n.append('<input type="hidden" name="item[edit_range]" value="later" />').submit()}),o.bind("click",function(){return n.append('<input type="hidden" name="item[edit_range]" value="all" />').submit()}),i=$('<div class="gws-schedule-repeat-submit"></div>'),i.append(t).append(r).append(e).append(r).append(o),$(".send .save, .send .delete").click(function(){if(""!==$("#item_repeat_type").val())return $.colorbox({inline:!0,href:i}),!1})},t}()}.call(this),function(){$(function(){var t;return $("a[href^=http]").not('[href*="'+location.hostname+'"]').attr({target:"_blank"}),t=location.pathname+"/",$(".gws-schedule-tabs a").each(function(){var e;if(e=$(this),t.match(new RegExp("^"+e.attr("href")+"(/|$)")))return e.addClass("current")}),Gws_Member.render()})}.call(this);