Gws_Attendance_Portlet=function(t,e){this.$el=$(t),this.options=e,this.render()},Gws_Attendance_Portlet.prototype.render=function(){var t=this;this.$el.find("button[name=punch]").on("click",function(){t.punch($(this),$(this).closest("tr").data("field-name"))}),this.$el.find("button[name=edit]").on("click",function(){t.edit($(this),$(this).closest("tr").data("field-name"))})},Gws_Attendance_Portlet.prototype.punch=function(t,e){if(t.attr("disabled","disabled"),!confirm(this.options.confirmMessage))return void t.removeAttr("disabled");var o=this.options.punchUrl.replace(":TYPE",e),i=this;$.ajax({url:o,method:"POST",data:{ref:this.options.ref},dataType:"json",success:function(t){alert(i.options.successMessage),location.reload()},error:function(t,e,o){alert(t.responseJSON.join("\n"))},complete:function(){t.removeAttr("disabled")}})},Gws_Attendance_Portlet.prototype.edit=function(t,e){t.attr("disabled","disabled");var o=this.options.editUrl.replace(":TYPE",e);$a=$("<a/>",{href:o}),$a.colorbox({open:!0})};