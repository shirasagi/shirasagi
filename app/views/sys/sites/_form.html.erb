<dl class="see">
  <dt><%= @model.t :name %><%= @model.tt :name %></dt>
  <dd><%= f.text_field :name %></dd>

  <dt><%= @model.t :host %><%= @model.tt :host %></dt>
  <dd><%= f.text_field :host %></dd>

  <dt><%= @model.t :domains %><%= @model.tt :domains %></dt>
  <dd><%= f.text_field :domains %></dd>

  <dt><%= @model.t :subdir %><%= @model.tt :subdir %></dt>
  <dd><%= f.text_field :subdir %></dd>

  <dt><%= @model.t :parent_id %><%= @model.tt :parent_id %></dt>
  <dd><%= f.select :parent_id, SS::Site.all.map { |s| [s.name, s.id] }, include_blank: true %></dd>

  <dt><%= @model.t :https %><%= @model.tt :https %></dt>
  <dd><%= f.select :https, @item.https_options %></dd>

  <dt><%= @model.t :mypage_scheme %><%= @model.tt :mypage_scheme %></dt>
  <dd><%= f.select :mypage_scheme, @item.mypage_scheme_options %></dd>

  <dt><%= @model.t :mypage_domain %><%= @model.tt :mypage_domain %></dt>
  <dd><%= f.text_field :mypage_domain %></dd>

  <dt><%= @model.t :group_ids %><%= @model.tt :group_ids %></dt>
  <dd>
    <%= f.hidden_field "group_ids[]", value: "", class: "hidden-ids" %>
    <%= link_to t("ss.apis.groups.index"), sys_apis_groups_path, class: "ajax-box" %>
  </dd>
  <dd>
    <table class="index ajax-selected">
      <thead>
        <tr>
          <th class="name"><%= Sys::Group.t :name %></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @item.groups.each do |group| %>
          <tr data-id="<%= group.id %>">
            <td><%= f.hidden_field "group_ids[]", value: group.id %> <%= group.name %></td>
            <td><%= link_to t("ss.buttons.delete"), "#", class: "deselect btn" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </dd>
</dl>

<dl class="see">
  <dt><%= @model.t :partner_site_ids %><%= @model.tt :partner_site_ids %></dt>
  <dd>
    <%= f.hidden_field "partner_site_ids[]", value: "", class: "hidden-ids" %>
    <%= link_to t("sys.apis.sites.index"), sys_apis_sites_path, class: "ajax-box" %>
  </dd>
  <dd>
    <table class="index ajax-selected">
      <thead>
      <tr>
        <th class="name"><%= SS::Site.t :name %></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <% @item.partner_sites.each do |site| %>
        <tr data-id="<%= site.id %>">
          <td><%= f.hidden_field "partner_site_ids[]", value: site.id %> <%= site.name %></td>
          <td><%= link_to t("ss.buttons.delete"), "#", class: "deselect btn" %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </dd>

  <% if SS.config.ss.upload_policy.present? %>
  <dt><%= @model.t :upload_policy %><%= @model.tt :upload_policy %></dt>
  <dd><%= f.select :upload_policy, @item.upload_policy_options %></dd>
  <% end %>

  <dt><%= @model.t :maint_mode %><%= @model.tt :maint_mode %></dt>
  <dd><%= f.select :maint_mode, @item.maint_mode_options %></dd>
</dl>

<dl class="see maint-mode">
  <dt><%= @model.t :maint_remarks %><%= @model.tt :maint_remarks%></dt>
  <dd><%= f.text_area :maint_remarks %></dd>

  <dt><%= @model.t :maint_excluded_user_ids %><%= @model.tt :maint_excluded_user_ids %></dt>
  <dd>
    <%= f.hidden_field "maint_excluded_user_ids[]", value: "", class: "hidden-ids" %>
    <%= link_to t("ss.apis.users.index"), sys_apis_users_path, class: "ajax-box" %>
  </dd>
  <dd>
    <table class="index ajax-selected">
      <thead>
      <tr>
        <th class="name"><%= SS::Site.t :name %></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <% @item.maint_excluded_users.each do |user| %>
        <tr data-id="<%= user.id %>">
          <td><%= f.hidden_field "maint_excluded_user_ids[]", value: user.id %> <%= user.name %></td>
          <td><%= link_to t("ss.buttons.delete"), "#", class: "deselect btn" %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </dd>
</dl>

<%= jquery do %>
  var maintModeVal = $('#item_maint_mode').val();
  if (maintModeVal === "disabled") {
    $('.maint-mode').hide();
  }
  $('#item_maint_mode').on('change', function() {
    $('.maint-mode').toggle();
  });
<% end %>
