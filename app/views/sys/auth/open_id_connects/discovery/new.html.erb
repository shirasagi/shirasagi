<% addons = @item ? @item.class.addons : [] %>

<%= form_for :item, url: { action: :create }, html: { id: "item-form", multipart: true, autocomplete: :off } do |f| %>
  <%= error_messages_for :item %>

  <div class="addon-views">
    <div class="addon-view" id="addon-basic">
      <% if addons.size > 0 %><div class="addon-head"><h2><%= t :basic_info %></h2></div><% end %>
      <div class="addon-body">
        <%= render file: '_form', locals: { f: f } %>
      </div>
    </div>
    <%# render file: "_addons_form", locals: { f: f, addons: addons } if addons.size > 0 %>
    <div class="addon-view" id="addon-sys-agents-addons-saml_setting">
      <div class="addon-head toggle-head"><h2><%= I18n.t "modules.addons.sys/open_id_connect_setting" %></h2></div>
      <div class="addon-body toggle-body">
        <%= render partial: 'load_discovery', locals: { f: f, a: 1 } %>
      </div>
    </div>
  </div>

  <footer class="send">
    <%= f.submit t("views.button.save"), class: 'btn-primary save' %>
    <%= f.button t("views.button.cancel"), class: 'btn-default', type: :reset, onclick: "location.href='#{sys_auth_open_id_connects_path}'; return false;" %>
  </footer>
<% end %>

<%= jquery do %> SS.confirmUnloading(); <% end %>
