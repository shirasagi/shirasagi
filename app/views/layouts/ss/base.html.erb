<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes,minimum-scale=1.0,maximum-scale=2.0" />
<%
  if ss_window_name.present?
    title = "#{ss_window_name} | #{SS.config.ss.application_name}"
  else
    title = SS.config.ss.application_name
  end
%>
<title><%= title %></title>
<%= safe_join controller.stylesheets.map { |path| stylesheet_link_tag(path, media: "all") }, "\n" %>
<%= safe_join controller.javascripts.map { |path| javascript_include_tag(path) }, "\n" %>
<!--[if lt IE 9]>
<script src="/assets/js/html5.js"></script>
<script src="/assets/js/selectivizr-min.js"></script>
<![endif]-->
<%= csrf_meta_tags %>
</head>
<body>
  <div id="page">
    <%# head %>
    <%= yield(:head).presence || render(partial: "ss/main/head") %>

    <%# navi %>
    <%
      navi = nil
      if ::File.exists?("#{Rails.root}/app/views/#{params[:controller]}/_navi.html.erb")
        navi = "#{params[:controller]}/navi.html.erb"
      elsif controller.navi_view_file
        navi = controller.navi_view_file
      end
    %>
    <% if navi %>
      <div id="navi">
        <div class="wrap">
          <%= render partial: navi %>
        </div>
      </div>
    <% end %>

    <%# content_head %>
    <%= yield(:content_head).presence || render(partial: "ss/main/content_head") %>

    <%# notice %>
    <%= yield(:notice).presence || render(partial: "ss/main/notice") %>

    <%= yield %>

    <%# foot %>
    <%= yield(:foot).presence || render(partial: "ss/main/foot") %>
  </div>
</body>
</html>
