<div class="main-box">
  <div>
    <%=
      current_notice = (@item.data[:updated] || @item.created).try { |updated| "(#{ss_time_tag(updated, format: :picker)})".html_safe }
      latest_notice = @data[:updated].try { |updated| "(#{ss_time_tag(updated, format: :picker)})".html_safe }
      t("history.compare_backup_notice_html", current_notice: current_notice, latest_notice: latest_notice)
    %>
  </div>
  <table class="see index history-backup">
    <tbody>
    <% @item.data.sort.each do |k, v| %>
      <%
        if @item.ref_item
          field_name = @item.ref_item.class.t(k)
        else
          field_name = k
        end
      %>
      <tr data-id="<%= k %>">
        <th><%= field_name %></th>
        <td class="<%= 'diff' if @data[k] != v %>">
          <%= v.present? ? v.inspect : "" %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
