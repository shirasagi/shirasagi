<%
  manageable = @item.allowed?(:edit, @cur_user, site: @cur_site)

  model = Cms::MaxFileSize
  items = model.site(@cur_site).node(@item)

  return if !manageable && items.blank?
%>

<dl class="see mod-max-file-size-setting">
  <% if manageable %>
    <dd class="wide" style="margin-bottom: 5px;">
      <%= link_to t("cms.add_max_file_size"), node_max_file_sizes_path(cid: @item.id) %>
      <%= @model.tt :max_file_size_setting %>
    </dd>
  <% end %>

  <% if items.present? %>
  <dd class="wide">
    <table class="index">
      <thead>
        <tr>
          <th><%= model.t :name %></th>
          <th><%= model.t :extensions %></th>
          <th><%= model.t :size %></th>
          <th><%= model.t :state %></th>
        </tr>
      </thead>
      <tbody>
        <% items.each do |item| %>
          <tr>
            <td><%= item.name %></td>
            <td><%= item.extensions %></td>
            <td><%= number_to_human_size(item.size) %></td>
            <td><%= item.label :state %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </dd>
  <% end %>
</dl>
