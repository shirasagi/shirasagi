class @Gws_Memo_Message
  @render: ->
    $(".list-head .search").on "click", ->
      $('.webmail-mail-search').animate({ height: 'toggle' }, 'fast')

    $(".webmail-mail-search .reset").on "click", ->
      $(".webmail-mail-search input[type=text]").val("")
      $(".webmail-mail-search .search").click()

  @buildForm: (action, confirm)->
    checked = $(".list-item input:checkbox:checked").map ->
      $(this).val()
    return false if checked.length == 0
    token = $('meta[name="csrf-token"]').attr('content')
    form = $("<form/>", action: action, method: "post", data: {confirm: confirm})
    form.append($("<input/>", name: "authenticity_token", value: token, type: "hidden"))
    for id in checked
      form.append($("<input/>", name: "ids[]", value: id, type: "hidden"))
    form
