#= require moment
#= require sprintf
#= require fullcalendar
#= require fullcalendar/gcal
#= require fullcalendar/lang/ja
#= require fullcalendar-scheduler/scheduler.min.js
#= require gridster/jquery.gridster.min.js
#= require gws/lib/popup
#= require gws/lib/member
#= require gws/lib/reminder
#= require gws/schedule/lib/view
#= require gws/schedule/lib/calendar
#= require gws/schedule/lib/calendar_basic_hour_view
#= require gws/schedule/lib/calendar_list_month_view
#= require gws/schedule/lib/multiple_calendar
#= require gws/schedule/lib/plan
#= require gws/schedule/lib/repeat_plan
#= require gws/schedule/lib/todo
#= require gws/circular/topic
#= require gws/memo/message
#= require gws/monitor/lib/monitor
#= require gws/monitor/lib/view
#= require gws/portal/lib/portal
#= require gws/portal/lib/portlet/link

$ ->
  # external link
  $('a[href^=http]').not('[href*="'+location.hostname+'"]').attr({ target: '_blank' })

  # tabs
  path = location.pathname + "/"
  $(".gws-schedule-tabs a").each ->
    menu = $(this)
    menu.addClass("current") if path.match(new RegExp('^' + menu.attr('href') + '(\/|$)'))

  $(".gws-monitor-tabs a").each ->
    menu = $(this)
    menu.addClass("current") if path.match(new RegExp('^' + menu.attr('href') + '(\/|$)'))

  Gws_Member.render()

